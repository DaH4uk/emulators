<html>
<head>
<link rel="shortcut icon" href="./icon/icon.ico" type="image/x-icon">
<link rel="shortcut icon" href="./icon/icon.ico" type="image/x-icon">
<SCRIPT language=Javascript src="tcpipwan.htm"></SCRIPT>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta HTTP-equiv="Cache-Control" content="no-cache">
<meta HTTP-EQUIV="Expires" CONTENT="Mon, 01 Jan 1990 00:00:01 GMT">
<script type="text/javascript" src="language_ru.js"></script>
<title>WAN Interface Setup </title>
<link href="style.css" tppabs="http://192.168.10.1/style.css" rel="stylesheet" type="text/css">
<style>
.on {display:on}
.off {display:none}
</style>
<script type="text/javascript" src="util_gw.js" tppabs="http://192.168.10.1/util_gw.js"> </script>
<SCRIPT>
var initialDnsMode, pppConnectStatus=0;
var ppp2ConnectStatus=0,ppp3ConnectStatus=0,ppp4ConnectStatus=0;
var MultiPppoeEnable= 0;
var wan_connection_type=0;
var dynamicWanIP=1;

function setPPPConnected()
{
   pppConnectStatus = 1;
}
function setPPP2Connected()
{
   ppp2ConnectStatus = 1;
}

function setPPP3Connected()
{
   ppp3ConnectStatus = 1;
}

function setPPP4Connected()
{
   ppp4ConnectStatus = 1;
}
function resetClicked()
{
   if(document.tcpip.wanType.selectedIndex != 0){
	   if(document.tcpip.dnsMode[0].checked)
	      disableDNSinput();
	   else
	      enableDNSinput();
   }

   document.tcpip.reset;

	location=location;
}

function disableDNSinput()
{
   disableTextField(document.tcpip.dns1);
   disableTextField(document.tcpip.dns2);
   disableTextField(document.tcpip.dns3);
}

function enableDNSinput()
{
   enableTextField(document.tcpip.dns1);
   enableTextField(document.tcpip.dns2);
   enableTextField(document.tcpip.dns3);
}

function autoDNSclicked()
{
  disableDNSinput();
}

function manualDNSclicked()
{
  enableDNSinput();
}
function pptpConnectClick(connect)
{
  if (document.tcpip.pptpConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
      if (document.tcpip.pptpUserName.value=="") {
          alert('PPTP user name cannot be empty!');
	  document.tcpip.pptpUserName.value = document.tcpip.pptpUserName.defaultValue;
	  document.tcpip.pptpUserName.focus();
	  return false;
      }
      if (document.tcpip.pptpPassword.value=="") {
          alert('PPTP password cannot be empty!');
	  document.tcpip.pptpPassword.value = document.tcpip.pptpPassword.defaultValue;
	  document.tcpip.pptpPassword.focus();
	  return false;
      }
      return true;
  }
  return false;
}
function l2tpConnectClick(connect)
{
  if (document.tcpip.l2tpConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
      if (document.tcpip.l2tpUserName.value=="") {
          alert('L2TP user name cannot be empty!');
	  document.tcpip.l2tpUserName.value = document.tcpip.l2tpUserName.defaultValue;
	  document.tcpip.l2tpUserName.focus();
	  return false;
      }
      if (document.tcpip.l2tpPassword.value=="") {
          alert('L2TP password cannot be empty!');
	  document.tcpip.l2tpPassword.value = document.tcpip.l2tpPassword.defaultValue;
	  document.tcpip.l2tpPassword.focus();
	  return false;
      }
      return true;
  }
  return false;
}
function USB3GConnectClick(connect)
{
    if (document.tcpip.USB3GConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
        return true;
    }
    return false;
}
function pppConnectClick(connect)
{
  if (document.tcpip.pppConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
      if (document.tcpip.pppUserName.value=="") {
          alert('PPP user name cannot be empty!');
	  document.tcpip.pppUserName.value = document.tcpip.pppUserName.defaultValue;
	  document.tcpip.pppUserName.focus();
	  return false;
      }
      if (document.tcpip.pppPassword.value=="") {
          alert('PPP password cannot be empty!');
	  document.tcpip.pppPassword.value = document.tcpip.pppPassword.defaultValue;
	  document.tcpip.pppPassword.focus();
	  return false;
      }
      return true;
  }
  return false;
}
//dzh add
function pppConnectClick2(connect)
{
  if (document.tcpip.pppConnectType2.selectedIndex == 2 && ppp2ConnectStatus==connect) {
      if (document.tcpip.pppUserName2.value=="") {
          alert('PPP user name cannot be empty!');
	  document.tcpip.pppUserName2.value = document.tcpip.pppUserName2.defaultValue;
	  document.tcpip.pppUserName2.focus();
	  return false;
      }
      if (document.tcpip.pppPassword2.value=="") {
          alert('PPP password cannot be empty!');
	  document.tcpip.pppPassword2.value = document.tcpip.pppPassword2.defaultValue;
	  document.tcpip.pppPassword2.focus();
	  return false;
      }
      return true;
  }
  return false;
}

function pppConnectClick3(connect)
{
  if (document.tcpip.pppConnectType3.selectedIndex == 2 && ppp3ConnectStatus==connect) {
      if (document.tcpip.pppUserName3.value=="") {
          alert('PPP user name cannot be empty!');
	  document.tcpip.pppUserName3.value = document.tcpip.pppUserName3.defaultValue;
	  document.tcpip.pppUserName3.focus();
	  return false;
      }
      if (document.tcpip.pppPassword3.value=="") {
          alert('PPP password cannot be empty!');
	  document.tcpip.pppPassword3.value = document.tcpip.pppPassword3.defaultValue;
	  document.tcpip.pppPassword3.focus();
	  return false;
      }
      return true;
  }
  return false;
}

function pppConnectClick4(connect)
{
  if (document.tcpip.pppConnectType4.selectedIndex == 2 && ppp4ConnectStatus==connect) {
      if (document.tcpip.pppUserName4.value=="") {
          alert('PPP user name cannot be empty!');
	  document.tcpip.pppUserName4.value = document.tcpip.pppUserName4.defaultValue;
	  document.tcpip.pppUserName4.focus();
	  return false;
      }
      if (document.tcpip.pppPassword4.value=="") {
          alert('PPP password cannot be empty!');
	  document.tcpip.pppPassword4.value = document.tcpip.pppPassword4.defaultValue;
	  document.tcpip.pppPassword4.focus();
	  return false;
      }
      return true;
  }
  return false;
}
//End
function pppConnection_Init()
{
	disableButton(document.tcpip.pppConnect);
	disableButton(document.tcpip.pppDisconnect);
	disableTextField(document.tcpip.pppIdleTime);
	disableButton(document.tcpip.pptpConnect);
	disableButton(document.tcpip.pptpDisconnect);
	disableTextField(document.tcpip.pptpIdleTime);
//for dynamic wan IP
	disableTextField(document.tcpip.pptpIpAddr);
	disableTextField(document.tcpip.pptpSubnetMask);
	disableTextField(document.tcpip.pptpDefGw);
//end	
	disableButton(document.tcpip.l2tpConnect);
	disableButton(document.tcpip.l2tpDisconnect);
	disableTextField(document.tcpip.l2tpIdleTime);
//for dynamic wan IP
	disableTextField(document.tcpip.l2tpIpAddr);
	disableTextField(document.tcpip.l2tpSubnetMask);
	disableTextField(document.tcpip.l2tpDefGw);
//end
    /* USB3G */
    disableButton(document.tcpip.USB3GConnect);
    disableButton(document.tcpip.USB3GDisconnect);
    disableTextField(document.tcpip.USB3GIdleTime);
}
function pppTypeSelection(wan_type)
{
	if(wan_type == 0){
		  if ( document.tcpip.pppConnectType.selectedIndex == 2) {
		  	if (pppConnectStatus==0) {
		  		enableButton(document.tcpip.pppConnect);
				disableButton(document.tcpip.pppDisconnect);
			}
			else {
		 		disableButton(document.tcpip.pppConnect);
				enableButton(document.tcpip.pppDisconnect);
			}
			disableTextField(document.tcpip.pppIdleTime);
		  }
		  else {
			disableButton(document.tcpip.pppConnect);
			disableButton(document.tcpip.pppDisconnect);
			if (document.tcpip.pppConnectType.selectedIndex == 1)
				enableTextField(document.tcpip.pppIdleTime);
			else
				disableTextField(document.tcpip.pppIdleTime);
		  }

		  ////////////////////////////////////////////////////////
		  if ( document.tcpip.pppConnectType2.selectedIndex == 2) {
		  	if (ppp2ConnectStatus==0) {
		  		enableButton(document.tcpip.pppConnect2);
				disableButton(document.tcpip.pppDisconnect2);
			}
			else {
		 		disableButton(document.tcpip.pppConnect2);
				enableButton(document.tcpip.pppDisconnect2);
			}
			disableTextField(document.tcpip.pppIdleTime2);
		  }
		  else {
			disableButton(document.tcpip.pppConnect2);
			disableButton(document.tcpip.pppDisconnect2);
			if (document.tcpip.pppConnectType2.selectedIndex == 1)
				enableTextField(document.tcpip.pppIdleTime2);
			else
				disableTextField(document.tcpip.pppIdleTime2);
		  }		  
		  ////////////////////////////////////////////////////////
		  if ( document.tcpip.pppConnectType3.selectedIndex == 2) {
		  	if (ppp3ConnectStatus==0) {
		  		enableButton(document.tcpip.pppConnect3);
				disableButton(document.tcpip.pppDisconnect3);
			}
			else {
		 		disableButton(document.tcpip.pppConnect3);
				enableButton(document.tcpip.pppDisconnect3);
			}
			disableTextField(document.tcpip.pppIdleTime3);
		  }
		  else {
			disableButton(document.tcpip.pppConnect3);
			disableButton(document.tcpip.pppDisconnect3);
			if (document.tcpip.pppConnectType3.selectedIndex == 1)
				enableTextField(document.tcpip.pppIdleTime3);
			else
				disableTextField(document.tcpip.pppIdleTime3);
		  }			  
		  ////////////////////////////////////////////////////////		  
		  if ( document.tcpip.pppConnectType4.selectedIndex == 2) {
		  	if (ppp4ConnectStatus==0) {
		  		enableButton(document.tcpip.pppConnect4);
				disableButton(document.tcpip.pppDisconnect4);
			}
			else {
		 		disableButton(document.tcpip.pppConnect4);
				enableButton(document.tcpip.pppDisconnect4);
			}
			disableTextField(document.tcpip.pppIdleTime4);
		  }
		  else {
			disableButton(document.tcpip.pppConnect4);
			disableButton(document.tcpip.pppDisconnect4);
			if (document.tcpip.pppConnectType4.selectedIndex == 1)
				enableTextField(document.tcpip.pppIdleTime4);
			else
				disableTextField(document.tcpip.pppIdleTime4);
		  }	
	  
	}
	if(wan_type == 1){
//for dynamic wan IP
		if(document.tcpip.wan_pptp_use_dynamic_carrier_radio[0].checked == true){	//Use dynamic wan ip
			disableTextField(document.tcpip.pptpIpAddr);
			disableTextField(document.tcpip.pptpSubnetMask);
			disableTextField(document.tcpip.pptpDefGw);
		}
		else{	//Use static wan ip
			enableTextField(document.tcpip.pptpIpAddr);
			enableTextField(document.tcpip.pptpSubnetMask);
			enableTextField(document.tcpip.pptpDefGw);
		}

//end
		  if ( document.tcpip.pptpConnectType.selectedIndex == 2) {
		  	if (pppConnectStatus==0) {
		  		enableButton(document.tcpip.pptpConnect);
				disableButton(document.tcpip.pptpDisconnect);
			}
			else {
		 		disableButton(document.tcpip.pptpConnect);
				enableButton(document.tcpip.pptpDisconnect);
			}
			disableTextField(document.tcpip.pptpIdleTime);
		  }
		  else {
			disableButton(document.tcpip.pptpConnect);
			disableButton(document.tcpip.pptpDisconnect);
			if (document.tcpip.pptpConnectType.selectedIndex == 1)
				enableTextField(document.tcpip.pptpIdleTime);
			else
				disableTextField(document.tcpip.pptpIdleTime);
		  }
	}
	if(wan_type == 2){
	//for dynamic wan IP
		if(document.tcpip.wan_l2tp_use_dynamic_carrier_radio[0].checked == true){	//Use dynamic wan ip
			disableTextField(document.tcpip.l2tpIpAddr);
			disableTextField(document.tcpip.l2tpSubnetMask);
			disableTextField(document.tcpip.l2tpDefGw);
		}
		else{	//Use static wan ip
			enableTextField(document.tcpip.l2tpIpAddr);
			enableTextField(document.tcpip.l2tpSubnetMask);
			enableTextField(document.tcpip.l2tpDefGw);
		}
	//end
		
		  if ( document.tcpip.l2tpConnectType.selectedIndex == 2) {
		  	if (pppConnectStatus==0) {
		  		enableButton(document.tcpip.l2tpConnect);
				disableButton(document.tcpip.l2tpDisconnect);
			}
			else {
		 		disableButton(document.tcpip.l2tpConnect);
				enableButton(document.tcpip.l2tpDisconnect);
			}
			disableTextField(document.tcpip.l2tpIdleTime);
		  }
		  else {
			disableButton(document.tcpip.l2tpConnect);
			disableButton(document.tcpip.l2tpDisconnect);
			if (document.tcpip.l2tpConnectType.selectedIndex == 1)
				enableTextField(document.tcpip.l2tpIdleTime);
			else
				disableTextField(document.tcpip.l2tpIdleTime);
		  }
	}
	/* USB3G connect type */
    if(wan_type == 3){
          if ( document.tcpip.USB3GConnectType.selectedIndex == 2) {
            if (pppConnectStatus==0) {
                enableButton(document.tcpip.USB3GConnect);
                disableButton(document.tcpip.USB3GDisconnect);
            }
            else {
                disableButton(document.tcpip.USB3GConnect);
                enableButton(document.tcpip.USB3GDisconnect);
            }
            disableTextField(document.tcpip.USB3GIdleTime);
          }
          else {
            disableButton(document.tcpip.USB3GConnect);
            disableButton(document.tcpip.USB3GDisconnect);
            if (document.tcpip.USB3GConnectType.selectedIndex == 1)
                enableTextField(document.tcpip.USB3GIdleTime);
            else
                disableTextField(document.tcpip.USB3GIdleTime);
          }
    }
}

function DisableAllPPPoE()
{		

		show_div(0,"multiPppoeSelect_div");		
		show_div(0,"pppoe_div_display");		
		//first		
		show_div(0,"pppoe_div");			
		

		//second
		show_div(0,"pppoe2_div");

		//third
		show_div(0,"pppoe3_div");	
	
		//forth
		show_div(0,"pppoe4_div");	
		
}		
function pppoeNoSelection(field)
{
	DisableAllPPPoE();
	show_div(1,"multiPppoeSelect_div");
	show_div(1,"pppoe_div_display");	//the first head


	if(field.selectedIndex >= 0)
	{
		show_div(1,"pppoe_div");		
			
	}
	if(field.selectedIndex >= 1)
	{
		show_div(1,"pppoe2_div");
		
	}	
	if(field.selectedIndex >= 2)
	{
		show_div(1,"pppoe3_div");
	
	}
	if(field.selectedIndex >= 3)		
	{
		show_div(1,"pppoe4_div");
		
	}
}
function wanTypeSelection(field)
{
  //dzh   	
  DisableAllPPPoE();
  //dzh 
  //document.tcpip.submit();
  if(!document.getElementById){
  	alert('Error! Your browser must have CSS support !');
  	return;
  }
  
  /* # keith: add l2tp support. 20080515 */
  if(field.selectedIndex == 0){	//static ip
  	wanShowDiv(0 ,1, 1, 0, 1, 0, 0); //pptp, dns, dnsMode, pppoe, static (div), l2tp, USB3G
	enableDNSinput();	
	document.tcpip.dnsMode[1].checked = true ; // dns change to manual mode
  }
  else if(field.selectedIndex == 1){ //Dhcp
  	wanShowDiv(0 ,1, 1, 0, 0, 0, 0);   
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();	

  }else if(field.selectedIndex == 2){ //pppoe

  	if(MultiPppoeEnable == 1)
  	{
		pppoeNoSelection(document.tcpip.pppoeNumber);

  	}

  	wanShowDiv(0 ,1, 1, 1, 0, 0, 0); 

	if(MultiPppoeEnable == 0)	//old mode
	{
		show_div(0,"pppoe_div_display");
		show_div(0,"firstSubNet");
		show_div(0,"pppoe_div_subnet1");
	}

	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
  }else if(field.selectedIndex == 3){ //pptp
  	wanShowDiv(1, 1, 1, 0, 0, 0, 0); 
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	if(document.tcpip.wan_pptp_use_dynamic_carrier_radio[1].checked)
	{
		document.tcpip.elements["dnsMode"][0].disabled = true;
		document.tcpip.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
	else
		document.tcpip.elements["dnsMode"][0].disabled = false;
  }else if(field.selectedIndex == 4){ //l2tp
  	wanShowDiv(0, 1, 1, 0, 0, 1, 0); 
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();	
	if(document.tcpip.wan_l2tp_use_dynamic_carrier_radio[1].checked)
	{
		document.tcpip.elements["dnsMode"][0].disabled = true;
		document.tcpip.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
	else
		document.tcpip.elements["dnsMode"][0].disabled = false;
  }else if(field.selectedIndex == 5){ //USB3G
  	wanShowDiv(0, 1, 1, 0, 0, 0, 1);
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();	
  }
  wan_connection_type=document.tcpip.wanType.selectedIndex;
   if(wan_connection_type == 2)
   		pppTypeSelection(0);
   	else if(wan_connection_type == 3)
   		pppTypeSelection(1);
   	else if(wan_connection_type == 4)
   		pppTypeSelection(2);
   	else if(wan_connection_type == 5) //USB3G
 		pppTypeSelection(3);
   	else
   		pppConnection_Init();
}

function checkSubnet(ip, mask, client)
{
  ip_d = getDigit(ip, 1);
  mask_d = getDigit(mask, 1);
  client_d = getDigit(client, 1);
  if ( (ip_d & mask_d) != (client_d & mask_d ) )
	return false;

  ip_d = getDigit(ip, 2);
  mask_d = getDigit(mask, 2);
  client_d = getDigit(client, 2);
  if ( (ip_d & mask_d) != (client_d & mask_d ) )
	return false;

  ip_d = getDigit(ip, 3);
  mask_d = getDigit(mask, 3);
  client_d = getDigit(client, 3);
  if ( (ip_d & mask_d) != (client_d & mask_d ) )
	return false;

  ip_d = getDigit(ip, 4);
  mask_d = getDigit(mask, 4);
  client_d = getDigit(client, 4);
  if ( (ip_d & mask_d) != (client_d & mask_d ) )
	return false;

  return true;
}

function checkDynamicDfGw(form , MultiPppoeFlag)
{
	if(wan_connection_type == 3) //pptp
	{
		if(form.pptpDefGw.disabled == false)
		{
			if ( !checkSubnet(form.pptpIpAddr.value,form.pptpSubnetMask.value,form.pptpDefGw.value)) {
			  alert('Invalid pptp default gateway IP address!\nIt should be located in the same subnet of local IP address.');
			  form.pptpDefGw.value = form.pptpDefGw.defaultValue;
			  form.pptpDefGw.focus();
			  return false;
			}
		}	
	}
	else if(wan_connection_type == 4)
	{
		if(form.l2tpDefGw.disabled == false)
		{
			if ( !checkSubnet(form.pptpIpAddr.value,form.pptpSubnetMask.value,form.l2tpDefGw.value)) {
			  alert('Invalid pptp default gateway IP address!\nIt should be located in the same subnet of local IP address.');
			  form.l2tpDefGw.value = form.l2tpDefGw.defaultValue;
			  form.l2tpDefGw.focus();
			  return false;
			}
		}	
	}
}

function Load_Setting()
{
	var wanDhcp_ = 6;
	var wanDhcp_selidx = 0;
	var dF=document.tcpip;
	
	if ( wanDhcp_ == 0 )
		wanDhcp_selidx = 0;
	else if ( wanDhcp_ == 1 )
		wanDhcp_selidx = 1;
	else if ( wanDhcp_ == 3 )
		wanDhcp_selidx = 2;
	else if ( wanDhcp_ == 4 )
		wanDhcp_selidx = 3;
	else if ( wanDhcp_ == 6 )
		wanDhcp_selidx = 4;

	else if ( wanDhcp_ == 16 )
		wanDhcp_selidx = 5;

	document.tcpip.wanType.selectedIndex = wanDhcp_selidx;
	wanTypeSelection(document.tcpip.wanType);

//	if ( 0 == 0) {
//		document.tcpip.elements["dnsMode"][0].checked = true;
//		autoDNSclicked();
//	}
	
//	if ( 0 == 1) {
//		document.tcpip.elements["dnsMode"][1].checked = true;
//		manualDNSclicked();
//	}

	if ( 0 )
		document.tcpip.upnpEnabled.checked = true;

	if ( 0 == 0 )
		document.tcpip.igmpproxyEnabled.checked = true;

	if ( 0 )
		document.tcpip.pingWanAccess.checked = true;

	if ( 0 )
		document.tcpip.webWanAccess.checked = true;

	if ( 1 )
		document.tcpip.WANPassThru1.checked = true;

	if ( 1 )
		document.tcpip.WANPassThru2.checked = true;

	if ( 1 )
		document.tcpip.WANPassThru3.checked = true;

	if ( 0 )
		document.tcpip.ipv6_passthru_enabled.checked = true;

	if (0)
		document.tcpip.pptpSecurity.checked = true;

	if (0)
		document.tcpip.pptpCompress.checked = true;

	//for dynamic wan IP
	if(0)
	{//static ip
		dF.wan_pptp_use_dynamic_carrier_radio[1].checked = true;
		dF.pptpIpAddr.disabled = false;
		dF.pptpSubnetMask.disabled = false;
		dF.pptpDefGw.disabled = false;
		dF.elements["dnsMode"][0].disabled = true;
		dF.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
	else
	{
		dF.wan_pptp_use_dynamic_carrier_radio[0].checked = true;
		dF.pptpIpAddr.disabled = true;
		dF.pptpSubnetMask.disabled = true;
		dF.pptpDefGw.disabled = true;
		dF.elements["dnsMode"][0].disabled = false;
	}

	if(0)
	{//static ip
		dF.wan_l2tp_use_dynamic_carrier_radio[1].checked = true;
		dF.l2tpIpAddr.disabled = false;
		dF.l2tpSubnetMask.disabled = false;
		dF.l2tpDefGw.disabled = false;
		dF.elements["dnsMode"][0].disabled = true;
		dF.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
	else
	{
		dF.wan_l2tp_use_dynamic_carrier_radio[0].checked = true;
		dF.l2tpIpAddr.disabled = true;
		dF.l2tpSubnetMask.disabled = true;
		dF.l2tpDefGw.disabled = true;
		dF.elements["dnsMode"][0].disabled = false;
	}
	
	if ( 0 == 0) {		
		document.tcpip.elements["dnsMode"][0].checked = true;
		document.tcpip.elements["dnsMode"][0].disabled="";
		autoDNSclicked();
	}
	
	if ( 0 == 1) {
		document.tcpip.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
	//end
	if(1)
	{
		if(0)
		{
			dF.pptpGetServMode[0].checked = true;
			pptpGetServByDomainNameClicked();
		}else
		{
			dF.pptpGetServMode[1].checked = true;
			pptpGetServByIpClicked();
		}
		
		if(1)
		{
			dF.l2tpGetServMode[0].checked = true;
			l2tpGetServByDomainNameClicked();
		}else
		{
			dF.l2tpGetServMode[1].checked = true;
			l2tpGetServByIpClicked();
		}
	}

initTranslate();

}

//for dynamic wan IP
function wan_pptp_use_dynamic_carrier_selector(index, mode){
	var dF=document.tcpip;

	if(mode == "dynamicIP") {
		dF.wan_pptp_use_dynamic_carrier_radio[index].checked = true;
		dF.pptpIpAddr.disabled = true;
		dF.pptpSubnetMask.disabled = true;
		dF.pptpDefGw.disabled = true;
		dynamicWanIP = 1;
		
		dF.elements["dnsMode"][0].disabled = false;
	} else {
		dF.wan_pptp_use_dynamic_carrier_radio[index].checked = true;
		dF.pptpIpAddr.disabled = false;
		dF.pptpSubnetMask.disabled = false;
		dF.pptpDefGw.disabled = false;
		dynamicWanIP = 0;
		
		dF.elements["dnsMode"][0].disabled = true;
		dF.elements["dnsMode"][1].checked = true;
		manualDNSclicked();	
	}
}
function pptpGetServByIpClicked()
{
	disableTextField(document.tcpip.pptpServerDomainName);
	enableTextField(document.tcpip.pptpServerIpAddr);
}
function pptpGetServByDomainNameClicked()
{
	disableTextField(document.tcpip.pptpServerIpAddr);
	enableTextField(document.tcpip.pptpServerDomainName);
}
function l2tpGetServByIpClicked()
{
	disableTextField(document.tcpip.l2tpServerDomainName);
	enableTextField(document.tcpip.l2tpServerIpAddr);
}
function l2tpGetServByDomainNameClicked()
{
	disableTextField(document.tcpip.l2tpServerIpAddr);
	enableTextField(document.tcpip.l2tpServerDomainName);
}
function wan_l2tp_use_dynamic_carrier_selector(index, mode){
	var dF=document.tcpip;

	if(mode == "dynamicIP") {
		dF.wan_l2tp_use_dynamic_carrier_radio[index].checked = true;
		dF.l2tpIpAddr.disabled = true;
		dF.l2tpSubnetMask.disabled = true;
		dF.l2tpDefGw.disabled = true;
		dynamicWanIP = 1;
		dF.elements["dnsMode"][0].disabled = false;
	} else {
		dF.wan_l2tp_use_dynamic_carrier_radio[index].checked = true;
		dF.l2tpIpAddr.disabled = false;
		dF.l2tpSubnetMask.disabled = false;
		dF.l2tpDefGw.disabled = false;
		dynamicWanIP = 0;
		dF.elements["dnsMode"][0].disabled = true;
		dF.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
}

function initTranslate()
{

	var tr = document.getElementById("wan_title");
	tr.innerHTML = tcpip_wan_header;
	var tr = document.getElementById("wan_title2");
	tr.innerHTML = tcpip_wan_header;
	tr = document.getElementById("wan_intro");
	tr.innerHTML = tcpip_wan_explain; 
	tr = document.getElementById("wan_wantype");
	tr.innerHTML = tcpip_wan_access_type;
	tr = document.getElementById("wan_type_static");
	tr.innerHTML = tcpip_wan_type_static_ip;
	tr = document.getElementById("wan_type_dhcp");
	tr.innerHTML = tcpip_wan_type_client;
	tr = document.getElementById("wan_hostname");
	tr.innerHTML = tcpip_wan_host;
	tr = document.getElementById("wan_dhcp_mtu");
	tr.innerHTML = tcpip_wan_mtu_size;




}

//end
</SCRIPT>
</head>

<body onload="Load_Setting();">
<blockquote>
<h2><font id="wan_title">WAN Interface Setup</font></h2>
<form action="http://upvel.ru/emulators/UR-447N4G/%22http://192.168.10.1/%22http://192.168.10.1/boafrm/formWanTcpipSetup%22%22" method=POST name="tcpip">

<table border=0 width="550" cellspacing=0 cellpadding=0>
  <tr><td><font size=2 id="wan_intro">
    This page is used to configure the parameters for Internet network which
    connects to the WAN port of your Access Point. Here you may change the access
    method to static IP, DHCP, PPPoE, PPTP, USB3G or L2TP by click the item value of WAN Access
    type.
  </font></td></tr>
  <tr><td><hr size=1 noshade align=top></td></tr>
</table>
 <input type="hidden" value="pptp" name="ipMode">
 <input type=hidden name="pptpDynamicWanIP";  value=0>

  <table border="0" width="480" class="form">
	<tr><td class="title" colspan="2" id="wan_title2">WAN Interface Setup</td></tr>  
    <tr>
       <td width="30%" class="head" id="wan_wantype" >WAN Access Type:</td>
       <td width="70%"><font size=2><select size="1" name="wanType" onChange="wanTypeSelection(this)">
	<option value="fixedIp" id="wan_type_static">Static IP</option>
	<option value="autoIp" id="wan_type_dhcp" >DHCP Client</option>
	<option value="ppp">PPPoE</option>

	<option value="pptp">PPTP</option>

	<! -- keith: add l2tp support. 20080515  -- >

	<option value="l2tp">L2TP</option>


	<option value="USB3G">USB3G</option>

	</select></td>
    </tr>
    </table>

<!-- start multi pppoe -->

  <span id = "multiPppoeSelect_div" class = "off" >  
  <table border="0" width="480">
    <tr>
       <td width="30%" height=40><font size=2><b>PPPOE Connecting No:</b></td>
       <td width="70%"><font size=2><select size="1" name="pppoeNumber" onChange="pppoeNoSelection(this)">
       <script type="text/javascript">
	        var number = 0;
		     	if ( number == 1 ) {
		      	  	document.write( "<option selected value=\"1\">1</option>" );
	    	   	  	document.write( "<option value=\"2\">2</option>" );
	    		  	document.write( "<option value=\"3\">3</option>" );
					document.write( "<option value=\"4\">4</option>" );
		     	}
		     	if ( number == 2 ) {
	      	  		document.write( "<option value=\"1\">1</option>" );
	    	   	  	document.write( "<option selected value=\"2\">2</option>" );
	    		  	document.write( "<option value=\"3\">3</option>" );
					document.write( "<option value=\"4\">4</option>" );
		     	}
		     	if ( number == 3 ) {
	      	  		document.write( "<option value=\"1\">1</option>" );
	    	   	  	document.write( "<option value=\"2\">2</option>" );
	    		  	document.write( "<option selected value=\"3\">3</option>" );
					document.write( "<option value=\"4\">4</option>" );
		     	}
		     	if ( number == 4 ) {
	      	  		document.write( "<option value=\"1\">1</option>" );
	    	   	  	document.write( "<option value=\"2\">2</option>" );
	    		  	document.write( "<option value=\"3\">3</option>" );
					document.write( "<option selected value =\"4\">4</option>" );
		     	}				
	   </script>       
	</select></td>
    <tr>
  </table> 
  </span>


  <div id = "static_div" class = "off" >  
   <table border="0" width="480" class="form">
    <tr><td class="title" colspan="3" style="height:20px;"></td></tr>
    <tr>
       <td width="30%" class="head" ><script>dw(tcpip_lan_ip)</script></td>
       <td width="70%"><font size=2>
        <input type="text" name="wan_ip" size="18" maxlength="15" value="172.1.1.1">
      </td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_lan_mask)</script></td>
      <td width="70%"><font size=2><input type="text" name="wan_mask" size="18" maxlength="15" value="255.255.255.0"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_lan_default_gateway)</script></td>
      <td width="70%"><font size=2><input type="text" name="wan_gateway" size="18" maxlength="15" value="172.1.1.254"></td>
    </tr>
    <tr>
      <td width="30%" class="head" >MTU</td>
      <td width="70%"><font size=2><input type="text" name="fixedIpMtuSize" size="10" maxlength="10" value="1500">&nbsp;(1400-1500)</td>
    </tr>
    </table>
  </div>
  
  <div id = "dhcp_div" class = "off" >  
    <table border="0" width="480" class="form">
     <tr><td class="title" colspan="3" style="height:20px;"></td></tr>
    <tr>
      <td width="30%" id="wan_hostname" class="head" ><script>dw(tcpip_wan_host)</script></td>
      <td width="70%" ><font size=2><input type="text" name="hostName" size="18" maxlength="30" value="Upvel"></td>
    </tr>  
    <tr>
      <td width="30%" class="head" id="wan_dhcp_mtu" >MTU Size:</td>
      <td width="70%"><font size=2><input type="text" name="dhcpMtuSize" size="10" maxlength="10" value="1500">&nbsp;(1400-1492)</td>
    </tr>
  </table>
  </div>

<!-- start multi pppoe -->

  <span id = "pppoe_div" class = "off" >  
  <table width="480" class="form">
  <span id = "pppoe_div_display" class = "off" > 
	<tr><td class="title" colspan="2" style="height:20px;">The First pppoe info:</td></tr>
  </span>
     <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_user)</script></td>
      <td width="70%"><font size=2><input type="text" name="pppUserName" size="18" maxlength="128" value="test3"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_password)</script></td>
      <td width="70%"><font size=2><input type="password" name="pppPassword" size="18" maxlength="128" value="test3"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_server_ac)</script></td>
      <td width="70%"><font size=2><input type="text" name="pppServiceName" size="18" maxlength="40" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_conn_type)</script></td>
      <td width="70%"><font size=2><select size="1" name="pppConnectType" onChange="pppTypeSelection(0)">
<script type="text/javascript">
        var type = 0;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script>
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect" name="pppConnect" onClick="return pppConnectClick(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect" name="pppDisconnect" onClick="return pppConnectClick(1)">
<script type="text/javascript">
	if ( 0 )
		setPPPConnected();
</script>
	</td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_idle_time)</script></td>
      <td width="70%"><font size=2><input type="text" name="pppIdleTime" size="10" maxlength="10" value="5">&nbsp;(1-1000 minutes)</td>
    </tr>
    <tr>
      <td width="30%" class="head">MTU</b></td>
      <td width="70%"><font size=2><input type="text" name="pppMtuSize" size="10" maxlength="10" value="1452">&nbsp;(1360-1492)</td>
    </tr>
  <!--
    <tr id = "firstSubNet" class = "on">
		<td width="30%"><font size=2><b>Sub Net:</b></td>
		<td width="70%"><font size=2><input type="text" name="pppSubNet_1" size="25" maxlength="25" value="">&nbsp;(eg:192.168.1.0/25)</td>		
	</tr>    
	-->
  </table>
  </span>
      
<span id = "pppoe2_div" class = "off" >  
  <table border="0" width="480" class="form">
	<tr>
		<td class="title" colspan="2" style="height:20px;">The second pppoe info:</td>
	</tr>    
     <tr>
      <td width="30%" class="head">User Name:</td>
      <td width="70%"><font size=2><input type="text" name="pppUserName2" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Password:</td>
      <td width="70%"><font size=2><input type="password" name="pppPassword2" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Service Name(AC):</td>
      <td width="70%"><font size=2><input type="text" name="pppServiceName2" size="18" maxlength="40" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Connection Type:</td>
      <td width="70%"><font size=2><select size="1" name="pppConnectType2" onChange="pppTypeSelection(0)">
<script type="text/javascript">
        var type = 0;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script>      
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect2" name="pppConnect2" onClick="return pppConnectClick2(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect2" name="pppDisconnect2" onClick="return pppConnectClick2(1)">
<script type="text/javascript">
	if ( 0 )
		setPPP2Connected();
</script>	
	</td>
    </tr>
    <tr>
      <td width="30%" class="head">Idle Time:</td>
      <td width="70%"><font size=2><input type="text" name="pppIdleTime2" size="10" maxlength="10" value="0">&nbsp;(1-1000 minutes)</td>
    </tr>
    <tr>
      <td width="30%" class="head">MTU Size:</td>
      <td width="70%"><font size=2><input type="text" name="pppMtuSize2" size="10" maxlength="10" value="0">&nbsp;(1360-1492 bytes)</td>
    </tr>  
    <tr>
      <td width="30%" class="head">Sub Net:</td>
      <td width="70%"><font size=2><input type="text" name="pppSubNet_2" size="25" maxlength="25" value="">&nbsp;(eg:192.168.1.0/25)</td>
    </tr>    
  </table>
  </span>

<span id = "pppoe3_div" class = "off" >  
  <table border="0" width="480" class="form">
	<tr>
		<td class="title" colspan="2" style="height:20px;">The Third pppoe info:</td>
	</tr>      	 
     <tr>
      <td width="30%" class="head">User Name:</td>
      <td width="70%"><font size=2><input type="text" name="pppUserName3" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Password:</td>
      <td width="70%"><font size=2><input type="password" name="pppPassword3" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Service Name(AC):</td>
      <td width="70%"><font size=2><input type="text" name="pppServiceName3" size="18" maxlength="40" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Connection Type:</td>
      <td width="70%"><font size=2><select size="1" name="pppConnectType3" onChange="pppTypeSelection(0)">
<script type="text/javascript">
        var type = 0;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script> 
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect3" name="pppConnect3" onClick="return pppConnectClick3(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect3" name="pppDisconnect3" onClick="return pppConnectClick3(1)">
<script type="text/javascript">
	if ( 0 )
		setPPP3Connected();
</script>
	
	</td>
    </tr>
    <tr>
      <td width="30%" class="head">Idle Time:</td>
      <td width="70%"><font size=2><input type="text" name="pppIdleTime3" size="10" maxlength="10" value="0">&nbsp;(1-1000 minutes)</td>
    </tr>
    <tr>
      <td width="30%" class="head">MTU Size:</td>
      <td width="70%"><font size=2><input type="text" name="pppMtuSize3" size="10" maxlength="10" value="0">&nbsp;(1360-1492 bytes)</td>
    </tr>    
    <tr>
      <td width="30%" class="head">Sub Net:</td>
      <td width="70%"><font size=2><input type="text" name="pppSubNet_3" size="25" maxlength="25" value="">&nbsp;(eg:192.168.1.0/25)</td>
    </tr>    
  </table>
  </span>

<span id = "pppoe4_div" class = "off" >  
  <table border="0" width="480" class="form">
	<tr>
		<td class="title" colspan="2" style="height:20px;">The Fourth pppoe info:</td>
	</tr>     
     <tr>
      <td width="30%" class="head">User Name:</td>
      <td width="70%"><font size=2><input type="text" name="pppUserName4" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Password:</td>
      <td width="70%"><font size=2><input type="password" name="pppPassword4" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Service Name(AC):</td>
      <td width="70%"><font size=2><input type="text" name="pppServiceName4" size="18" maxlength="40" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">Connection Type:</td>
      <td width="70%"><font size=2><select size="1" name="pppConnectType4" onChange="pppTypeSelection(0)">
<script type="text/javascript">
        var type = 0;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script> 
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect4" name="pppConnect4" onClick="return pppConnectClick4(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect4" name="pppDisconnect4" onClick="return pppConnectClick4(1)">
<script type="text/javascript">
	if ( 0 )
		setPPP4Connected();
</script>
	</td>
    </tr>
    <tr>
      <td width="30%" class="head">Idle Time:</td>
      <td width="70%"><font size=2><input type="text" name="pppIdleTime4" size="10" maxlength="10" value="0">&nbsp;(1-1000 minutes)</td>
    </tr>
    <tr>
      <td width="30%" class="head">MTU Size:</td>
      <td width="70%"><font size=2><input type="text" name="pppMtuSize4" size="10" maxlength="10" value="0">&nbsp;(1360-1492 bytes)</td>
    </tr>    
    <tr>
      <td width="30%" class="head">Sub Net:</td>
      <td width="70%"><font size=2><input type="text" name="pppSubNet_4" size="25" maxlength="25" value="">&nbsp;(eg:192.168.1.0/25)</td>
    </tr>    
  </table>
  </span>  

  <span id = "pptp_div" class = "off" >  
  <table border="0" width="480" class="form">
   <tr><td class="title" colspan="2" style="height:20px;"></td></tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_type_client)</script></td>
      <td><input type="radio" value="dynamicIP" name="wan_pptp_use_dynamic_carrier_radio"  onClick="wan_pptp_use_dynamic_carrier_selector(0, this.value);"></td></tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_type_static_ip)</script></td>
      <td><input type="radio" value="staticIP" name="wan_pptp_use_dynamic_carrier_radio"  onClick="wan_pptp_use_dynamic_carrier_selector(1, this.value);"></td></tr>
    <tr>

      <td class="head"><script>dw(tcpip_lan_ip)</script></td>
      <td width="70%"><input type="text" name="pptpIpAddr" size="18" maxlength="30" value="172.1.1.2"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_lan_mask)</script></td>
      <td width="70%"><input type="text" name="pptpSubnetMask" size="18" maxlength="30" value="255.255.255.0"></td>
    </tr>
    <tr>
      <td width="30%" class="head" ><script>dw(tcpip_lan_default_gateway)</script></td>
      <td width="70%"><input type="text" name="pptpDefGw" size="18" maxlength="30" value="172.1.1.254"></td>
    </tr>
 <script type="text/javascript">  
	if(1)
		{
			document.write("\
				    <tr>\
				      	<td class=\"head\">Attain Server By Domain Name</td> \
					<td><input type=\"radio\" value=\"pptpGetServByDomainName\" name=\"pptpGetServMode\" onClick=\"pptpGetServByDomainNameClicked()\">\
				      	</td>\
				    </tr>\
				    <tr>\
				    	<td class=\"head\">Attain Server By Ip Address</td> \
					<td><input type=\"radio\" value=\"pptpGetServByIp\" name=\"pptpGetServMode\" onClick=\"pptpGetServByIpClicked()\">\
				      	</td>\
				    </tr>\
				     <tr>\
				      <td width=\"30%\" class=\"head\">Domain Name:</b></td>\
				      <td width=\"70%\"><font size=2><input type=\"text\" name=\"pptpServerDomainName\" size=\"18\" maxlength=\"30\" value=\"\"></td>\
				    </tr>\
				 ");
		}
 </script>
    <tr>
      <td width="30%"class="head">Server IP Address:</td>
      <td width="70%"><input type="text" name="pptpServerIpAddr" size="18" maxlength="30" value="172.1.1.1"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_user)</script></td>
      <td width="70%"><input type="text" name="pptpUserName" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head" ><script>dw(tcpip_wan_password)</script></td>
      <td width="70%"><input type="password" name="pptpPassword" size="18" maxlength="128" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head" ><script>dw(tcpip_wan_conn_type)</script></td>
      <td width="70%"><select size="1" name="pptpConnectType" onChange="pppTypeSelection(1)">
<script type="text/javascript">
        var type = 0;
	     	if ( type == 0 ) {
	      	  	document.write("<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write("<option value=\"1\">Connect on Demand</option>" );
    		  	document.write("<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write("<option value=\"0\">Continuous</option>");
    	   	  	document.write("<option selected value=\"1\">Connect on Demand</option>");
    		  	document.write("<option value=\"2\">Manual</option>");
	     	}
	     	if ( type == 2 ) {
	      	  	document.write("<option value=\"0\">Continuous</option>");
    	   	  	document.write("<option value=\"1\">Connect on Demand</option>");
    		  	document.write("<option selected value=\"2\">Manual</option>");
	     	}
</script>
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect" name="pptpConnect" onClick="return pptpConnectClick(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect" name="pptpDisconnect" onClick="return pptpConnectClick(1)">
<script type="text/javascript">
	if ( 0 )
		setPPPConnected();
</script>
	</td>
    </tr>   
      <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_idle_time)</script></td>
      <td width="70%"><input type="text" name="pptpIdleTime" size="10" maxlength="10" value="5"><script>dw(tcpip_wan_conn_time)</script></td>
    </tr>  
     <tr>
      <td width="30%" class="head">MTU</b></td>
      <td width="70%"><input type="text" name="pptpMtuSize" size="10" maxlength="10" value="1460">&nbsp;(1400-1460 <script>dw(tcpip_wan_max_mtu_size)</script>)</td>
    </tr>   
    
	<tr>
      <td class="head"><script>dw(tcpip_wan_need_mppe)</script></td>
      <td><input type="checkbox" name="pptpSecurity" value="ON"></td>
	</tr>
	<tr>
	<td class="head"><script>dw(tcpip_wan_need_mppc)</script></td>
       <td><input type="checkbox" name="pptpCompress" value="ON">&nbsp;&nbsp;</b></td>       
    </tr>
    </table>
    </span>
    <!-- keith: add l2tp support. 20080515  -->
    <span id = "l2tp_div" class = "off" >  
    <table border="0" width="480" class="form">
	<tr><td class="title" colspan="2" style="height:20px;"></td></tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_type_client)</script></td>
      <td><input type="radio" value="dynamicIP" name="wan_l2tp_use_dynamic_carrier_radio" onClick="wan_l2tp_use_dynamic_carrier_selector(0, this.value);"></td>
    </tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_type_static_ip)</script></td>
      <td ><input type="radio" value="staticIP" name="wan_l2tp_use_dynamic_carrier_radio" onClick="wan_l2tp_use_dynamic_carrier_selector(1, this.value);"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_lan_ip)</script></td>
      <td width="70%"><input type="text" name="l2tpIpAddr" size="18" maxlength="30" value="172.1.1.2"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_lan_mask)</script></td>
      <td width="70%"><input type="text" name="l2tpSubnetMask" size="18" maxlength="30" value="255.255.255.0"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_lan_default_gateway)</script></td>
      <td width="70%"><input type="text" name="l2tpDefGw" size="18" maxlength="30" value="172.1.1.254"></td>
    </tr>
<script type="text/javascript">  
	if(1)
	{
		document.write("\
			    <tr>\
			      	<td class=\"head\" >Attain Server By Domain Name</td> \
				<td><input type=\"radio\" value=\"l2tpGetServByDomainName\" name=\"l2tpGetServMode\" onClick=\"l2tpGetServByDomainNameClicked()\">\
			      	</td>\
			    </tr>\
			    <tr>\
			    	<td class=\"head\" >Attain Server By Ip Address</td>\
				<td><input type=\"radio\" value=\"l2tpGetServByIp\" name=\"l2tpGetServMode\" onClick=\"l2tpGetServByIpClicked()\">\
			      	</td>\
			    </tr>\
			     <tr>\
			      <td class=\"head\">Domain Name:</td>\
			      <td width=\"70%\"><font size=2><input type=\"text\" name=\"l2tpServerDomainName\" size=\"18\" maxlength=\"30\" value=\"home.htm\"/*tpa=http://192.168.10.1/tp.internet.beeline.ru*/></td>\
			    </tr>\
			 ");
	}
</script>
   
    <tr>
      <td width="30%" class="head">Server IP Address:</td>
      <td width="70%"><input type="text" name="l2tpServerIpAddr" size="18" maxlength="30" value="85.21.0.196"></td>
    </tr>
    <tr>
      <td width="30%" class="head" ><script>dw(tcpip_wan_user)</script></td>
      <td width="70%"><input type="text" name="l2tpUserName" size="18" maxlength="128" value="0891761234"></td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_password)</script></td>
      <td width="70%"><input type="password" name="l2tpPassword" size="18" maxlength="128" value="up030714vel"></td>
    </tr>
     <tr>
      <td width="30%" class="head">Connection Type:</td>
      <td width="70%"><select size="1" name="l2tpConnectType" onChange="pppTypeSelection(2)">
<script type="text/javascript">
        var type = 0;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script>
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect" name="l2tpConnect" onClick="return l2tpConnectClick(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect" name="l2tpDisconnect" onClick="return l2tpConnectClick(1)">
<script type="text/javascript">
	if ( 0 )
		setPPPConnected();
</script>
	</td>
    </tr>   
      <tr>
      <td width="30%" class="head">Idle Time:</td>
      <td width="70%"><input type="text" name="l2tpIdleTime" size="10" maxlength="10" value="5">&nbsp;(1-1000 minutes)</td>
    </tr>  
     <tr>
      <td width="30%" class="head">MTU Size:</td>
      <td width="70%"><input type="text" name="l2tpMtuSize" size="10" maxlength="10" value="1460">&nbsp;(1400-1460 bytes)</td>
    </tr>  
    </table>
    </span>
<!-- start USB3G -->
   <span id = "USB3G_div" class = "off" >
    <table border="0" width="480" class="form">
	<tr><td class="title" colspan="2" style="height:20px;"></td></tr>
      <td width="30%" class="head">User Name:</td>
      <td width="70%"><font size=2><input type="text" name="USB3G_USER" size="18" maxlength="30" value="mts"></td>
    </tr>
    <tr>
      <td width="30%" class="head">Password:</td>
      <td width="70%"><font size=2><input type="password" name="USB3G_PASS" size="18" maxlength="30" value="mts"></td>
    </tr>
    <tr>
      <td width="30%" class="head">PIN:</b></td>
      <td width="70%"><font size=2><input type="password" name="USB3G_PIN" size="18" maxlength="30" value=""></td>
    </tr>
    <tr>
      <td width="30%" class="head">APN:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3G_APN" size="18" maxlength="128" value="internet.mts.ru"></td>
    </tr>
    <tr>
      <td width="30%" class="head">Dial Number:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3G_DIALNUM" size="18" maxlength="128" value="*99#"></td>
    </tr>
     <tr>
      <td width="30%" class="head" >Connection Type:</b></td>
      <td width="70%"><font size=2><select size="1" name="USB3GConnectType" onChange="pppTypeSelection(3)">

<script type="text/javascript">
        var type = 0;
            if ( type == 0 ) {
                document.write( "<option selected value=\"0\">Continuous</option>" );
                document.write( "<option value=\"1\">Connect on Demand</option>" );
                document.write( "<option value=\"2\">Manual</option>" );
            }
            if ( type == 1 ) {
                document.write( "<option value=\"0\">Continuous</option>" );
                document.write( "<option selected value=\"1\">Connect on Demand</option>" );
                document.write( "<option value=\"2\">Manual</option>" );
            }
            if ( type == 2 ) {
                document.write( "<option value=\"0\">Continuous</option>" );
                document.write( "<option value=\"1\">Connect on Demand</option>" );
                document.write( "<option selected value=\"2\">Manual</option>" );
            }
</script>

        </select>&nbsp;&nbsp;
    <input type="submit" value="Connect" name="USB3GConnect" onClick="return USB3GConnectClick(0)">&nbsp;&nbsp;
    <input type="submit" value="Disconnect" name="USB3GDisconnect" onClick="return USB3GConnectClick(1)">
<script type="text/javascript">
	if ( 0 )
		setPPPConnected();
</script>
    </td>
    </tr>
      <tr>
      <td width="30%" class="head">Idle Time:</td>
      <td width="70%"><font size=2><input type="text" name="USB3GIdleTime" size="10" maxlength="10" value="5">&nbsp;(1-1000 minutes)</td>
    </tr>
     <tr>
      <td width="30%" class="head">MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3GMtuSize" size="10" maxlength="10" value="1490">&nbsp;(1420-1490 bytes)</td>
    </tr>
    
    </table>
    </span>
<!-- end USB3G -->
    
    <span id = "dnsMode_div" class = "off" >
    <table border="0" width="480" class="form">
    <!--
    <tr height="35" valign="bottom">
    -->
    <tr><td class="title" colspan="2"><script>dw(tcpip_wan_dns);</script></td></tr>	
    <tr>
      <td width="30%" class="head" ><script>dw(tcpip_wan_auto_dns);</script></td>
      <td width="70%"><input type="radio" value="dnsAuto" name="dnsMode" onClick="autoDNSclicked();">
      </td>
    </tr>
    <tr>
      <td width="30%" class="head"><script>dw(tcpip_wan_manually_dns);</script></td>
      <td width="70%"><input type="radio" value="dnsManual" name="dnsMode" onClick="manualDNSclicked();">
      </td>
    </tr>
    <tr>
    
       <td width="30%" class="head" >DNS 1:</td>
       <td width="70%"><font size=2><input type="text" name="dns1" size="18" maxlength="15" value=></td>
    </tr>
    <tr>
       <td width="30%" class="head">DNS 2:</td>
       <td width="70%"><font size=2><input type="text" name="dns2" size="18" maxlength="15" value=></td>
    </tr>
    <tr>
       <td width="30%" class="head">DNS 3:</td>
       <td width="70%"><font size=2><input type="text" name="dns3" size="18" maxlength="15" value=></td>
    </tr>
    </table>
    </span>
    
    <span id = "dns_div" class = "off" >
    </span>
    
    <span id = "always_div" class = "off" >
    <table width="480" class="form"> 
    <tr><td class="title" colspan="2"><script>dw(tcpip_wan_addition);</script></td></tr>
    <tr> 
       <td  class="head" ><script>dw(tcpip_wan_clone_mac);</script></td>
       <td ><input type="text" name="wan_macAddr" size="18" maxlength="12" value=f46d04e91b44></td>
    </tr>
    <tr>
      <td class="head" ><script>dw(tcpip_wan_enable_upnp);</script></td>
      <td><input type="checkbox" name="upnpEnabled" value="ON"></td>
</script>
    </tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_enable_igmp_proxy);</script></td>
      <td><input type="checkbox" name="igmpproxyEnabled" value="ON"></td>
    </tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_enable_ping);</script></td>
      <td><input type="checkbox" name="pingWanAccess" value="ON"></td>
    </tr>        
    <tr>
      <td class="head"><script>dw(tcpip_wan_enable_webserver);</script></td>
      <td ><input type="checkbox" name="webWanAccess" value="ON"></td>
    </tr>        
    <tr>
      <td class="head"><script>dw(tcpip_wan_enable_ipsec);</script></td>
      <td><input type="checkbox" name="WANPassThru1" value="ON"></td>
    </tr>
    <tr>
      <td class="head"><script>dw(tcpip_wan_enable_pptp);</script></td>
      <td><input type="checkbox" name="WANPassThru2" value="ON"></td>
    </tr>
    <td class="head"><script>dw(tcpip_wan_enable_l2tp);</script></td>
    <td ><input type="checkbox" name="WANPassThru3" value="ON"></td>
    </tr>
	<!-- disable ipv6 pass throuth for release jungle sdk v2.2, add "<" before %if (getIndex... enable it-->
    <td class="head"><script>dw(tcpip_wan_enable_ipv6);</script></td>
    <td><input type="checkbox" name="ipv6_passthru_enabled" value="ON"></td>
    </tr>

   </table>
    </span>


   <SCRIPT>
/*
   if(document.tcpip.wanType.selectedIndex != 0){ // static ip
	   group = document.tcpip.dnsMode;
	   for (var r = 0; r < group.length; r++)
		  if (group[r].checked)
		    break;
	   initialDnsMode = r;
	   if (initialDnsMode == 0)
	      disableDNSinput();
   }
*/
	var wan_connection_type=document.tcpip.wanType.selectedIndex;
  wanTypeSelection(document.tcpip.wanType);
   //alert("after wanTypeSelection MultiPppoeEnable value is :"+MultiPppoeEnable);
   if(wan_connection_type == 2)
   		pppTypeSelection(0);
   	else if(wan_connection_type == 3)
   		pppTypeSelection(1);
   	else if(wan_connection_type == 4)
   		pppTypeSelection(2);
   	else if(wan_connection_type == 5)
   		pppTypeSelection(3);
   	else
   	
   		pppConnection_Init();
  </SCRIPT>

  <BR>
  <input type="hidden" value="/tcpipwan.htm" name="submit-url">
  <p><input type="submit" value="Apply Changes" name="save" onClick="return saveChanges_wan(document.tcpip,MultiPppoeEnable,dynamicWanIP)">&nbsp;&nbsp;
  <input type="reset" value="Reset" name="reset" onClick="resetClicked()">
</p>
</form>
</blockquote>
</body>
</html>
