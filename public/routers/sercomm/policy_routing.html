<!DOCTYPE html>
<html class="product16" style="display: block;">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!--[if lt IE 9]>
	<script src="js/html5.js"></script>
	<![endif]-->
    <link href="./img/entry-level.png" type="image/png" rel="icon">
    <link rel="stylesheet" href="./css/reset.css" type="text/css">
    <link rel="stylesheet" href="./css/style.css" type="text/css">
    <link rel="stylesheet" href="./css/content.css" type="text/css">
    <!--[if lt IE 9]><style type="text/css">article .button-cancel, article .button-apply, article .button-blank, #progress-bar-buttons .button-apply, #progress-bar-buttons .button-cancel { padding-bottom: 3px; }</style><![endif]-->
    <script src="./js/jquery-1.7.1.min.js" type="text/javascript"></script>
    <style type="text/css">
         :root .banner_box,
         :root .adv {
            display: none !important;
        }
    </style>
    <style type="text/css">
        #chromereload_page_informer {
            position: fixed;
            bottom: 0;
            right: 0;
            background-color: rgba(142, 255, 186, 0.5);
            height: 24px;
            padding: 10px 10px 0 10px;
            font-weight: 600;
            font-size: 12px;
            color: #4A4A4A;
            z-index: 99999;
            cursor: pointer;
        }
    </style>
    <script src="./js/jquery.easing.1.3.js" type="text/javascript"></script>
    <script src="./js/jquery.hashchange.js" type="text/javascript"></script>
    <!-- justin add -->
    <!--[if lt IE 9]>
	<link rel="stylesheet" href="css/ie8content.css" type="text/css" />
	<![endif]-->
    <script src="./js/mainFunctions.js" type="text/javascript"></script>
    <script src="./js/mainFrame.js" type="text/javascript"></script>
    <script src="./js/pageLoadFunctions.js" type="text/javascript"></script>
    <script src="./js/multi_lang.js" type="text/javascript"></script>

    <script src="./js/settings.js" type="text/javascript"></script>

    <!-- justin add end -->
    <link rel="stylesheet" href="./css/settings.css" type="text/css">
    <script src="./js/functionsNotOverview.js" type="text/javascript"></script>
    <script type="text/javascript">
        var category = 'settings';
        var defaultSub = '60';
        // get submenu and subsubmenu
        var gets = getHashVars();
        sub = gets['sub'];
        var subSub = gets['subSub'];
        var load = ''; // content to load
        var oldCat = 'value';
        var task = false;
        var messagesCat = false;
    </script>

    <title>Политики маршрутизации</title>
</head>

<body class="en expert settings">

    <div id="wrap">
        <header id="header">
            <div id="head-wrap" class="clearfix">
                <a href="./overview.html" class="logos"><img src="./img/entry-level.png" alt="Sercomm Logo"></a><a href="./index.html" id="logout">&nbsp;</a>
                <div id="dropDownBasExp" class="admin" style="display: none;">
                    <div href="" id="selectBasic" class="selectBasic"><span id="lang700056">Базовый режим</span></div>
                    <div href="" id="selectExpert" class="selectExpert"><span id="lang700057">Эксперт-режим</span></div>
                </div>
            </div>
            <nav>
                <ul class="clearfix five settingsMenu ">
                    <li id="overview"><a href="./overview.html"><span id="lang700031">Обзор</span></a></li>
                    <li id="internet"><a href="./internet.html"><span id="lang700033">Интернет</span></a></li>
                    <li id="wifi"><a href="./wifi.html"><span id="lang700034">Wi-Fi</span></a></li>
                    <li id="settings" class="active"><a href="./settings.html"><span id="lang700035">Параметры</span></a></li>
                    <li id="status-and-support"><a href="./status-and-support.html"><span id="lang700036">Статус и поддержка</span></a></li>
                </ul>
            </nav>
        </header>

        <section id="inner-wrap" class="clearfix notOverview">
            <script>
                document.write('<div id="indicator"><img src="img/indicator.png" alt="Indicator" /></div>');
            </script>
            <div id="indicator" style="display: none;"><img src="./img/indicator.png" alt="Indicator"></div>
            <div id="navigation">
                <ul>
                    <li id="77" class="menuItem"><a href="./settings.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905021">Язык</span></a></li>
                    <li id="60" class="menuItem"><a href="./password.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905001">Пароль</span></a></li>
                    <li id="58" class="menuItem"><a href="./USB.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905003">USB</span></a></li>
                    <li id="56" class="menuItem sub"><a href="./shared_USB_access.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang505001">Общий доступ к USB</span></a>
                        <div class="subMenu" style="display: none; height: 0px;">
                            <ul>
                                <li id="57" class="subMenuItem sub"><a href="./DLNA.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905004">DLNA</span></a></li>
                                <li id="51" class="subMenuItem sub"><a href="./file_server.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang505005">Файловый сервер</span></a></li>
                                <li id="50" class="subMenuItem sub"><a href="./FTP.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905011">FTP</span></a></li>
                            </ul>
                        </div>
                    </li>
                    <li id="54" class="menuItem"><a href="./configuration_file.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905007">Файл конфигурации</span></a></li>
                    <li id="52" class="menuItem"><a href="./LAN.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905009">LAN</span></a></li>
                    <li id="59" class="menuItem"><a href="./firmware_update.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905002">Обновление прошивки</span></a></li>
                    <li id="73" class="menuItem"><a href="./QoS.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905018">QoS</span></a></li>
                    <li id="74" class="menuItem"><a href="./time_synchronization.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang513001">Синхронизация времени</span></a></li>
                    <li id="75" class="menuItem"><a href="./TR-069.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905019">TR-069</span></a></li>
                    <li id="80" class="menuItem"><a href="./Access_control.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang906017">Контроль доступа</span></a></li>
                    <li id="68" class="menuItem"><a href="./WAN.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang903013">WAN</span></a></li>
                    <li id="302" class="menuItem"><a href="./PPPoE_Realy.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang1301402">PPPoE Relay</span></a></li>
                    <li id="301" class="menuItem"><a href="./VLAN.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang1301402">VLAN</span></a></li>
                    <li id="300" class="menuItem"><a href="./IPTV.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang606029">IPTV</span></a></li>
                    <li id="303" class="menuItem"><a href="./syslog_client.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang1310572">Syslog Client</span></a></li>
                    <li id="97" class="menuItem"><a href="./IPv6.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang905023">IPv6</span></a></li>
                    <li id="86" class="menuItem"><a href="./static_routes.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang522001">Статические маршруты</span></a></li>
                    <li id="93" class="menuItem active"><a href="./policy_routing.html" onclick="page_data_load(&#39;settings&#39;);"><span id="lang903018">Политики маршрутизации</span></a></li>
                </ul>
            </div>

            <article id="settings">
                <div id="content" class="sub93">






                    <h1><span id="lang523001">Политики маршрутизации</span></h1>
                    <h2>
                        <!--&nbsp;-->
                    </h2>

                    <h3><span id="lang523001">Политики маршрутизации</span></h3>
                    <div class="h3-content">
                        <div class="table policyRouting">
                            <div class="table-row table-row-head">
                                <div class="table-col table-col1"><span id="lang523002">Тип</span></div>
                                <div class="table-col table-col2"><span id="lang523003">Условие передачи</span></div>
                                <div class="table-col table-col3"><span id="lang523004">Интерфейс WAN</span></div>
                                <div class="table-col table-col4">&nbsp;</div>
                                <div class="table-col table-col5">&nbsp;</div>
                                <div class="table-col table-col6">&nbsp;</div>
                            </div>
                            <div class="table-row italic no-entry tC">
                                <span id="lang522007">Маршруты не заданы</span>
                            </div>
                        </div>
                        <div class="table-row add-row">
                            <div class="table-col-full">
                                <input id="policyRoutingAdd" class="button button-add" value="" type="button">
                            </div>
                        </div>
                    </div>

                    <div class="apply-cancel-margin-top">

                        <div class="clearfix apply-cancel">
                            <div class="right">
                                <input id="cancelButton" class="button button-cancel right" value="Отмена" type="button">
                            </div>
                            <div class="right">
                                <input id="applyButton" class="button button-apply right" value="Применить" type="button">
                            </div>
                        </div>

                        <div class="message-arrowbox" style="display: none;">
                            <div class="message-arrowbox-right">
                                <span id="lang700175">Некоторые параметры были изменены</span>
                            </div>
                        </div>
                        <div class="message-arrowbox-applied" style="display: none;">
                            <div class="message-arrowbox-applied-right">
                                <span id="lang700176">Изменения были применены.</span>
                            </div>
                        </div>

                    </div>



                    <div class="popup big" style="display: none;"></div>
                    <div class="blackBackground" style="display: none;">&nbsp;</div>
                    <div id="data_store" style="display:none;">
                        <div option="type" name="MAC" value="mac" class="data"></div>
                        <div option="type" name="Source IP" value="source_ip" class="data"></div>
                        <div option="type" name="Destination IP" value="destination_ip" class="data"></div>
                        <div option="type" name="Source Interface" value="source_interface" class="data"></div>
                        <div option="type" name="DSCP" value="dscp" class="data"></div>
                        <div option="type" name="Protocol Type" value="protocol_type" class="data"></div>
                        <div option="source_interface" name="LAN1" value="lan1" class="data"></div>
                        <div option="source_interface" name="LAN2" value="lan2" class="data"></div>
                        <div option="source_interface" name="LAN3" value="lan3" class="data"></div>
                        <div option="source_interface" name="LAN4" value="lan4" class="data"></div>
                        <div option="source_interface" name="WLAN" value="wlan" class="data"></div>
                        <div option="protocol_type" name="TCP" value="tcp" class="data"></div>
                        <div option="protocol_type" name="UDP" value="udp" class="data"></div>
                        <div option="protocol_type" name="HTTP" value="http" class="data"></div>
                        <div option="protocol_type" name="SIP" value="sip" class="data"></div>
                        <div option="wan_interface" name="WAN2" value="wan2" class="data"></div>
                        <div option="wan_interface" name="WAN3" value="wan3" class="data"></div>
                        <div option="wan_interface" name="WAN1" value="wan1" class="data"></div>
                    </div>
                    <input id="create_id" type="hidden" value="0">
                    <input id="del_id_list" type="hidden" value="">
                    <input id="edit_id_list" type="hidden" value="">

                    <style>
                        .table-row {
                            height: auto;
                            min-height: 30px;
                        }
                        
                        .table.policyRouting .table-col {
                            padding-right: 1px;
                            word-wrap: break-word;
                            overflow: hidden;
                        }
                        
                        .table.policyRouting .table-col.table-col1 {
                            width: 170px;
                        }
                        
                        .table.policyRouting .table-col.table-col2 {
                            width: 150px;
                        }
                        
                        .table.policyRouting .table-col.table-col3 {
                            width: 170px;
                        }
                        
                        .table.policyRouting .table-col.table-col4 {
                            width: 40px;
                        }
                        
                        .table.policyRouting .table-col.table-col5 {
                            width: 30px;
                        }
                        
                        .table.policyRouting .table-col.table-col6 {
                            width: 70px;
                        }
                        
                        .table.policyRouting .table-row.inactive {
                            opacity: 0.5;
                        }
                    </style>

                    <!--[if lt IE 9]>
<style>
.table-row.inactive {
	color: rgb(192, 192, 192);
}
.table-row.inactive .button-edit-small {
	background-image: url("../img/button-edit-small-inactive.png");
}
.table-row.inactive .button-delete-small {
	background-image: url("../img/button-delete-small-inactive.png");
}
.table-row.inactive .button-off {
	background-image: url("../img/button-off-inactive.png");
}
</style>
<![endif]-->
                </div>
            </article>
        </section>
    </div>
    <div id="langAndFirmware" class="clearfix">
        <div class="left" id="langSelector"><a href="javascript:lang_change(&#39;en&#39;);" class="language-links line">English</a><a href="javascript:lang_change(&#39;ru&#39;);" class="language-links">Русский</a></div>
        <div class="right firmwareVersion">
        </div>
    </div>

    <script>
        //#policyRoutingAdd
        $('#policyRoutingAdd').click(function() {
            if (logMessage && window.console) console.log("#policyRoutingAdd click");

            $('.popup').html(page_settings_policy_routing_add_html_str(null));
            page_settings_policy_routing_popup_func_load(null);
            $('.table.policyRouting .no-entry').hide();
            $('.popup #type_select').trigger('change');

            $('body, html').animate({
                scrollTop: '0px'
            });
            $('.popup, .blackBackground').fadeIn();
        });

        function page_settings_policy_routing_add_html_str(obj) {
            var html = '';
            html += '<p class="title tL"><span id="lang523011">Добавить политику маршрута</span></p>'; //Add Policy Route
            html += page_settings_policy_routing_popup_html_str(obj);

            return html;
        }

        function page_settings_policy_routing_popup_html_str(obj) {
            if (obj == null) {
                var tmp_data = null;
            }
            else {
                var tmp_data = obj.find('input[type="hidden"]');
            }

            var html = '';
            html += '<div class="type row">';
            html += '<div class="left">Тип</div>'; //Type
            html += '<div class="right">';
            html += '<select id="type_select">';
            $('#data_store .data[option="type"]').each(function() {
                if (tmp_data == null) {
                    html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                }
                else {
                    if (tmp_data.attr('in_type') == $(this).attr('value')) {
                        html += '<option value="' + $(this).attr('value') + '" selected>' + $(this).attr('name') + '</option>';
                    }
                    else {
                        html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                    }
                }
            });
            html += '</select>';
            html += '</div>';
            html += '</div>';
            html += '<div class="mac row">';
            html += '<div class="left">MAC</div>'; //MAC
            html += '<div class="right" id="mac_input">';
            if (tmp_data == null) {
                html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                html += '<input value="" class="max2 scm_mac_segment" type="text">';
            }
            else {
                var tmp_mac = tmp_data.attr('in_mac').split(':');
                if (tmp_mac.length == 6) {
                    html += '<input value="' + tmp_mac[0] + '" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="' + tmp_mac[1] + '" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="' + tmp_mac[2] + '" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="' + tmp_mac[3] + '" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="' + tmp_mac[4] + '" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="' + tmp_mac[5] + '" class="max2 scm_mac_segment" type="text">';
                }
                else {
                    html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="" class="max2 scm_mac_segment" type="text">:';
                    html += '<input value="" class="max2 scm_mac_segment" type="text">';
                }
            }
            html += '</div>';
            html += '</div>';
            html += '<div class="source_interface row" style="display: none;">';
            html += '<div class="left">Интерфейс источника</div>'; //Source Interface
            html += '<div class="right">';
            html += '<select id="source_interface_select">';
            $('#data_store .data[option="source_interface"]').each(function() {
                if (tmp_data == null) {
                    html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                }
                else {
                    if (tmp_data.attr('in_source_interface') == $(this).attr('value')) {
                        html += '<option value="' + $(this).attr('value') + '" selected>' + $(this).attr('name') + '</option>';
                    }
                    else {
                        html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                    }
                }
            });
            html += '</select>';
            html += '</div>';
            html += '</div>';
            html += '<div class="source_ip row" style="display: none;">';
            html += '<div class="left">IP источника</div>'; //Source IP 
            html += '<div class="right" id="source_ip_input">';
            if (obj == null) {
                html += '<input id="" class="scm_ip4ip6" name="" value="" type="text">';
            }
            else {
                html += '<input id="" class="scm_ip4ip6" name="" value="' + tmp_data.attr('in_source_ip') + '" type="text">';
            }
            html += '</div>';
            html += '</div>';
            html += '<div class="source_ip row" style="display: none;">';
            html += '<div class="left">Маска сети</div>'; //Network Mask 
            html += '<div class="right" id="source_ip_mask_input">';
            if (obj == null) {
                html += '<input id="" class="scm_ip4ip6" name="" value="" type="text">';
            }
            else {
                html += '<input id="" class="scm_ip4ip6" name="" value="' + tmp_data.attr('in_source_ip_mask') + '" type="text">';
            }
            html += '</div>';
            html += '</div>';
            html += '<div class="destination_ip row" style="display: none;">';
            html += '<div class="left">IP назначения</div>'; //Destination IP 
            html += '<div class="right" id="destination_ip_input">';
            if (obj == null) {
                html += '<input id="" class="scm_ip4ip6" name="" value="" type="text">';
            }
            else {
                html += '<input id="" class="scm_ip4ip6" name="" value="' + tmp_data.attr('in_destination_ip') + '" type="text">';
            }
            html += '</div>';
            html += '</div>';
            html += '<div class="destination_ip row" style="display: none;">';
            html += '<div class="left">Маска сети</div>'; //Network Mask 
            html += '<div class="right" id="destination_ip_mask_input">';
            if (obj == null) {
                html += '<input id="" class="scm_ip4ip6" name="" value="" type="text">';
            }
            else {
                html += '<input id="" class="scm_ip4ip6" name="" value="' + tmp_data.attr('in_destination_ip_mask') + '" type="text">';
            }
            html += '</div>';
            html += '</div>';
            html += '<div class="protocol_type row" style="display: none;">';
            html += '<div class="left">Тип протокола</div>'; //Protocol Type 
            html += '<div class="right">';
            html += '<select id="protocol_type_select">';
            $('#data_store .data[option="protocol_type"]').each(function() {
                if (tmp_data == null) {
                    html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                }
                else {
                    if (tmp_data.attr('in_protocol_type') == $(this).attr('value')) {
                        html += '<option value="' + $(this).attr('value') + '" selected>' + $(this).attr('name') + '</option>';
                    }
                    else {
                        html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                    }
                }
            });
            html += '</select>';
            html += '</div>';
            html += '</div>';
            //justin add 20140214
            html += '<div class="protocol_type" style="display: none;">';
            if (tmp_data == null) { //default tcp
                html += '<div class="tcp row">';
            }
            else {
                if ($('#data_store .data[option=protocol_type][value=' + tmp_data.attr('in_protocol_type') + ']').length == 1) {
                    if (tmp_data.attr('in_protocol_type') == 'tcp') {
                        html += '<div class="tcp row">';
                    }
                    else {
                        html += '<div class="tcp row" style="display: none;">';
                    }
                }
                else { //no set true value
                    html += '<div class="tcp row">';
                }
            }
            html += '<div class="left">Порт</div>'; //Port 
            html += '<div class="right">';
            if (tmp_data == null) {
                html += '<input id="protocol_type_tcp_port_input1" class="max5 scm_port" name="" value="" type="text">';
                html += '-';
                html += '<input id="protocol_type_tcp_port_input2" class="max5 scm_port" name="" value="" type="text">';
            }
            else {
                var tmp_port = tmp_data.attr('in_protocol_type_tcp_port').split(':');
                if (tmp_port.length == 2) {
                    html += '<input id="protocol_type_tcp_port_input1" class="max5 scm_port" name="" value="' + tmp_port[0] + '" type="text">';
                    html += '-';
                    html += '<input id="protocol_type_tcp_port_input2" class="max5 scm_port" name="" value="' + tmp_port[1] + '" type="text">';
                }
                else {
                    html += '<input id="protocol_type_tcp_port_input1" class="max5 scm_port" name="" value="" type="text">';
                    html += '-';
                    html += '<input id="protocol_type_tcp_port_input2" class="max5 scm_port" name="" value="" type="text">';
                }
            }
            html += '</div>';
            html += '</div>';
            if (tmp_data == null) {
                html += '<div class="udp row" style="display: none;">';
            }
            else {
                if (tmp_data.attr('in_protocol_type') == 'udp') {
                    html += '<div class="udp row">';
                }
                else {
                    html += '<div class="udp row" style="display: none;">';
                }
            }
            html += '<div class="left">Порт</div>'; //Port 
            html += '<div class="right">';
            if (tmp_data == null) {
                html += '<input id="protocol_type_udp_port_input1" class="max5 scm_port" name="" value="" type="text">';
                html += '-';
                html += '<input id="protocol_type_udp_port_input2" class="max5 scm_port" name="" value="" type="text">';
            }
            else {
                var tmp_port = tmp_data.attr('in_protocol_type_udp_port').split(':');
                if (tmp_port.length == 2) {
                    html += '<input id="protocol_type_udp_port_input1" class="max5 scm_port" name="" value="' + tmp_port[0] + '" type="text">';
                    html += '-';
                    html += '<input id="protocol_type_udp_port_input2" class="max5 scm_port" name="" value="' + tmp_port[1] + '" type="text">';
                }
                else {
                    html += '<input id="protocol_type_udp_port_input1" class="max5 scm_port" name="" value="" type="text">';
                    html += '-';
                    html += '<input id="protocol_type_udp_port_input2" class="max5 scm_port" name="" value="" type="text">';
                }
            }
            html += '</div>';
            html += '</div>';
            html += '</div>';
            //justin add end
            html += '<div class="dscp row" style="display: none;">';
            html += '<div class="left">DSCP</div>'; //DSCP 
            html += '<div class="right">';
            html += '<div class="right">';
            if (tmp_data == null) {
                html += '<input id="dscp_input" name="" class="scm_not_empty2" value="" type="text">';
            }
            else {
                html += '<input id="dscp_input" name="" class="scm_not_empty2" value="' + tmp_data.attr('in_dscp') + '" type="text">';
            }
            html += '</div>';
            html += '</div>';
            html += '</div>';
            html += '<div class="row">';
            html += '<div class="left">Интерфейс WAN</div>'; //WAN Interface 
            html += '<div class="right">';
            html += '<select id="wan_interface_select">';
            $('#data_store .data[option="wan_interface"]').each(function() {
                if (tmp_data == null) {
                    html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                }
                else {
                    if (tmp_data.attr('in_wan_interface') == $(this).attr('value')) {
                        html += '<option value="' + $(this).attr('value') + '" selected>' + $(this).attr('name') + '</option>';
                    }
                    else {
                        html += '<option value="' + $(this).attr('value') + '">' + $(this).attr('name') + '</option>';
                    }
                }
            });
            html += '</select>';
            html += '</div>';
            html += '</div>';
            html += '<div class="clearfix apply-cancel">';
            html += '<div class="right">';
            html += '<input id="cancelButton" class="button button-cancel right" value="Отмена" type="button">';
            html += '</div>';
            html += '<div class="right">';
            html += '<input id="saveButton" class="button button-apply right" value="Сохранить" type="button">';
            html += '</div>';
            html += '</div>';

            return html;
        }

        function page_settings_policy_routing_popup_func_load(obj) {
            //.popup #protocol_type_select
            $('.popup #protocol_type_select').bind("change", function() {
                if (logMessage && window.console) console.log(".popup #protocol_type_select change");

                $('.popup .message-error').hide();

                $('.scm_error_msg').remove();
                $('.popup. input').removeClass('input-message-error');

                $('.popup input').addClass('scm_not_chk');

                $('.popup .tcp').hide();
                $('.popup .udp').hide();

                $('.popup .' + $(this).val()).show();
                $('.popup .' + $(this).val() + ' input').removeClass('scm_not_chk');
            });

            //.popup #type_select
            $('.popup #type_select').bind("change", function() {
                if (logMessage && window.console) console.log(".popup #type_select change");

                $('.popup .message-error').hide();

                $('.scm_error_msg').remove();
                $('.popup. input').removeClass('input-message-error');

                $('.popup input').addClass('scm_not_chk');

                $('.popup .mac').hide();
                $('.popup .source_interface').hide();
                $('.popup .source_ip').hide();
                $('.popup .destination_ip').hide();
                $('.popup .protocol_type').hide();
                $('.popup .dscp').hide();

                $('.popup .' + $(this).val()).show();
                if ($(this).val() == 'protocol_type') {
                    $('select#protocol_type_select').trigger('change');
                }
                else {
                    $('.popup .' + $(this).val() + ' input').removeClass('scm_not_chk');
                }
            });

            //.popup #cancelButton
            $('.popup #cancelButton').bind("click", function() {
                if (logMessage && window.console) console.log(".popup #cancelButton click");

                $('.popup, .blackBackground').fadeOut();
            });

            //.popup #saveButton
            $('.popup #saveButton').bind("click", function() {


                $('.popup, .blackBackground').fadeOut();
            });
        }
    </script>

</body>

</html>