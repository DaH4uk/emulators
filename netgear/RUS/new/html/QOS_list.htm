
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- include page -->
<link type="text/css" rel="stylesheet" href="skin/basic_home.css" media="screen" />
<link type="text/css" rel="stylesheet" href="skin/common.css" media="screen" />
<link type="text/css" rel="stylesheet" href="skin/form.css">
<script type="text/javascript" src="js/boot.js"></script>
<script type="text/javascript" src="js/secboot.js"></script>
<script type="text/javascript" src="js/ip4hops.js"></script>
<script type="text/javascript" src="js/comBasicFun.js"></script>
<script type="text/javascript" src="languages/Russian/error.js"></script>
<script type="text/javascript" src="languages/Russian/alert_error.js"></script>
<script type="text/javascript" src="languages/Russian/menu.js"></script>
<script type="text/javascript" src="languages/Russian/page/QOS_list.js"></script>
<script type="text/javascript">
<!--
var menu_Type = "advanced";
/*---- Global variable define -----*/
var G_Error = "0";
var G_Status= "0";
var G_Error_Msg= "";
var G_ViewState= "-";
var userLevel = "1";
var G_Menu = "advanced";
var G_Page = "QOS_main";
var G_SubPage = "QOS_list";
var G_ErrorPage = "-";
var G_QoSList=new Array();
var m=0;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.1.",//path
"0",//Enable
//"BYFACTORY2010",//PolicyName
unescape("BYFACTORY2010"),
"BYFACTORY2010",//Description
"1", //Priority
"0", //Protocol
"", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.2.",//path
"1",//Enable
//"MSN Messenger",//PolicyName
unescape("MSN Messenger"),
"MSN_messenger_0101000",//Description
"3", //Priority
"6", //Protocol
"1863", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.3.",//path
"1",//Enable
//"Yahoo Messenger",//PolicyName
unescape("Yahoo Messenger"),
"Yahoo_Messenger_0101001",//Description
"3", //Priority
"6", //Protocol
"5050", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.4.",//path
"1",//Enable
//"IP Phone",//PolicyName
unescape("IP Phone"),
"IP_Phone_0101002",//Description
"2", //Priority
"6", //Protocol
"6670", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.5.",//path
"1",//Enable
//"Vonage IP Phone",//PolicyName
unescape("Vonage IP Phone"),
"Vonage_IP_Phone_0101003",//Description
"2", //Priority
"17", //Protocol
"69", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.6.",//path
"1",//Enable
//"Net Meeting",//PolicyName
unescape("Net Meeting"),
"NetMeeting_0101004",//Description
"3", //Priority
"6", //Protocol
"1720", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.7.",//path
"1",//Enable
//"AIM",//PolicyName
unescape("AIM"),
"AIM_0101005",//Description
"3", //Priority
"0", //Protocol
"5190", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.8.",//path
"1",//Enable
//"Google Talk",//PolicyName
unescape("Google Talk"),
"Google_Talk_0101006",//Description
"2", //Priority
"6", //Protocol
"5222", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.9.",//path
"1",//Enable
//"Netgear EVA",//PolicyName
unescape("Netgear EVA"),
"Netgear_EVA_0101007",//Description
"2", //Priority
"17", //Protocol
"49152:49155", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.10.",//path
"1",//Enable
//"SSH",//PolicyName
unescape("SSH"),
"SSH_0101008",//Description
"3", //Priority
"6", //Protocol
"22", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.11.",//path
"1",//Enable
//"Telnet",//PolicyName
unescape("Telnet"),
"Telnet_0101009",//Description
"3", //Priority
"6", //Protocol
"23", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.12.",//path
"1",//Enable
//"VPN",//PolicyName
unescape("VPN"),
"VPN_01010010",//Description
"3", //Priority
"0", //Protocol
"1723", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.13.",//path
"1",//Enable
//"FTP",//PolicyName
unescape("FTP"),
"FTP_01010011",//Description
"4", //Priority
"6", //Protocol
"21", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.14.",//path
"1",//Enable
//"SMTP",//PolicyName
unescape("SMTP"),
"SMTP_01010012",//Description
"4", //Priority
"6", //Protocol
"25", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.15.",//path
"1",//Enable
//"WWW",//PolicyName
unescape("WWW"),
"WWW_01010013",//Description
"4", //Priority
"6", //Protocol
"80", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.16.",//path
"1",//Enable
//"DNS",//PolicyName
unescape("DNS"),
"DNS_01010014",//Description
"4", //Priority
"17", //Protocol
"53", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.17.",//path
"1",//Enable
//"ICMP",//PolicyName
unescape("ICMP"),
"ICMP_01010015",//Description
"4", //Priority
"1", //Protocol
"", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.18.",//path
"1",//Enable
//"eMule/eDonkey",//PolicyName
unescape("eMule/eDonkey"),
"eMule/eDonkey_01010016",//Description
"5", //Priority
"0", //Protocol
"4662", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.19.",//path
"1",//Enable
//"Kazaa",//PolicyName
unescape("Kazaa"),
"Kazaa_01010017",//Description
"5", //Priority
"6", //Protocol
"1214", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.20.",//path
"1",//Enable
//"Gnutella",//PolicyName
unescape("Gnutella"),
"Gnutella_01010018",//Description
"5", //Priority
"0", //Protocol
"6346", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.21.",//path
"1",//Enable
//"BT/Azureus",//PolicyName
unescape("BT/Azureus"),
"BT/Azureus_01010019",//Description
"5", //Priority
"0", //Protocol
"6881", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.22.",//path
"1",//Enable
//"Counter Strike",//PolicyName
unescape("Counter Strike"),
"Counter-Strike_0101010",//Description
"3", //Priority
"17", //Protocol
"27015:27019", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.23.",//path
"1",//Enable
//"Age of Empires",//PolicyName
unescape("Age of Empires"),
"Age-of-Empires_0101011",//Description
"3", //Priority
"0", //Protocol
"23978", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.24.",//path
"1",//Enable
//"Everquest",//PolicyName
unescape("Everquest"),
"Everquest_0101012",//Description
"3", //Priority
"6", //Protocol
"6000", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.25.",//path
"1",//Enable
//"Quake 2",//PolicyName
unescape("Quake 2"),
"Quake-2_0101013",//Description
"3", //Priority
"0", //Protocol
"27910", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.26.",//path
"1",//Enable
//"Quake 3",//PolicyName
unescape("Quake 3"),
"Quake-3_0101014",//Description
"3", //Priority
"0", //Protocol
"27960", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.27.",//path
"1",//Enable
//"Unreal Tourment",//PolicyName
unescape("Unreal Tourment"),
"Unreal-Tourment_0101015",//Description
"3", //Priority
"0", //Protocol
"7783", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
G_QoSList[m] = ["InternetGatewayDevice.X_TWSZ-COM_QoS.Classification.28.",//path
"1",//Enable
//"Warcraft",//PolicyName
unescape("Warcraft"),
"Warcraft_0101016",//Description
"3", //Priority
"6", //Protocol
"6112", //DestPort
"-1", //PhyPort
"", //SourceMACAddress
"" //SourceIP
];
m++;
var G_QoSPath=":InternetGatewayDevice.X_TWSZ-COM_QoS.";
function uiOnload()
{
createTable();
settablecolor("StaticRoutingList");
}
var tmpIndexMap=new Array();
function createTable()
{
Table.Clear('StaticRoutingList');
var array_value = [];
var tmpDescription="";
var tmpString;
var k=0;
var l;
for(var i = 1; i < G_QoSList.length; i++)
{
if(G_QoSList[i][1]==0)
continue;
tmpDescription=G_QoSList[i][3];
tmpDescription=tmpDescription.substr(tmpDescription.length-8, 7);
tmpString=G_QoSList[i][3].substr(0, G_QoSList[i][3].length-8);
tmpString1=G_QoSList[i][3].substr(0, G_QoSList[i][3].length-9);
if(tmpDescription=='_010100')
tmpDescription=tmpString+' '+GlobalApplicationName;
else if(tmpDescription=='0101001' || tmpDescription=='0101002')
tmpDescription=tmpString1+' '+GlobalApplicationName;
else if(tmpDescription=='_010101')
tmpDescription=GlocalGamingName+' '+tmpString;
else if(tmpDescription=='_010102')
tmpDescription=tmpString;
else
tmpDescription='MAC '+G_QoSList[i][8];
l=k+1;
array_value[k] = ['<input type="radio" name="ruleSelect" id="ruleSelect'+k+'" value="'+k+'" />',
l,
EscapeHtmlSting(G_QoSList[i][2]),//Name
G_PriorityTranslation[G_QoSList[i][4]],//Priority
tmpDescription//Description
];
tmpIndexMap[k]=[k, i];
k++;
}
$T('StaticRoutingList',array_value);
}
function uiEdit()
{
var tmpIndex=GetRadioSelection('edit');
var macFlag='-';
if(tmpIndex==-1)
return;
var Path2;
tmpIndex=tmpIndexMap[tmpIndex][1];
Path2 = ':' + G_QoSList[tmpIndex][0];
var _split2 = Path2.split('.');
if(G_QoSList[tmpIndex][8]!="")
{
macFlag = 'isMacEdit';
}
else
{
macFlag = 'noMacEdit';
}
$G('../html/QOS_edit.htm',
{
'var:nodeIndex':_split2[_split2.length -2],
'var:macEditFlag' : macFlag,
'var:menu': G_Menu,
'var:page': 'QOS_list',
'var:subpage': 'QOS_edit',
'getpage': '../html/QOS_edit.htm',
'errorpage': '../html/QOS_edit.htm'
});
}
function uiDeleteAll()
{
var tmpLength=tmpIndexMap.length;
if(tmpLength == 0)
{
alertError('pleasechooseanitemedelete',1);
return;
}
if(alertError('Areyousureyouwanttodeleteall',2))
{
$H({
'var:menu' : G_Menu,
'var:page' : 'QOS_list',
'obj-action' : 'set',
'getpage' : 'html/page.htm',
'errorpage' : 'html/page.htm',
'var:CacheLastData': ViewState.Save()
},true);
$F(G_QoSPath + 'DeleteAllRules' , 1);
$('uiPostForm').submit();
}
return;
}
function GetRadioSelection(_tmpFlag)
{
var i;
var tmpLength=tmpIndexMap.length;
var tmpId='ruleSelect';
for(i=0; i<tmpLength; i++)
{
if(Form.Checkbox(tmpId+i)==0)
continue;
break;
}
if(i==tmpLength)
{
if(_tmpFlag=='edit')
{
alertError('pleasechooseanitemedit',1);
}
else if(_tmpFlag=='del')
{
alertError('pleasechooseanitemedelete',1);
}
//alertError('pleasechooseanitem');
return -1;
}
return i;
}
function uiDelete()
{
var tmpIndex=GetRadioSelection('del');
if(tmpIndex==-1)
{
return;
}
tmpIndex=tmpIndexMap[tmpIndex][1];
if(alertError('Areyousureyouwanttodeletethisitem',2))
{
$H({
'del-obj' : G_QoSList[tmpIndex][0],
'obj-action' : 'del',
'getpage' : 'html/page.htm',
'errorpage' : 'html/page.htm',
'var:menu' : G_Menu,
'var:page' : G_Page,
'var:subpage' : G_SubPage,
'var:errorpage': G_SubPage
});
$('uiPostForm').submit();
}
}
function JumpToAddPage()
{
$G('../html/QOS_edit.htm',{
'var:menu': G_Menu,
'var:page': G_SubPage,
'var:subpage': 'QOS_edit',
//'var:page': 'qos_list_edit',
'getpage': '../html/QOS_edit.htm',
'errorpage': '../html/QOS_edit.htm'
});
}
function JumpToFormerPage()
{
$G('../html/QOS_main.htm',{
'var:page' : 'QOS_main',
'var:subpage' : 'QOS_main',
'getpage' : '../html/QOS_main.htm',
'errorpage' : '../html/QOS_main.htm'
});
}
function dealWithError()
{
if (G_Error != 1){
return false;
}
var arrayHint = [];
dealErrorMsg(arrayHint, G_Error_Msg);
}
addListeners(uiOnload, dealWithError);
-->
</script>
<body id="real_page" >
<!-- config -->
<form id="uiPostForm" method="post" action="QOS_list.htm"></form>
<style type="text/css"><!--
td {
font-family:Arial,Helvetica,Geneva,Swiss,SunSans-Regular,sans-serif;
font-size:12px;
}
select {
font-family:Arial,Helvetica,Geneva,Swiss,SunSans-Regular,sans-serif;
font-size:12px;
}
--></style>
<div class="page_title" id="lang_qosetup">QoS Setup</div>
<div class="fix_button">
<table width=100% border=0 cellpadding=0 cellspacing=2>
<tr>
<td nowrap colspan=2 align=center>
<input class="cancel_bt" type='button' onclick='JumpToFormerPage();' value='Cancel' id="cancel" name="cancel" />
<input class="apply_bt" type='submit' id = "apply" name="apply" onclick='JumpToFormerPage();' value='Apply' />
</td>
</tr>
</table>
</div>
<div id="main" class="main_top_button">
<table style="background:white; width:100%;">
<tr>
<!-- config -->
<td class="mainFramWidth">
<div class="config3">
<table width="100%" border="0" cellpadding="0" cellspacing="3">
<tr>
<td>
<p id="idMaxrules" style="padding-bottom:8px; display:none;">Max of rules: 32</p>
</td>
</tr>
<tr>
<td>
<table id="StaticRoutingList" width="100%" border="0" cellspacing="0" cellpadding="2" align="center" class="td_table_s3">
<tr align="center" class="table_header">
<th nowrap="nowrap">&nbsp;</th>
<th nowrap="nowrap">#</th>
<th id="idStaticRouteTable3" nowrap="nowrap">QoS Policy</th>
<th id="idStaticRouteTable4" nowrap="nowrap">Priority</th>
<th id="idStaticRouteTable5" nowrap="nowrap">Description</th>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap="" colspan="2"><hr width="100%" size="2" color=#9966ff></td>
</tr>
<tr>
<td>
<!--Button1-->
<div class="div_button">
<input class="edit_bt" type='submit' id = "edit_qos" name="edit_qos" onclick='uiEdit()' value='Edit' />
<input class="delete_bt" type='submit' onclick='uiDelete()' value='Delete' id="delete_qos" name="delete_qos" />
<input class="delete_bt" type='button' onclick='uiDeleteAll()' value='Delete All' id="DeleteAll" name="DeleteAll" />
<br><br>
<input class="long_add_bt" type="submit" onClick="JumpToAddPage();" value="Add Priority Rule" id="add_qos" name="add_qos" />
</div>
<!--Button2-->
</td>
</tr>
<tr>
<td nowrap="" colspan="2"><hr width="100%" size="2" color=#9966ff></td>
</tr>
</table>
</div>
<!--<form name="uiPostForm" id="uiPostForm" method="post" action=""></form>-->
</td>
</tr>
</table>
</div>
<div id="help" style="display: none; left:0px;">
<iframe name="helpframe" id="helpframe" src="help.htm" allowtransparency="true" width="100%" frameborder="0" >
</iframe>
</div>
<div id="help_switch" class="close_help" style="">
<img class="help_switch_img" src="skin/image/help/help-bar.gif">
<script>
var help_flag=0;
function help_brower()
{
if(isIE()){
show_hidden_help_top_button(1);
var frame_div = top.document.getElementById("formframe_div");
frame_div.onresize = function(){
if( help_flag == 0 )
show_hidden_help_top_button(1);
else{
show_hidden_help_top_button(--help_flag);
help_flag++;
}
};
}
if(get_browser() == "Opera"){
window.onresize = function(){
if( help_flag == 0 )
show_hidden_help_top_button(1);
else{
show_hidden_help_top_button(--help_flag);
help_flag++;
}
};
}
}
var wl_erase = "-"
switch("QOS_list")
{
case "RST_status":
case "basic_home":self.document.getElementById("real_page").style.backgroundColor = '#e5e5e5';
case "BAK_cfm":
case "WIZ_cfm":
/****************************************************************/
/*升级模块*/
case "AUTO_search":
case "AUTO_upgrade_no_internet":
case "AUTO_upgrade_noversion":
case "AUTO_upgrade_process":
case "UpdateCheck":
case "UPG_check_version":
/****************************************************************/
case "Reboot":
case "BRS_checkNet":
case "BRS_success":
case "BRS_genieHelp":
case "BRS_haveBackupFile":
case "WIZ_fix":
case "WIZ_wait":
case "AUTO_download_image":
case "updataGui":
case "traffic_alert":
self.document.getElementById("help_switch").style.display="none";
break;
default:
self.document.getElementById("help_switch").style.display="";
help_brower();
break;
}
</script>
<div id="help_space" onClick="show_hidden_help_top_button(help_flag); help_flag++;"></div>
<div id="help_center"><span id="lang_help_center">Help Center</span></div>
<div id="help_button" onClick="show_hidden_help_top_button(help_flag); help_flag++;"></div>
<div id="help_show_hidden"><a href="javascript:void(0)" onClick="show_hidden_help_top_button(help_flag); help_flag++;"><span id="lang_show_or_hide">Show/Hide Help Center</span></a></div>
</div>
</body>