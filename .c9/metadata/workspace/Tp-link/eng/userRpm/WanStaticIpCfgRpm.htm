{"filter":false,"title":"WanStaticIpCfgRpm.htm","tooltip":"/Tp-link/eng/userRpm/WanStaticIpCfgRpm.htm","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":342,"column":0},"action":"insert","lines":["<LINK href=\"../dynaform/css_main.css\" rel=stylesheet>","<META http-equiv=Content-Type content=\"text/html; charset=iso-8859-1\">","<script language=\"JavaScript\" src=\"../dynaform/common.js\" type=\"text/JavaScript\"></script>","<SCRIPT language=\"javascript\" type=\"text/javascript\"><!--","if(window.parent == window){window.location.href=\"http://192.168.1.1\";}","function Click(){ return false;}","document.oncontextmenu=Click;","//--></SCRIPT>","<SCRIPT type=\"text/javascript\"><!--//","var wanType = new Array(","\"<span id=\\\"t_dyma_ip\\\">Dynamic IP<\\/span>\",\t//\tWAN_TYPE_DHCP = 0,","\"<span id=\\\"t_stat_ip\\\">Static IP<\\/span>\",\t//\tWAN_TYPE_STATIC_IP, ","\"<span id=\\\"t_pppoe\\\">PPPoE<\\/span>\",\t//\tWAN_TYPE_PPPOE, ","\"<span id=\\\"t_dhcp\\\">802.1x DHCP<\\/span>\",\t//\tWAN_TYPE_802_1X_DHCP,","\"<span id=\\\"t_802_stat_ip\\\">802.1x Static IP<\\/span>\",\t//\tWAN_TYPE_802_1X_STATIC_IP,","\"<span id=\\\"t_bpa\\\">BigPond Cable<\\/span>\",\t//\tWAN_TYPE_BPA,","\"<span id=\\\"t_l2tp\\\">L2TP<\\/span>\",\t//\tWAN_TYPE_L2TP,","\"<span id=\\\"t_pptp\\\">PPTP<\\/span>\",\t//\tWAN_TYPE_PPTP,","\"\"\t//\tWAN_TYPE_END",");","var staticIpInf = new Array(","1,","0,","0,","0,","0,","0,","1,","\"\",","\"\",","0,","0,","\"\",","\"0.0.0.0\",","\"0.0.0.0\",","\"0.0.0.0\",","1500,","\"0.0.0.0\",","\"0.0.0.0\",","0,","0,","0,0 );","var wantypeinfo = new Array(","6,","0,","\"WanCfgRpm.htm\",","1,","\"WanStaticIpCfgRpm.htm\",","2,","\"PPPoECfgRpm.htm\",","5,","\"BPACfgRpm.htm\",","6,","\"L2TPCfgRpm.htm\",","7,","\"PPTPCfgRpm.htm\",","0,0 );","","function doSubmit()","{","\tvar val;","\tval=document.forms[0].mtu.value;","\tif(val<576||val>1500||val==\"\")","\t{","\t\talert(js_bad_mtu=\"Bad MTU, please input another number!(576 ~ 1500, the default is 1500)\");","\t\treturn false;","\t}","\tif(!is_ipaddr(document.forms[0].ip.value))","\t{","\t\tvar element =document.forms[0].ip;","\t\tif(element)","\t\t{","\t\t\telement.focus();","\t\t\telement.select();","\t\t}","\t\treturn false;","\t}","\tif(!is_maskaddr(document.forms[0].mask.value))","\t{","\t\tvar element =document.forms[0].mask;","\t\tif(element)","\t\t{","\t\t\telement.focus();element.select();","\t\t}","\t\treturn false;","\t}","\tif(document.forms[0].gateway.value != \"0.0.0.0\" && document.forms[0].gateway.value != \"\")","\t{","\t\tif(!is_gatewayaddr(document.forms[0].gateway.value))","\t\t{","\t\t\tvar element =document.forms[0].gateway;","\t\t\tif(element)","\t\t\t{","                document.forms[0].gateway.value = \"0.0.0.0\";","\t\t\t\telement.focus();","\t\t\t\telement.select(); ","\t\t\t}","\t\t\treturn false;","\t\t}","\t}","\tif(document.forms[0].dnsserver.value != \"0.0.0.0\" && document.forms[0].dnsserver.value != \"\")","\t{","\t\tif(!is_dnsaddr(document.forms[0].dnsserver.value))","\t\t{","\t\t\tvar element =document.forms[0].dnsserver;","\t\t\tif(element)","\t\t\t{","                document.forms[0].dnsserver.value = \"0.0.0.0\"","\t\t\t\telement.focus();","\t\t\t\telement.select();","","\t\t\t}","\t\treturn false;","\t\t}","\t}","\tif(document.forms[0].dnsserver2.value != \"0.0.0.0\" && document.forms[0].dnsserver2.value != \"\")","\t{","\t\tif(!is_dnsaddr(document.forms[0].dnsserver2.value))","\t\t{","\t\t\tvar element =document.forms[0].dnsserver2;","\t\t\tif(element)","\t\t\t{","\t\t\t\telement.focus();","\t\t\t\telement.select();","\t\t\t}","\t\treturn false;","\t}","\t}","\treturn true;","}","function doChange()","{","\tvar n = 0;","\tif(staticIpInf[0] > 1)","\t{","\t\tn = document.forms[0].wan.value;","\t}","\ts = \"wan=\"+n;","\tvar t = document.forms[0].wantype.selectedIndex;","\tlocation.href = \"../userRpm/\"+wantypeinfo[t*2+2]+\"?\"+s;","}","","function doWanChange()","{","\tvar n = document.forms[0].wan.selectedIndex;","\tvar s = \"wan=\"+n;","\tlocation.href = \"../userRpm/WanCfgRpm.htm\"+\"?\"+s;","}","","function netClick()","{","\tif(document.forms[0].Intranet.checked==false) ","\t{","\t\tdocument.forms[0].netRange.disabled=true;","\t} ","\telse","\t{","\t\tdocument.forms[0].netRange.disabled=false;","\t}","}","function checkIP()","{","\tvar obj = document.getElementById(\"netRange\").value;","\tvar n = obj.indexOf(\"-\");","\tif(n == -1)","\t{","            alert(js_interior_network_inv=\"The Interior network is invalid, please input again!\");","            return false;","        }","\tvar beginIP = obj.substring(0,n)","\tvar endIP = obj.substring(n+1);","\tif(ipverify(beginIP) && ipverify(endIP))","\t{","\t\treturn true;","\t}","\telse","\t{","\t\talert(js_interior_network_inv=\"The Interior network is invalid, please input again!\");","\t\treturn false;","\t}","}","function doDetect()","{","\tlocation.href=\"../userRpm/WanStaticIpCfgRpm.htm?detect=1\";","}","","function refresh()","{\t","\tlocation.href=\"../userRpm/WanStaticIpCfgRpm.htm\";\t","}","//--></SCRIPT>","</HEAD>","<SCRIPT type=\"text/javascript\">","</SCRIPT>","<BODY onLoad=\"LoadHelp('WanStaticIpCfgHelpRpm.htm');setTagStr(document,'ntw_static_ip_cfg'); resize(this);\" onResize=\"resize(this);\">","<FORM action=\"WanStaticIpCfgRpm.htm\" enctype=\"multipart/form-data\" method=\"get\" onSubmit=\"return doSubmit();\">","  <TABLE id=\"autoWidth\">","    <TR>","      <TD class=h1 colspan=2 id = \"t_title\">WAN</TD>","    </TR>","    <TR>","      <TD class=blue colspan=2></TD>","    </TR>","    <SCRIPT type=\"text/javascript\">","if(staticIpInf[0] > 1)","{","\tdocument.write('<TR><TD class=Item id = \\\"t_wan_port\\\">WAN Port:<\\/TD><TD><select name=\\\"wan\\\"  id=\\\"wan\\\" onChange=\\\"doWanChange()\\\">');","\tfor(var i=0;i<staticIpInf[0];i++)","\t{","\t\tdocument.write('<option value=\\\"'+i+'\\\">WAN'+ (i+1)+'<\\/option>');","\t}","\tdocument.write('<\\/select>');","}","//added by ZQQ,08.12.10 , if one wan, it should be exist but not display","else","{\t","\tdocument.write('<TR style =\\\"display:none\\\"><TD class=Item id = \\\"t_wan_port\\\">WAN Port:<\\/TD><TD><select name=\\\"wan\\\" id=\\\"wan\\\" onChange=\\\"doWanChange()\\\">')","\tdocument.write('<option value=0>WAN1<\\/option>');","    document.write('<\\/select>');","}","</SCRIPT>","    </td>","    ","    </tr>","    ","    <TR>","      <TD class=Item id = \"t_wan_conn_tp\">WAN Connection Type:</TD>","      <TD><SELECT name=\"wantype\" onChange=\"doChange()\">","          <SCRIPT type=\"text/javascript\">","for ( var t=0; t < wantypeinfo[0]; t++)","{","\tdocument.write('<option value=\"'+wantypeinfo[t*2+1]+'\">'+wanType[wantypeinfo[t*2+1]]+'<\\/option>');","}","</SCRIPT>","        </SELECT>","        &nbsp;","        <INPUT name=\"Discover\" type=\"button\" class=\"button\" id=\"discover\" value=\"Detect\" onclick=doDetect()>","        <SCRIPT type=\"text/javascript\">","\tvar HAVE_NOT_DETECTED = 0;","\tvar DETECTIING = 1;","\tvar HAVE_DETECTED = 2;","\tvar DISCONNECTED = 3;","","\tvar detected_wan_type = wanTypeDetectInfoArray[0];","\tvar wan_type_detect_stat = wanTypeDetectInfoArray[1];","\tvar wait_time = wanTypeDetectInfoArray[2];","\t","\tswitch (wan_type_detect_stat)","\t{\t\t","\tcase HAVE_NOT_DETECTED:","\t\tdocument.write('&nbsp;<font color=\"0000FF\">' + '         ' + '<\\/font>');\t","\t\tbreak;","\tcase DETECTIING:","\t\tdocument.write('&nbsp;<span style=\"color:#0000FF\" id=\"t_det\">Detecting...<\\/span>');","\t\twindow.setTimeout(\"refresh()\", wait_time);","\t\tbreak;","\tcase HAVE_DETECTED:","\t\tdocument.write('&nbsp;<font color=\"0000FF\">' + wanType[detected_wan_type] + '<\\/font>');","\t\tbreak;","\tcase DISCONNECTED:","\t\tdocument.write('&nbsp;<span style=\"color:#FF0000\" id=\"t_unplugged\">Unplugged<\\/span>');","\t\tbreak;","\tdefault:","\t\tbreak;","\t}","</SCRIPT></TD>","    </TR>","    <TR id=\"showIntranet\" style=\"display:none;\">","      <TD class=Item ><INPUT type=\"checkbox\" name=\"Intranet\" value=\"2\" onClick=\"netClick();\" >","        <SPAN id = \"t_in_net_ran\">Interior network:</SPAN></TD>","      <TD><INPUT id = \"netRange\" name=\"netRange\" value=\"\" type=\"text\" class=\"text\" size=\"32\" maxlength=\"31\"  onblur = \"checkIP()\" onFocus=\"doFocus();\"></TD>","    </TR>","    <TR>","      <TD colspan=2></TD>","    </TR>","    <TR>","      <TD class=Item id = \"t_ip_addr\">IP Address:</TD>","      <TD><INPUT name=\"ip\" type=\"text\" class=\"text\" value=\"\" size=\"15\" maxlength=\"15\"></TD>","    </TR>","    <TR>","      <TD class=Item id = \"t_sub_mask\">Subnet Mask:</TD>","      <TD><INPUT name=\"mask\" type=\"text\" class=\"text\" value=\"\" size=\"15\" maxlength=\"15\"></TD>","    </TR>","    <TR>","      <TD class=Item id = \"t_def_gateway\">Default Gateway:</TD>","      <TD><INPUT name=\"gateway\" type=\"text\" class=\"text\" value=\"\" size=\"15\" maxlength=\"15\">","        <SPAN id = \"t_option\">&nbsp;(Optional)</SPAN></TD>","    </TR>","    <TR>","      <TD colspan=2></TD>","    </TR>","    <TR>","      <TD class=Item id = \"t_mtu_size\">MTU Size (in bytes):</TD>","      <TD><INPUT name=\"mtu\" type=\"text\" class=\"text\" value=\"\" size=\"5\" maxlength=\"5\">","        <SPAN id = \"t_desc\">&nbsp;(The default is 1500, do not change unless necessary.)</SPAN></TD>","    </TR>","    <TR>","      <TD colspan=2></TD>","    </TR>","    <TR>","      <TD class=Item id = \"t_pri_dns\">Primary DNS:</TD>","      <TD><INPUT name=\"dnsserver\" type=\"text\" class=\"text\" value=\"\" size=\"15\" maxlength=\"15\">","        <SPAN id = \"t_option1\">&nbsp;(Optional)</SPAN></TD>","    </TR>","    <TR>","      <TD class=Item id = \"t_sec_dns\">Secondary DNS:</TD>","      <TD><INPUT name=\"dnsserver2\" type=\"text\" class=\"text\" value=\"\" size=\"15\" maxlength=\"15\">","        <SPAN id=\"t_opt2\">&nbsp;(Optional)</SPAN></TD>","    </TR>","    <TR>","      <TD class=blue colspan=2></TD>","    </TR>","    <TR>","      <TD></TD>","      <TD><INPUT name=\"Save\" type=\"submit\" class=\"buttonBig\" value=\"Save\"></TD>","    </TR>","  </TABLE>","</FORM>","</BODY>","<HEAD>","<META http-equiv=\"pragma\" content=\"no-cache\">","</HEAD>","</HTML>","<SCRIPT type=\"text/javascript\">","if(staticIpInf[0] != 1)","{","document.forms[0].wan.selctedIndex = staticIpInf[5];","}","document.forms[0].wantype.selectedIndex = staticIpInf[6];","document.forms[0].ip.value = staticIpInf[12];","document.forms[0].mask.value = staticIpInf[13];","document.forms[0].gateway.value = staticIpInf[14];","document.forms[0].mtu.value = staticIpInf[15];","document.forms[0].dnsserver.value = staticIpInf[16];","document.forms[0].dnsserver2.value = staticIpInf[17];","netClick();","if(staticIpInf[0] > 1)","{","//\tdocument.getElementById('showBandWidth').style.display = \"block\";","//\tdocument.getElementById('showIntranet').style.display = \"block\";","}","</SCRIPT>",""],"id":1}]]},"ace":{"folds":[],"scrolltop":1949,"scrollleft":0,"selection":{"start":{"row":342,"column":0},"end":{"row":342,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1468782306031,"hash":"4afddea231cee982b175e5e7ea658d67fe05f92b"}