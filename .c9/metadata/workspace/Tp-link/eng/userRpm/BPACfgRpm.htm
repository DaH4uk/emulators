{"filter":false,"title":"BPACfgRpm.htm","tooltip":"/Tp-link/eng/userRpm/BPACfgRpm.htm","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":344,"column":0},"action":"insert","lines":["<LINK href=\"../dynaform/css_main.css\" rel=stylesheet>","<SCRIPT language=\"javascript\" src=\"../dynaform/common.js\" type=\"text/javascript\"></SCRIPT>","<SCRIPT language=\"javascript\" type=\"text/javascript\"><!--","if(window.parent == window){window.location.href=\"http://192.168.1.1\";}","function Click(){ return false;}","document.oncontextmenu=Click;","//--></SCRIPT>","<SCRIPT type=\"text/javascript\">","<!--","var wanType = new Array(","\"<option id=\\\"t_dynip\\\">Dynamic IP</option>\",  ","\"<option id=\\\"t_statip\\\">Static IP</option>\",  ","\"<option id=\\\"t_pppoe\\\">PPPoE</option>\", ","\"<option id=\\\"t_802dyip\\\">802.1X + Dynamic IP</option>\",  ","\"<option id=\\\"t_802statip\\\">802.1X + Static IP</option>\", ","\"<option id=\\\"t_bpa\\\" selected>BigPond Cable</option>\",","\"<option id=\\\"t_l2tp\\\">L2TP</option>\",  ","\"<option id=\\\"t_pptp\\\">PPTP</option>\", ","\"\"\t",");","var bpaData = new Array(","1,","0,","5,","\"username\",","\"password\",","\"sm-server\",","\"\",","1500,","1,","15,","0,","0,","1,","1,","1,","0,0 );","var wantypeinfo = new Array(","6,","0,","\"WanCfgRpm.htm\",","1,","\"WanStaticIpCfgRpm.htm\",","2,","\"PPPoECfgRpm.htm\",","5,","\"BPACfgRpm.htm\",","6,","\"L2TPCfgRpm.htm\",","7,","\"PPTPCfgRpm.htm\",","0,0 );","","function doSelect()","{","\tif(document.forms[0].linktype[0].checked)","\t{","\t\tdocument.forms[0].waittime.disabled = false;","\t\tselectype=1;","\t}","\telse","\t\tdocument.forms[0].waittime.disabled = true;","\tif(document.forms[0].linktype[1].checked)","\t{","\t\tdocument.forms[0].waittime.disabled = true;","\t\tdocument.forms[0].waittime2.disabled = true;","\t\tselectype=2;","\t}","\tif(document.forms[0].linktype[2].checked)","\t{","\t\tdocument.forms[0].waittime2.disabled = false;","\t\tselectype=3;","\t}","\telse","\t\tdocument.forms[0].waittime2.disabled = true;","\treturn true;","}","function doSubmit()","{","\tvar element = document.forms[0].usr;","\tif (element && element.value == \"\")","\t{","\t\talert(js_usrname_req = \"User Name is required.\");","\t\telement.focus();","\t\telement.select();","\t\treturn false;","\t}","\t","\telement = document.forms[0].pwd;","\tif (element && element.value == \"\")","\t{","\t\talert(js_passwd_req = \"Password is required.\");","\t\telement.focus();","\t\telement.select();","\t\treturn false;","\t}","\t","\tvar value=document.forms[0].mtu.value;","\tif(!is_number(value))","\t\treturn false;","\tif(document.forms[0].linktype[0].checked)","\t{","\t\tif(!is_number(document.forms[0].waittime.value))","\t\t\treturn false;","\t}","\tif(document.forms[0].linktype[2].checked)","\t{","\t\tif(!is_number(value))","\t\t\treturn false;","\t}","\tif((bpaData[8]!=selectype)&&(2==bpaData[11] || 1==bpaData[11]))","\t{","\t\tif(!confirm(js_mksure_bpa_change=\"BPA connection type is changed, so the old\\n\\nconnection will be disconnected. Continue?\"))","\t\t\treturn false;","\t}","\tvar val;","\tval=document.forms[0].mtu.value;","\tif(val<576||val>1500||val==\"\")","\t{","\t\talert(js_bad_mtu=\"Bad MTU,please input another number!\\n(576~1500,the default is 1500)\");","\t\treturn false;","\t}","\treturn true;","}","function doChange()","{","\tvar n = 0;","\tif(bpaData[0] > 1)","\t\tn = document.forms[0].wan.value;","\ts = \"wan=\"+n;","\tvar t = document.forms[0].wantype.selectedIndex;","\tlocation.href = \"../userRpm/\"+wantypeinfo[t*2+2]+\"?\"+s;","}","function doWanChange()","{","\tvar n = document.forms[0].wan.selectedIndex;","\tvar s = \"wan=\"+n;","\tlocation.href = \"../userRpm/WanCfgRpm.htm\"+\"?\"+s;","}","var stopRefresh=0;","function doClick()","{","\tstopRefresh=1;","\treturn true;","}","function doRefresh()","{","\tif (0==stopRefresh)","\t\tlocation.href=\"BPACfgRpm.htm\";","\treturn true;","}","function doOnblur()","{","\tstopRefresh=1;","\treturn true;","}","-->","</SCRIPT>","</HEAD><BODY onLoad=\"setTagStr(document,'ntw_bpa_cfg');LoadHelp('BpaCfgHelpRpm.htm'); doSelect(); resize(this);\" onResize=\"resize(this);\">","<CENTER>","  <FORM action=\"BPACfgRpm.htm\" enctype=\"multipart/form-data\" method=\"get\" onSubmit=\"return doSubmit();\">","    <TABLE id=\"autoWidth\">","      <TR>","        <TD class=h1 colspan=2 id=\"t_title\">WAN</TD>","      </TR>","      <TR>","        <TD class=blue colspan=2></TD>","      </TR>","      <SCRIPT type=\"text/javascript\">","if(bpaData[0] > 1)","{","\tdocument.write('<TR><TD class=Item id = \\\"t_wan_port\\\">WAN Port:</TD><TD><select name=\\\"wan\\\" id=\\\"wan\\\" onChange=\\\"doWanChange()\\\" onblur = \\\"doOnbulr()\\\" onFocus = \\\"doFocus()\\\">');","\tfor(var i=0;i<dhcpInf[0];i++)","\t\tdocument.write('<option value=\\\"'+i+'\\\">WAN'+(i+1)+'</option>');","\tdocument.write('</select>');","}","//added by ZQQ,08.12.10 , if one wan, it should be exist but not display","else","{\t","\tdocument.write('<TR style =\"display:none\"><TD class=Item id = \\\"t_wan_port\\\">WAN Port:</TD><TD><select name=\\\"wan\\\" id=\\\"wan\\\" onChange=\\\"doWanChange()\\\">')","\tdocument.write('<option value=0>WAN1</option>');","    document.write('</select>');","}","</SCRIPT>","      <TR>","        <TD class=Item id=\"t_wan_con_type\">WAN Connection Type:</TD>","        <TD><SELECT name=\"wantype\"  onchange=\"doChange()\" onFocus=\"doClick();\">","            <SCRIPT type=\"text/javascript\">","\t\tfor ( var t=0; t < (wantypeinfo.length-3)/2; t++)","\t\t\tdocument.write(wanType[wantypeinfo[t*2+1]]);","\t\t</SCRIPT>","          </SELECT></TD>","        <TD colspan=2></TD>","      </TR>","      <TR>","        <TD></TD>","      </TR>","      <TR>","        <TD class=Item id=\"t_usrname\">User Name:</TD>","        <TD><INPUT name=\"usr\" type=\"text\" class=\"text\" value=\"\" size=\"25\" maxlength=\"15\" onFocus=\"doClick();\"></TD>","      </TR>","      <TR>","        <TD class=Item id=\"t_pwd\">Password:</TD>","        <TD><INPUT name=\"pwd\" type=\"password\" class=\"text\" value=\"\" size=\"25\" maxlength=\"15\" onFocus=\"doClick();\"></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD>&nbsp;</TD>","      </TR>","      <TR>","        <TD class=Item id=\"t_auth_srv\">Auth Server:</TD>","        <TD><INPUT name=\"AuthSrv\" type=\"text\" class=\"text\" value=\"sm-server\" size=\"32\" maxlength=\"32\" onFocus=\"doClick();\"></TD>","      </TR>","      <TR>","        <TD class=Item id=\"t_auth_domain\">Auth Domain:</TD>","        <TD><INPUT name=\"AuthDomain\" type=\"text\" class=\"text\" value=\"\" size=\"32\" maxlength=\"32\" onFocus=\"doClick();\"></TD>","      </TR>","<SCRIPT type=\"text/javascript\">","if(bpaData[0] > 1)","{","\tdocument.write(\"<tr><td class=Item id = \\\"t_egress_bdwth\\\">Egress Bandwidth:</td>\");","\tdocument.write(\"<td><input name = \\\"EgressBandwidth\\\" type = \\\"text\\\" class = \\\"text\\\" size = 5 onblur = \\\"is_digit(this.value)\\\">\");","\tdocument.write(\"<span id = \\\"t_option0\\\">Kbps (Optional)</span></td></tr>\")","\tdocument.write(\"<tr><td class=Item id = \\\"t_ingress_bdwth\\\">Ingress Bandwidth:</td>\");","\tdocument.write(\"<td><input name = \\\"IngressBandwidth\\\" type = \\\"text\\\" class = \\\"text\\\" size = 5 onblur = \\\"is_digit(this.value)\\\">\");","\tdocument.write(\"<span id = \\\"t_option1\\\">Kbps (Optional)</span></td></tr>\")","}","</SCRIPT>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD>&nbsp;</TD>","      </TR>","      <TR>","        <TD class=Item id=\"t_mtu_size\">MTU Size (in bytes):</TD>","        <TD><INPUT name=\"mtu\" type=\"text\" class=\"text\" value=\"\" size=\"5\" maxlength=\"4\" onFocus=\"doClick();\" >","          &nbsp; <SPAN id = \"t_mtu_deault\">(The default is 1500, do not change unless necessary.)</SPAN></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD><INPUT name=\"linktype\" type=\"radio\" onClick=\"doSelect();doClick();\" value=\"1\">","          <SPAN id=\"t_con_on_demand\">Connect on Demand</SPAN></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN id=\"t_max_idle_time0\">Max Idle Time: </SPAN>&nbsp; ","          <INPUT name=\"waittime\" class=\"text\" value=\"\" size=\"2\" maxlength=\"2\" onFocus=\"doClick();\">","          <SPAN id = \"t_minutes0\">minutes (0 means remain active at all times.)</SPAN></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD><INPUT name=\"linktype\" type=\"radio\" value=\"2\" onClick=\"doSelect();doClick();\">","          <SPAN id=\"t_con_auto\">Connect Automatically</SPAN></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD><INPUT name=\"linktype\" type=\"radio\" onClick=\"doSelect();doClick();\" value=\"3\">","          <SPAN id=\"t_con_manually\">Connect Manually</SPAN></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN id=\"t_max_idle_time1\">Max Idle Time:</SPAN> &nbsp; ","          <INPUT name=\"waittime2\" class=\"text\" value=\"\" size=\"2\" maxlength=\"2\" onFocus=\"doClick();\" >","          <SPAN id = \"t_minutes1\">minutes (0 means remain active at all times.)</SPAN></TD>","      </TR>","      <TR>","        <TD colspan=2></TD>","      </TR>","      <TR>","        <TD class=Item>&nbsp;</TD>","        <TD class=emp><INPUT name=\"Connect\" type=\"submit\" class=\"button\" value=\"Connect\">","          &nbsp;&nbsp;","          <INPUT name=\"Disconnect\" type=\"submit\" class=\"button\" value=\"Disconnect\">","          <SCRIPT type=\"text/javascript\">","\t\tswitch(bpaData[10])","\t\t{","\t\tcase 0:","\t\t\tdocument.write('&nbsp;&nbsp;<span id = \"t_disconnected\">Disconnected!</span>');","\t\t\tbreak;","\t\tcase 1:","\t\t\tdocument.write('&nbsp;&nbsp;<span id = \"t_connected\">Connected!</span>');","\t\t\tbreak;","\t\tcase 2:","\t\t\tdocument.write('&nbsp;&nbsp;<span id = \"t_Connecting\">Connecting...</span>');","\t\t\tbreak;","\t\tdefault:","\t\t\tdocument.write('&nbsp;&nbsp;--');","\t\t\tbreak;","\t\t}","\t\t</SCRIPT></TD>","      </TR>","      <TR>","        <TD class=blue colspan=2></TD>","      </TR>","      <TR>","        <TD></TD>","        <TD><INPUT name=\"Save\" type=\"submit\" class=\"buttonBig\" value=\"Save\"></TD>","      </TR>","    </TABLE>","  </FORM>","</CENTER>","</BODY>","</HTML><SCRIPT type=\"text/javascript\">","if(bpaData[14])","\twindow.setTimeout(\"doRefresh()\",10000);","if(bpaData[0] != 1)","\tdocument.forms[0].wan.selectedIndex = bpaData[1];","//document.forms[0].wantype.selectedIndex = bpaData[2];","document.forms[0].usr.value=bpaData[3];","document.forms[0].pwd.value=bpaData[4];","document.forms[0].AuthSrv.value=bpaData[5];","document.forms[0].AuthDomain.value=bpaData[6];","document.forms[0].mtu.value=bpaData[7];","if (1==bpaData[8])","{","\tdocument.forms[0].linktype[0].checked=true;","\tselectype=1;","}","else if (2==bpaData[8])","{","\tdocument.forms[0].linktype[1].checked=true;","\tselectype=2;","}","else","{","\tdocument.forms[0].linktype[2].checked=true;","\tselectype=3;","}","document.forms[0].waittime.value=bpaData[9];","document.forms[0].waittime2.value=bpaData[9];","if(0==bpaData[11])","\tdocument.forms[0].Disconnect.disabled=true;","else","\tdocument.forms[0].Connect.disabled=true;","if(5!=bpaData[2])","{","\tdocument.forms[0].Connect.disabled=true;","\tdocument.forms[0].Disconnect.disabled=true;","}","if(bpaData[0] > 1)","{","\tdocument.forms[0].IngressBandwidth.value = bpaData[12];","\tdocument.forms[0].EgressBandwidth.value = bpaData[13];","}","</SCRIPT>",""],"id":1}]]},"ace":{"folds":[],"scrolltop":4377,"scrollleft":0,"selection":{"start":{"row":344,"column":0},"end":{"row":344,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":311,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1468782806320,"hash":"8abb84093d5a7596dcf93b04e22c3b2b0fa1f4fa"}