{"filter":false,"title":"broadband.html","tooltip":"/zyxel/Keenetic/broadband.html","undoManager":{"mark":6,"position":6,"stack":[[{"start":{"row":0,"column":0},"end":{"row":278,"column":0},"action":"remove","lines":["<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">","<html xmlns=\"http://www.w3.org/1999/xhtml\">","<head>","<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />","<meta name=\"ndm.abbr\" content=\"IPoE\" />","","<title>ZyXEL Keenetic - ","\t\t\t\t������ �����������</title>","<link rel=\"stylesheet\" href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/keenetic.css\" type=\"text/css\" />","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/js/jquery.js\" type=\"text/javascript\"></script>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/js/constants.js\" type=\"text/javascript\"></script>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/l10n.js\" type=\"text/javascript\" charset=\"utf-8\"></script>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/js/ndm.js\" type=\"text/javascript\"></script>","<style type=\"text/css\">","form label {","\twidth: 230px;","}","div.column {","\tfloat: left;","\twidth: 51px;","\twhite-space: normal;","\ttext-align: center;","\tvertical-align: middle;","\tbackground-repeat: no-repeat;","}","</style>","<script type=\"text/javascript\">","<!--","function Switch(ifName) {","//private:","\tvar trunks_ = new Array();","\tvar members_ = new Array();","","\tfunction loadVlanTable() {","\t\tif( members_.length ) {","\t\t\tvar named = new Named(ifName);","\t\t\tfor( var m in members_ )","\t\t\t\tnamed.Config(\"interface port \" + (trunks_[members_[m].portnum].isEnabled() ? \"trunk\" : \"access\"),","\t\t\t\t\t\t{\"port\": members_[m].portnum}, members_[m].trigger);","\t\t\tnamed.proceed();","\t\t}","\t}","","\tNamed.call(this, ifName);","//public:","\tthis.loadTrunkState = function(portnum, trigger) {","\t\ttrunks_[portnum] = new Trigger(trigger);","\t\tthis.Config(\"interface port mode trunk\", {\"port\": portnum}, trunks_[portnum]);","\t}","\tthis.isTrunk = function(portnum) {","\t\treturn trunks_[portnum] && trunks_[portnum].isEnabled();","\t}","\tthis.saveTrunkState = function(portnum) {","\t\ttrunks_[portnum].save(this, \"interface port mode trunk\", {\"port\": portnum});","\t}","\tthis.saveTrunkStates = function() {","\t\tfor( var t in trunks_ ) this.saveTrunkState(t);","\t}","\tthis.loadVlanMembership = function(portnum, vid, trigger) {","\t\tthis.onLoad = loadVlanTable;\t","\t\tmembers_.push({portnum: portnum, vid: vid, trigger: new Trigger(trigger, {tag: \"vid\", hasValue: vid})});","\t}","\tthis.saveVlanTable = function() {","\t\tfor( var m in members_ ) {","\t\t\tvar mm = members_[m];","\t\t\tif( this.isTrunk(mm.portnum) ) {","\t\t\t\tthis.Command(\"interface port trunk\", {\"port\": mm.portnum, \"vid\": mm.vid}, mm.trigger);","\t\t\t} else {","\t\t\t\tthis.No(\"interface port trunk\", {\"port\": mm.portnum});","\t\t\t\tif( mm.trigger.isEnabled() ) {","\t\t\t\t\tthis.Command(\"interface port access\", {\"port\": mm.portnum, \"vid\": mm.vid}, mm.trigger);","\t\t\t\t} else if( mm.trigger.isChanged() ) {","\t\t\t\t\tthis.Command(\"interface port access\", {\"port\": mm.portnum, \"vid\": 1}, mm.trigger);","\t\t\t\t}","\t\t\t}","\t\t}","\t}","\tthis.dropVlanEntries = function() {","\t\tfor( var m in members_ ) {","\t\t\tvar mm = members_[m];","\t\t\tthis.No(\"interface port trunk\", {\"port\": mm.portnum, \"vid\": mm.vid});","\t\t\tif( mm.trigger.isEnabled() )","\t\t\t\tthis.Command(\"interface port access\", {\"port\": mm.portnum, \"vid\": 1}, mm.trigger);","\t\t}","\t}","}","Switch.prototype = new Named();","","var switch_;","var wan_;","var conn_;","var maxId = -1;","","function loadValues() {","\tenableProgressIndicator();","\tconn_ = new Table(document.getElementById(\"connections\"));","\tconn_.defineRow(\"interface\");","\tconn_.showColumns(\"name\", \"description\", \"state\", \"global\");","\tconn_.setEditorForm(new Form(document.editor));","\tconn_.keepWidth(true);","\tconn_.filterBy(function(row) {","\t\treturn ((row[\"type\"].match(\"VLAN\") && row[\"index\"] != 1) ||","\t\t\t\trow[\"type\"].match(\"FastEthernet\"));","\t});","\tconn_.onRowChange = function(element, values) {","\t\tif( (values[\"index\"] * 1) > maxId ) maxId = (values[\"index\"] * 1); ","\t}","\tconn_.onStartEditing = function(element) {","\t\tvar f = this.getEditorForm().getElement();","\t\tvar values = this.getRowValues(element);","\t\tswitch_ = new Switch(_SWITCH);","\t\tswitch_.loadTrunkState(1, f.share_port1);","\t\tswitch_.loadTrunkState(2, f.share_port2);","\t\tswitch_.loadTrunkState(3, f.share_port3);","\t\tswitch_.loadTrunkState(4, f.share_port4);","\t\tswitch_.loadTrunkState(5, f.share_port5);","\t\tswitch_.loadVlanMembership(1, values[\"index\"], f.use_port1);","\t\tswitch_.loadVlanMembership(2, values[\"index\"], f.use_port2);","\t\tswitch_.loadVlanMembership(3, values[\"index\"], f.use_port3);","\t\tswitch_.loadVlanMembership(4, values[\"index\"], f.use_port4);","\t\tswitch_.loadVlanMembership(5, values[\"index\"], f.use_port5);","","\t\twan_ = new Interface(values[\"name\"]);","\t\twan_.create();","\t\twan_.loadState(f.enabled);","\t\twan_.loadDescription(f.description);","\t\twan_.loadIp(f.ip_address, f.ip_mask);","\t\twan_.loadDhcpState(f.dhcp);","\t\twan_.loadPriority(f.global);","\t\twan_.flushTo(switch_);","\t\tswitch_.proceed(document.getElementById(\"logger\"));","\t}","","\tvar p = new Packet();","\tp.Command(\"show interface\", null, conn_);","\tp.onLoad = function() {","\t\tvar e = conn_.find({\"name\": self.document.location.hash.substring(1)});","\t\tif( e ) conn_.startEditing(e);","\t}","\tp.proceed(document.getElementById(\"logger\"));","}","function add() {","\tvar id = ++maxId;","\tvar invalid;","\tdo {","\t\tid = prompt(l10n(65550, \"Please, enter a new connection identifier (vid)\"), id);","\t\tinvalid = (id != null) && conn_.find({\"index\": id});","\t\tif( invalid )","\t\t\talert(l10n(65545, \"There is a connection with such id already. Please, choose another one.\"));","\t} while( invalid );","","\tif( id ) conn_.startEditing(conn_.insertRow({name: _SWITCH + \"/VLAN\" + id, type: \"VLAN\", index: id}));","}","function drop() {","\tvar selected = conn_.getSelectedRow();","\tswitch_.onLoad = function() {","\t\tif( !this.getErrorState() ) conn_.deleteRow(selected); ","\t}","\tswitch_.dropVlanEntries();","\twan_.No(\"interface\");","\twan_.ConfigSave();","\twan_.flushTo(switch_);","\tswitch_.proceed(document.getElementById(\"logger\"));","}","function submitWan() {","\tswitch_.onLoad = function() {","\t\tif( !this.getErrorState() ) {","\t\t\tconn_.stopEditing();","\t\t\tvar p = new Packet();","\t\t\tp.Command(\"show interface\", null, conn_);","\t\t\tp.proceed(document.getElementById(\"logger\"));","\t\t}","\t}","\tswitch_.saveTrunkStates();","\tswitch_.saveVlanTable();","\twan_.saveState();","\twan_.saveDescription();","\twan_.saveIp();","\twan_.saveDhcpState();","\twan_.savePriority();","\twan_.ConfigSave();","\twan_.flushTo(switch_);","\tswitch_.proceed(document.getElementById(\"logger\"));","\treturn false;\t","}","-->","</script>","</head>","","<body onload=\"loadValues()\">","\t<noscript><strong>Please, enable JavaScript support in your browser.</strong></noscript>","\t<div id=\"page\"><div id=\"topframe\"><div id=\"logo\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/status.html\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/logo.gif\" border=\"0\" /></a></div><div id=\"logoname\">Keenetic</div><div id=\"sysinfo\"><script type=\"text/javascript\"><!--","\t\tfunction setLang(s) {","\t\t\twindow.location.assign(window.location.pathname.replace(/.*\\//, new FieldValue(s).get())); ","\t\t}","\t\t\t--></script>����: <select id=\"lang\" onchange=\"setLang(this)\"><option value=\"/\" class=\"default\"></option><option value=\"/RU/\">�������</option></select></div></div><div id=\"menu_position\"><div id=\"tabs\"><ul><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/status-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/status.html\">�������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/broadband.png');\" class=\"selected\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/globals.html\">��������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/home-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/home.html\">�������� ����</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/wireless-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/wireless.html\">Wi-Fi</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/security-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/statics.html\">������������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/tools-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/log.html\">�������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/usb-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/swap.html\">USB</a></li></ul><br /></div></div><div id=\"content\"><div id=\"title\">��������<div id=\"subtitle\"></div></div><ul class=\"tabs\"><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/globals.html\"><span>������</span></a></li><li><a class=\"current\" href=\"broadband.html\"><span>IPoE</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/pptp.html\"><span>PPTP</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/l2tp.html\"><span>L2TP</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/pppoe.html\"><span>PPPoE</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/dot1x.html\"><span>802.1x</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/mac.html\"><span>MAC</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/3g.html\"><span>3G</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/yota.html\"><span>Yota</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/dns.html\"><span>DNS</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/dyndns.html\"><span>DyDNS</span></a></li><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/routes.html\"><span>��������</span></a></li></ul><div class=\"block orange\" style=\"border-bottom:none;\">","\t\t<h1>���������� Ethernet</h1>","\t\t<div class=\"rounded\">","\t\t<p>���������� ���������� ��� ����������� � ��������� �� ���������� ����� Ethernet ��� ����� DSL-�����. ��� ������� ������ ���������� ���������� ������ ������������� ����������� ���� (VLAN ID). ����������� � ���� ���������� �� ���������� 802.1x, PPPoE, PPTP, L2TP ������������� � ��������������� ��������. ��� �������������� ���������� ����������� �������� ��� ������ � ������.</p>","\t\t</div>","\t\t<table cellspacing=\"0\" style=\"width:100%\" id=\"connections\" class=\"styled\">","\t\t<caption>������� �� ��� ����������� ��� ���������:</caption>","\t\t<thead>","\t\t\t<tr>","\t\t\t<th width=\"100px\">���������</th>","\t\t\t<th>��������</th>","\t\t\t<th width=\"10px\">�������</th>","\t\t\t<th width=\"10px\">��������</th>","\t\t\t</tr>","\t\t</thead>","\t\t</table>","","\t\t<br />","\t\t<button name=\"add_conn\" onclick=\"document.location='broadband1.html'\">�������� ���������</button>","","\t\t<div style=\"display:none;\">","\t\t<form action=\"broadband.html\" name=\"editor\" onsubmit=\"return submitWan();\" onreset=\"conn_.stopEditing();\" id=\"editor\">","\t\t\t<div class=\"header\"><h1>��������� ���������� ��� ���������� �� Ethernet</h1><div class=\"close_button\"><a href=\"broadband.html#\" onclick=\"getClosest(this,'form').reset()\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/i_close.gif\" /></a></div></div>","\t\t\t<div class=\"controls\">","\t\t\t<div class=\"rounded\">","\t\t\t<p>�������� ������, ������� ����� �������������� �����������. ����� ������� ��������� ��������, ������� ����� ��������� ���������� � ���� VLAN. ���� ������ ���������� ��������������� ��� ����������� � ���������, ���������� ��������������� ������. ����������� �������������� ��������� ���������� IP ��� ������� �� �������. ��� ������������� ������� ������ <a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/dns.html\">DNS-��������</a> � <a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/mac.html\">MAC-�����</a> ����������.</p>","\t\t\t</div>","\t\t\t<fieldset>","\t\t\t\t<label for=\"imgs\"></label>","\t\t\t\t<div class=\"column\" style=\"background-image:url(http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/ether-yellow.png); height:40px;\"><br />4</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/ether-yellow.png); height:40px;\"><br />3</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/ether-yellow.png); height:40px;\"><br />2</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/ether-yellow.png); height:40px;\"><br />1</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/ether-blue.png); height:40px;\">�</div><br />","\t\t\t\t","\t\t\t\t<label for=\"enable\">������������ ������:</label>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port4\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port3\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port2\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port1\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port5\" /></div><br />","","\t\t\t\t<label for=\"share\">���������� ���� VLAN ID:</label>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port4\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port3\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port2\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port1\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port5\" /></div>","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t\t<label for=\"enabled\">�������� ���������:</label>","\t\t\t\t\t<input type=\"checkbox\" name=\"enabled\" /><br />","\t\t\t\t<label for=\"description\">��������:</label><input type=\"text\" name=\"description\" /><br />","\t\t\t\t<label for=\"index\">������������� ���� (VLAN ID):</label>","\t\t\t\t\t<input type=\"text\" name=\"index\" disabled=\"disabled\" /><br />","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t<label for=\"ip_address\">IP-�����:</label><input type=\"text\" name=\"ip_address\" /><br />","\t\t\t<label for=\"ip_mask\">����� �������:</label><input type=\"text\" name=\"ip_mask\" /><br />","\t\t\t<label for=\"dhcp\">�������� ����� �� DHCP:</label><input type=\"checkbox\" name=\"dhcp\" /><br />","\t\t\t<label for=\"global\">��� ������ ����������� � ��������:</label>","\t\t\t\t<input type=\"checkbox\" name=\"global\" value=\"700\" /><br />","","\t\t\t<label for=\"nothing\"></label>","\t\t\t\t<button class=\"apply\" type=\"submit\" name=\"apply\">���������</button>","\t\t\t\t<button class=\"cancel\" type=\"reset\" name=\"editor_reset\">������</button>","\t\t\t\t<button class=\"cancel\" type=\"button\" name=\"editor_delete\" onclick=\"drop()\">�������</button>","\t\t\t</fieldset>","\t\t\t</div>","\t\t</form>","\t\t</div>","\t<div class=\"logger\" id=\"logger\"><div id=\"logger_close\"><a href=\"broadband.html#\" onclick=\"document.getElementById('logger').style.display='none'\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/logger_close.gif\" /></a></div></div>","","\t</div></div></div>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/js/screensize.js\" type=\"text/javascript\"></script><script type=\"text/javascript\">","\t\t$(document).ready(function() {","\t\t\tvar lang = window.location.pathname.split(\"../default.htm\")[1];","\t\t\tif( lang )","\t\t\t\t$(\"#lang\").val(\"../default.htm\" + lang + \"../default.htm\");","\t\t\t$(\"#lang .default\").text(\"English\");","\t\t});","\t\t</script></body>","</html>",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":278,"column":0},"action":"insert","lines":["<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">","<html xmlns=\"http://www.w3.org/1999/xhtml\">","<head>","<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />","<meta name=\"ndm.abbr\" content=\"IPoE\" />","","<title>ZyXEL Keenetic - ","\t\t\t\tПрямые подключения</title>","<link rel=\"stylesheet\" href=\"keenetic.css\" type=\"text/css\" />","<script src=\"js/jquery.js\" type=\"text/javascript\"></script>","<script src=\"js/constants.js\" type=\"text/javascript\"></script>","<script src=\"l10n.js\" type=\"text/javascript\" charset=\"utf-8\"></script>","<script src=\"js/ndm.js\" type=\"text/javascript\"></script>","<style type=\"text/css\">","form label {","\twidth: 230px;","}","div.column {","\tfloat: left;","\twidth: 51px;","\twhite-space: normal;","\ttext-align: center;","\tvertical-align: middle;","\tbackground-repeat: no-repeat;","}","</style>","<script type=\"text/javascript\">","<!--","function Switch(ifName) {","//private:","\tvar trunks_ = new Array();","\tvar members_ = new Array();","","\tfunction loadVlanTable() {","\t\tif( members_.length ) {","\t\t\tvar named = new Named(ifName);","\t\t\tfor( var m in members_ )","\t\t\t\tnamed.Config(\"interface port \" + (trunks_[members_[m].portnum].isEnabled() ? \"trunk\" : \"access\"),","\t\t\t\t\t\t{\"port\": members_[m].portnum}, members_[m].trigger);","\t\t\tnamed.proceed();","\t\t}","\t}","","\tNamed.call(this, ifName);","//public:","\tthis.loadTrunkState = function(portnum, trigger) {","\t\ttrunks_[portnum] = new Trigger(trigger);","\t\tthis.Config(\"interface port mode trunk\", {\"port\": portnum}, trunks_[portnum]);","\t}","\tthis.isTrunk = function(portnum) {","\t\treturn trunks_[portnum] && trunks_[portnum].isEnabled();","\t}","\tthis.saveTrunkState = function(portnum) {","\t\ttrunks_[portnum].save(this, \"interface port mode trunk\", {\"port\": portnum});","\t}","\tthis.saveTrunkStates = function() {","\t\tfor( var t in trunks_ ) this.saveTrunkState(t);","\t}","\tthis.loadVlanMembership = function(portnum, vid, trigger) {","\t\tthis.onLoad = loadVlanTable;\t","\t\tmembers_.push({portnum: portnum, vid: vid, trigger: new Trigger(trigger, {tag: \"vid\", hasValue: vid})});","\t}","\tthis.saveVlanTable = function() {","\t\tfor( var m in members_ ) {","\t\t\tvar mm = members_[m];","\t\t\tif( this.isTrunk(mm.portnum) ) {","\t\t\t\tthis.Command(\"interface port trunk\", {\"port\": mm.portnum, \"vid\": mm.vid}, mm.trigger);","\t\t\t} else {","\t\t\t\tthis.No(\"interface port trunk\", {\"port\": mm.portnum});","\t\t\t\tif( mm.trigger.isEnabled() ) {","\t\t\t\t\tthis.Command(\"interface port access\", {\"port\": mm.portnum, \"vid\": mm.vid}, mm.trigger);","\t\t\t\t} else if( mm.trigger.isChanged() ) {","\t\t\t\t\tthis.Command(\"interface port access\", {\"port\": mm.portnum, \"vid\": 1}, mm.trigger);","\t\t\t\t}","\t\t\t}","\t\t}","\t}","\tthis.dropVlanEntries = function() {","\t\tfor( var m in members_ ) {","\t\t\tvar mm = members_[m];","\t\t\tthis.No(\"interface port trunk\", {\"port\": mm.portnum, \"vid\": mm.vid});","\t\t\tif( mm.trigger.isEnabled() )","\t\t\t\tthis.Command(\"interface port access\", {\"port\": mm.portnum, \"vid\": 1}, mm.trigger);","\t\t}","\t}","}","Switch.prototype = new Named();","","var switch_;","var wan_;","var conn_;","var maxId = -1;","","function loadValues() {","\tenableProgressIndicator();","\tconn_ = new Table(document.getElementById(\"connections\"));","\tconn_.defineRow(\"interface\");","\tconn_.showColumns(\"name\", \"description\", \"state\", \"global\");","\tconn_.setEditorForm(new Form(document.editor));","\tconn_.keepWidth(true);","\tconn_.filterBy(function(row) {","\t\treturn ((row[\"type\"].match(\"VLAN\") && row[\"index\"] != 1) ||","\t\t\t\trow[\"type\"].match(\"FastEthernet\"));","\t});","\tconn_.onRowChange = function(element, values) {","\t\tif( (values[\"index\"] * 1) > maxId ) maxId = (values[\"index\"] * 1); ","\t}","\tconn_.onStartEditing = function(element) {","\t\tvar f = this.getEditorForm().getElement();","\t\tvar values = this.getRowValues(element);","\t\tswitch_ = new Switch(_SWITCH);","\t\tswitch_.loadTrunkState(1, f.share_port1);","\t\tswitch_.loadTrunkState(2, f.share_port2);","\t\tswitch_.loadTrunkState(3, f.share_port3);","\t\tswitch_.loadTrunkState(4, f.share_port4);","\t\tswitch_.loadTrunkState(5, f.share_port5);","\t\tswitch_.loadVlanMembership(1, values[\"index\"], f.use_port1);","\t\tswitch_.loadVlanMembership(2, values[\"index\"], f.use_port2);","\t\tswitch_.loadVlanMembership(3, values[\"index\"], f.use_port3);","\t\tswitch_.loadVlanMembership(4, values[\"index\"], f.use_port4);","\t\tswitch_.loadVlanMembership(5, values[\"index\"], f.use_port5);","","\t\twan_ = new Interface(values[\"name\"]);","\t\twan_.create();","\t\twan_.loadState(f.enabled);","\t\twan_.loadDescription(f.description);","\t\twan_.loadIp(f.ip_address, f.ip_mask);","\t\twan_.loadDhcpState(f.dhcp);","\t\twan_.loadPriority(f.global);","\t\twan_.flushTo(switch_);","\t\tswitch_.proceed(document.getElementById(\"logger\"));","\t}","","\tvar p = new Packet();","\tp.Command(\"show interface\", null, conn_);","\tp.onLoad = function() {","\t\tvar e = conn_.find({\"name\": self.document.location.hash.substring(1)});","\t\tif( e ) conn_.startEditing(e);","\t}","\tp.proceed(document.getElementById(\"logger\"));","}","function add() {","\tvar id = ++maxId;","\tvar invalid;","\tdo {","\t\tid = prompt(l10n(65550, \"Please, enter a new connection identifier (vid)\"), id);","\t\tinvalid = (id != null) && conn_.find({\"index\": id});","\t\tif( invalid )","\t\t\talert(l10n(65545, \"There is a connection with such id already. Please, choose another one.\"));","\t} while( invalid );","","\tif( id ) conn_.startEditing(conn_.insertRow({name: _SWITCH + \"/VLAN\" + id, type: \"VLAN\", index: id}));","}","function drop() {","\tvar selected = conn_.getSelectedRow();","\tswitch_.onLoad = function() {","\t\tif( !this.getErrorState() ) conn_.deleteRow(selected); ","\t}","\tswitch_.dropVlanEntries();","\twan_.No(\"interface\");","\twan_.ConfigSave();","\twan_.flushTo(switch_);","\tswitch_.proceed(document.getElementById(\"logger\"));","}","function submitWan() {","\tswitch_.onLoad = function() {","\t\tif( !this.getErrorState() ) {","\t\t\tconn_.stopEditing();","\t\t\tvar p = new Packet();","\t\t\tp.Command(\"show interface\", null, conn_);","\t\t\tp.proceed(document.getElementById(\"logger\"));","\t\t}","\t}","\tswitch_.saveTrunkStates();","\tswitch_.saveVlanTable();","\twan_.saveState();","\twan_.saveDescription();","\twan_.saveIp();","\twan_.saveDhcpState();","\twan_.savePriority();","\twan_.ConfigSave();","\twan_.flushTo(switch_);","\tswitch_.proceed(document.getElementById(\"logger\"));","\treturn false;\t","}","-->","</script>","</head>","","<body onload=\"loadValues()\">","\t<noscript><strong>Please, enable JavaScript support in your browser.</strong></noscript>","\t<div id=\"page\"><div id=\"topframe\"><div id=\"logo\"><a href=\"status.html\"><img src=\"img/logo.gif\" border=\"0\" /></a></div><div id=\"logoname\">Keenetic</div><div id=\"sysinfo\"><script type=\"text/javascript\"><!--","\t\tfunction setLang(s) {","\t\t\twindow.location.assign(window.location.pathname.replace(/.*\\//, new FieldValue(s).get())); ","\t\t}","\t\t\t--></script>Язык: <select id=\"lang\" onchange=\"setLang(this)\"><option value=\"/\" class=\"default\"></option><option value=\"/RU/\">Русский</option></select></div></div><div id=\"menu_position\"><div id=\"tabs\"><ul><li style=\"background:url('img/status-shade.png');\"><a href=\"status.html\">Монитор</a></li><li style=\"background:url('img/broadband.png');\" class=\"selected\"><a href=\"globals.html\">Интернет</a></li><li style=\"background:url('img/home-shade.png');\"><a href=\"home.html\">Домашняя сеть</a></li><li style=\"background:url('img/wireless-shade.png');\"><a href=\"wireless.html\">Wi-Fi</a></li><li style=\"background:url('img/security-shade.png');\"><a href=\"statics.html\">Безопасность</a></li><li style=\"background:url('img/tools-shade.png');\"><a href=\"log.html\">Система</a></li><li style=\"background:url('img/usb-shade.png');\"><a href=\"swap.html\">USB</a></li></ul><br /></div></div><div id=\"content\"><div id=\"title\">Интернет<div id=\"subtitle\"></div></div><ul class=\"tabs\"><li><a href=\"globals.html\"><span>Список</span></a></li><li><a class=\"current\" href=\"broadband.html\"><span>IPoE</span></a></li><li><a href=\"pptp.html\"><span>PPTP</span></a></li><li><a href=\"l2tp.html\"><span>L2TP</span></a></li><li><a href=\"pppoe.html\"><span>PPPoE</span></a></li><li><a href=\"dot1x.html\"><span>802.1x</span></a></li><li><a href=\"mac.html\"><span>MAC</span></a></li><li><a href=\"3g.html\"><span>3G</span></a></li><li><a href=\"yota.html\"><span>Yota</span></a></li><li><a href=\"dns.html\"><span>DNS</span></a></li><li><a href=\"dyndns.html\"><span>DyDNS</span></a></li><li><a href=\"routes.html\"><span>Маршруты</span></a></li></ul><div class=\"block orange\" style=\"border-bottom:none;\">","\t\t<h1>Соединение Ethernet</h1>","\t\t<div class=\"rounded\">","\t\t<p>Соединение необходимо для подключения к Интернету по выделенной линии Ethernet или через DSL-модем. Для каждого нового соединения необходимо задать идентификатор виртуальной сети (VLAN ID). Авторизация в сети провайдера по протоколам 802.1x, PPPoE, PPTP, L2TP настраивается в соответствующих вкладках. Для редактирования созданного подключения щелкните его запись в списке.</p>","\t\t</div>","\t\t<table cellspacing=\"0\" style=\"width:100%\" id=\"connections\" class=\"styled\">","\t\t<caption>Нажмите на имя подключения для настройки:</caption>","\t\t<thead>","\t\t\t<tr>","\t\t\t<th width=\"100px\">Интерфейс</th>","\t\t\t<th>Описание</th>","\t\t\t<th width=\"10px\">Включен</th>","\t\t\t<th width=\"10px\">Интернет</th>","\t\t\t</tr>","\t\t</thead>","\t\t</table>","","\t\t<br />","\t\t<button name=\"add_conn\" onclick=\"document.location='broadband1.html'\">Добавить интерфейс</button>","","\t\t<div style=\"display:none;\">","\t\t<form action=\"\" name=\"editor\" onsubmit=\"return submitWan();\" onreset=\"conn_.stopEditing();\" id=\"editor\">","\t\t\t<div class=\"header\"><h1>Настройка интерфейса для соединения по Ethernet</h1><div class=\"close_button\"><a href=\"#\" onclick=\"getClosest(this,'form').reset()\"><img src=\"img/i_close.gif\" /></a></div></div>","\t\t\t<div class=\"controls\">","\t\t\t<div class=\"rounded\">","\t\t\t<p>Выберите разъем, который будет использоваться соединением. Можно выбрать несколько разъемов, которые будут логически объединены в один VLAN. Если данное соединение предназначается для подключения к Интернету, установите соответствующий флажок. Используйте автоматическое получение параметров IP или задайте их вручную. При необходимости укажите адреса <a href=\"dns.html\">DNS-серверов</a> и <a href=\"mac.html\">MAC-адрес</a> интерфейса.</p>","\t\t\t</div>","\t\t\t<fieldset>","\t\t\t\t<label for=\"imgs\"></label>","\t\t\t\t<div class=\"column\" style=\"background-image:url(img/ether-yellow.png); height:40px;\"><br />4</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(img/ether-yellow.png); height:40px;\"><br />3</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(img/ether-yellow.png); height:40px;\"><br />2</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(img/ether-yellow.png); height:40px;\"><br />1</div>","\t\t\t\t<div class=\"column\" style=\"background-image:url(img/ether-blue.png); height:40px;\"> </div><br />","\t\t\t\t","\t\t\t\t<label for=\"enable\">Использовать разъем:</label>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port4\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port3\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port2\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port1\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"use_port5\" /></div><br />","","\t\t\t\t<label for=\"share\">Передавать теги VLAN ID:</label>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port4\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port3\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port2\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port1\" /></div>","\t\t\t\t<div class=\"column\"><input type=\"checkbox\" name=\"share_port5\" /></div>","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t\t<label for=\"enabled\">Включить интерфейс:</label>","\t\t\t\t\t<input type=\"checkbox\" name=\"enabled\" /><br />","\t\t\t\t<label for=\"description\">Описание:</label><input type=\"text\" name=\"description\" /><br />","\t\t\t\t<label for=\"index\">Идентификатор сети (VLAN ID):</label>","\t\t\t\t\t<input type=\"text\" name=\"index\" disabled=\"disabled\" /><br />","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t<label for=\"ip_address\">IP-адрес:</label><input type=\"text\" name=\"ip_address\" /><br />","\t\t\t<label for=\"ip_mask\">Маска подсети:</label><input type=\"text\" name=\"ip_mask\" /><br />","\t\t\t<label for=\"dhcp\">Получить адрес по DHCP:</label><input type=\"checkbox\" name=\"dhcp\" /><br />","\t\t\t<label for=\"global\">Это прямое подключение к Интернет:</label>","\t\t\t\t<input type=\"checkbox\" name=\"global\" value=\"700\" /><br />","","\t\t\t<label for=\"nothing\"></label>","\t\t\t\t<button class=\"apply\" type=\"submit\" name=\"apply\">Применить</button>","\t\t\t\t<button class=\"cancel\" type=\"reset\" name=\"editor_reset\">Отмена</button>","\t\t\t\t<button class=\"cancel\" type=\"button\" name=\"editor_delete\" onclick=\"drop()\">Удалить</button>","\t\t\t</fieldset>","\t\t\t</div>","\t\t</form>","\t\t</div>","\t<div class=\"logger\" id=\"logger\"><div id=\"logger_close\"><a href=\"#\" onclick=\"document.getElementById('logger').style.display='none'\"><img src=\"img/logger_close.gif\" /></a></div></div>","","\t</div></div></div>","<script src=\"js/screensize.js\" type=\"text/javascript\"></script><script type=\"text/javascript\">","\t\t$(document).ready(function() {","\t\t\tvar lang = window.location.pathname.split(\"../default.htm\")[1];","\t\t\tif( lang )","\t\t\t\t$(\"#lang\").val(\"../default.htm\" + lang + \"../default.htm\");","\t\t\t$(\"#lang .default\").text(\"English\");","\t\t});","\t\t</script></body>","</html>",""],"id":3}],[{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"insert","lines":["."],"id":4}],[{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"remove","lines":["."],"id":5}],[{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"insert","lines":["/"],"id":6}],[{"start":{"row":8,"column":29},"end":{"row":8,"column":42},"action":"remove","lines":["/keenetic.css"],"id":7},{"start":{"row":8,"column":29},"end":{"row":8,"column":47},"action":"insert","lines":["./css/keenetic.css"]}],[{"start":{"row":11,"column":13},"end":{"row":11,"column":18},"action":"insert","lines":["./js/"],"id":8}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":8,"column":35},"end":{"row":8,"column":47},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1469808883927,"hash":"c054666fd7b472b976b864e4fdc8e92a52a73f4e"}