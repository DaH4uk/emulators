{"filter":false,"title":"acl1.html","tooltip":"/zyxel/Keenetic/acl1.html","undoManager":{"mark":35,"position":35,"stack":[[{"start":{"row":0,"column":0},"end":{"row":276,"column":14},"action":"remove","lines":["<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">","<html xmlns=\"http://www.w3.org/1999/xhtml\"><head>","<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">","<meta name=\"ndm.abbr\" content=\"Access Rules\">","<meta name=\"ndm.abbr\" content=\"���������� �����\" xml:lang=\"RU\" lang=\"RU\">","","<title>ZyXEL Keenetic - ","\t\t\t\t���������� �����</title>","<link rel=\"stylesheet\" href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/keenetic.css\" type=\"text/css\">","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/jquery.js\" type=\"text/javascript\"></script>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/constants.js\" type=\"text/javascript\"></script>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/l10n.js\" type=\"text/javascript\" charset=\"utf-8\"></script>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/ndm.js\" type=\"text/javascript\"></script>","<script type=\"text/javascript\">","<!--","function AccessGroups(element, form, defSectionName) {","\tvar p_;","\tvar default_;","\tvar table_ = new Table(element);","\ttable_.showColumns(\"action\", \"protocol\", \"source\", \"src-port-operator\", \"source-port\", \"destination\", \"dst-port-operator\", \"destination-port\");","\ttable_.setEditorForm(form);","\ttable_.onStopEditing = function(element) {","\t\tif( this.getFlag(element) == TBL_ROW_INSERTED ) this.deleteRow(element);","\t}","//public:","\tthis.init = function() {","\t\tp_ = new Packet();","\t}","\tthis.cleanup = function() {","\t\ttable_.stopEditing();","\t\twhile(element.tBodies.length) element.removeChild(element.tBodies[0]);","\t}","\tthis.load = function(node) {","\t\tvar acl = getNodeValue(node, \"acl\");","\t\tvar sect = table_.newSection(acl, \"rules for \" + (getNodeValue(node, \"direction\") == \"in\" ? \"incoming\" : \"outgoing\") + \" connections (\" + acl + \") :\");","\t\tsect.__direction = getNodeValue(node, \"direction\");","\t\tif( acl == defSectionName ) default_ = sect;","\t\tp_.Config(\"access-list\", {\"acl\": acl}, sect);","\t}","\tthis.loadLists = function(logger) {","\t\tp_.proceed(logger);","\t}","\tthis.getTable = function() {","\t\tif( table_.getActiveSection() ) return table_.getActiveSection();","\t\tif( !default_ ) {","\t\t\tdefault_ = table_.newSection(defSectionName, \"rules for incoming connections (\" + defSectionName + \") :\");","\t\t\tdefault_.__direction = \"in\";","\t\t\tdefault_.init();","\t\t}","\t\treturn default_;","\t}","}","AccessGroups.prototype = new ParameterSet();","var acg;","var ifName;","var interfaces;","","function loadValues(ifName_) {","\tif( ifName_ ) {","\t\tif( acg ) acg.cleanup();","\t\tacg = new AccessGroups(document.getElementById(\"rules\"), new Form(document.getElementById(\"editor\")), _WEBADMIN + \"_\" + ifName_);","\t\tvar p = new Packet();","\t\tif( !interfaces ) {","\t\t\tinterfaces = new IfList(document.iface.name);","\t\t\tp.Command(\"show interface\", null, interfaces);","\t\t}","\t\tp.Config(\"interface ip access-group\", {\"name\": ifName_}, acg);\t","\t\tp.onLoad = function() {","\t\t\tacg.loadLists(document.getElementById(\"logger\"));","\t\t\tifName = ifName_;","\t\t}","\t\tp.proceed(document.getElementById(\"logger\"));","\t}","}","function add() {","\tvar rules = acg.getTable();","\trules.startEditing(rules.insertRow({\"acl\": rules.getSectionName()}));","}","function save() {","\tvar rules = acg.getTable();","\tvar selected = rules.getSelectedRow();","\tvar f = rules.getEditorForm();","\tvar found = rules.find(f.getParameters());","\tif( f.getParameter(\"source\") && found && found != selected ) {","\t\talert(l10n(65542, \"There is such rule already. Duplicate rules are not allowed.\"));","\t} else {","\t\tvar p = new Packet();","\t\tif( rules.getFlag(selected) != TBL_ROW_INSERTED ) {","\t\t\tp.No(\"access-list\", {\"acl\": rules.getSectionName()});","\t\t\trules.forEach(function(values, isSelected) {","\t\t\t\tp.Command(\"access-list \" + (isSelected ? f.getParameter(\"action\") : values[\"action\"]),","\t\t\t\t\t\tisSelected ? f.getParameters() : values, isSelected ? f : null, true);","\t\t\t});","\t\t} else {","\t\t\tp.Command(\"access-list \" + f.getParameter(\"action\"), f.getParameters(), f, true);","\t\t}","\t\tp.Command(\"interface ip access-group\", {\"name\": ifName, \"acl\": rules.getSectionName(), \"direction\": rules.__direction});","\t\tp.ConfigSave();","\t\tp.onLoad = function() { ","\t\t\tif( !this.getErrorState() ) rules.setRowValues(selected, f.getParameters(true)); ","\t\t}","\t\tp.proceed(document.getElementById(\"logger\"));","\t}","\treturn false;","}","function drop() {","\tvar rules = acg.getTable();","\tvar selected = rules.getSelectedRow();","\tif( rules.getFlag(selected) != TBL_ROW_INSERTED ) {","\t\tvar p = new Packet();","\t\tp.No(\"access-list \" + rules.getRowValues(selected)[\"action\"], rules.getRowValues(selected), null, true);","\t\tp.ConfigSave();","\t\tp.onLoad = function() { ","\t\t\tif( !this.getErrorState() ) rules.deleteRow(selected); ","\t\t}","\t\tp.proceed(document.getElementById(\"logger\"));","\t} else {","\t\trules.stopEditing();","\t}","}","-->","</script>","</head>","","<body onload=\"loadValues(_WAN)\">","\t<noscript><strong>Please, enable JavaScript support in your browser.</strong></noscript>","\t<div id=\"page\"><div id=\"topframe\"><div id=\"logo\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/status.html\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/logo.gif\" border=\"0\"></a></div><div id=\"logoname\">Keenetic</div><div id=\"sysinfo\"><script type=\"text/javascript\"><!--","\t\tfunction setLang(s) {","\t\t\twindow.location.assign(window.location.pathname.replace(/.*\\//, new FieldValue(s).get())); ","\t\t}","\t\t\t--></script>����: <select id=\"lang\" onchange=\"setLang(this)\"><option value=\"/\" class=\"default\">English</option><option selected=\"selected\" value=\"/RU/\">�������</option></select></div></div><div id=\"menu_position\"><div id=\"tabs\"><ul><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/status-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/status.html\">�������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/broadband-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/globals.html\">��������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/home-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/home.html\">�������� ����</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/wireless-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/wireless.html\">Wi-Fi</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/security.png');\" class=\"selected\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/statics.html\">������������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/tools-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/log.html\">�������</a></li><li style=\"background:url('http://itel.ua/emulations/zyxel-keenetic_v2/RU/img/usb-shade.png');\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/swap.html\">USB</a></li></ul><br></div></div><div style=\"height: 639px;\" id=\"content\"><div id=\"title\">������������<div id=\"subtitle\"></div></div><ul class=\"tabs\"><li><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/statics.html\"><span>���������� ������� ������� (NAT)</span></a></li><li><a class=\"current\" href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl.html\"><span>���������� �����</span></a></li></ul><div class=\"block red\" style=\"border-bottom: none;\">","\t\t<h1>���������� �����</h1>","\t\t<div class=\"rounded\">","\t\t<p>�������� �� ������ ���������, ����� ����������� ������������ ��� ","���� ������� ��� ������� �����. ������� ����� ��������� ��� ��������� ","����������� ������������ �������, ��������������� ��������� �������. ���"," �������������� ���������� ������� �������� ��� ������ � ������.</p>","\t\t</div>","\t\t<form action=\"acl1.html\" name=\"iface\" id=\"iface\">","\t\t\t<label for=\"direction\">������� ��� ����������:</label>","\t\t\t\t<select name=\"name\" id=\"name\" style=\"width: 280px;\" onchange=\"loadValues(this.options[this.selectedIndex].value)\">","\t\t\t\t\t<option selected=\"selected\"></option>","\t\t\t\t<option value=\"Switch0\">Switch0</option><option value=\"WifiStation0\">Wi-Fi client (WifiStation0)</option><option value=\"WifiMaster0\">WifiMaster0</option><option value=\"AccessPoint\">Wi-Fi access point (AccessPoint)</option><option value=\"GuestWiFi\">Guest access point (GuestWiFi)</option><option value=\"WifiMaster0/AccessPoint2\">WifiMaster0/AccessPoint2</option><option value=\"WifiMaster0/AccessPoint3\">WifiMaster0/AccessPoint3</option><option value=\"Switch0/VLAN1\">LAN ports 1-4 (Switch0/VLAN1)</option><option value=\"ISP\">Broadband connection (ISP)</option><option value=\"Home\">Home network (Home)</option><option value=\"WiMax0\">Yota (WiMax0)</option><option value=\"Switch0/VLAN3\">Switch0/VLAN3</option><option value=\"Switch0/VLAN4\">Switch0/VLAN4</option><option value=\"Switch0/VLAN5\">Switch0/VLAN5</option><option value=\"Switch0/VLAN8\">Switch0/VLAN8</option><option value=\"PPTP0\">PPTP0</option><option value=\"Switch0/VLAN9\">Switch0/VLAN9</option><option value=\"PPTP1\">PPTP1</option><option value=\"L2TP0\">L2TP0</option><option value=\"PPPoE0\">PPPoE0</option></select><br>","\t\t</form>","\t\t<br>","\t\t<table style=\"width: 100%;\" id=\"rules\" class=\"styled\" cellspacing=\"0\">","\t\t<thead>","\t\t\t<tr>","\t\t\t<th>��������</th>","\t\t\t<th>��������</th>","\t\t\t<th>��������</th>","\t\t\t<th colspan=\"2\">���� ���������</th>","\t\t\t<th>����������</th>","\t\t\t<th colspan=\"2\">���� ����������</th>","\t\t\t</tr>","\t\t</thead>","\t\t<tbody></tbody><tbody><tr><td class=\"section\" colspan=\"8\"><h1>rules for incoming connections (_WEBADMIN_ISP) :</h1></td></tr></tbody><tbody><tr class=\" highlight\"><td colspan=\"8\">(�����)</td></tr><tr><td colspan=\"8\" class=\"editor\"><form action=\"acl1.html\" name=\"editor\" id=\"editor\" onsubmit=\"return save();\" onreset=\"acg.getTable().stopEditing();\">","\t\t\t<div class=\"header\"><h1>��������� �������</h1><div class=\"close_button\"><a href=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl.html\" onclick=\"getClosest(this,'form').reset()\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/i_close.gif\"></a></div></div>","\t\t\t<div class=\"controls\">","\t\t\t<div class=\"rounded\">","\t\t\t<p>�������� ��������, ������� ����� ��������� ��� �������� �������, �"," ������� �������, ��� ������� ��� �������� ������ ���� ���������.</p>","\t\t\t</div>","\t\t\t<fieldset> ","\t\t\t<input value=\"_WEBADMIN_ISP\" id=\"_ndm_1304672343651\" name=\"acl\" type=\"hidden\">","\t\t\t<label for=\"action\">��������</label>","\t\t\t\t<select name=\"action\">","\t\t\t\t\t<option selected=\"selected\" value=\"permit\">���������</option>","\t\t\t\t\t<option value=\"deny\">���������</option>","\t\t\t\t</select>","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t<label for=\"source\">IP-����� ���������:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"source\" size=\"15\" type=\"text\"> / ","\t\t\t\t<input name=\"source-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"destination\">IP-����� ����������:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"destination\" size=\"15\" type=\"text\"> /","\t\t\t\t<input name=\"destination-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"protocol\">��������:</label>","\t\t\t\t<select name=\"protocol\">","\t\t\t\t\t<option selected=\"selected\" value=\"tcp\">TCP</option>","\t\t\t\t\t<option value=\"udp\">UDP</option>","\t\t\t\t</select><br>","\t\t\t<label for=\"source-port\">����� ����� ���������:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"src-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">�����</option>","\t\t\t\t\t<option value=\"gt\">������ ���</option>","\t\t\t\t\t<option value=\"lt\">������ ���</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"source-port\" type=\"text\"></span><br>","\t\t\t<label for=\"destination-port\">����� ����� ����������:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"dst-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">�����</option>","\t\t\t\t\t<option value=\"gt\">������ ���</option>","\t\t\t\t\t<option value=\"lt\">������ ���</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"destination-port\" type=\"text\"></span><br>","\t","\t\t\t<label for=\"nothing\"></label>","\t\t\t\t<button class=\"apply\" type=\"button\" name=\"editor_apply\">���������</button>","\t\t\t\t<button class=\"cancel\" onclick=\"document.location='acl.html'\" type=\"button\" name=\"editor_reset\">������</button>","\t\t\t\t<button class=\"cancel\" type=\"button\" name=\"editor_delete\" onclick=\"\">������� �������</button>","\t\t\t</fieldset>","\t\t\t</div>","\t\t</form></td></tr></tbody></table>","","\t\t<br>","\t\t<button name=\"add_rule\" onclick=\"add()\">�������� �������</button>","","\t\t<div style=\"display:none;\">","\t\t<form action=\"acl1.html\" name=\"editor\" id=\"editor\" onsubmit=\"return save();\" onreset=\"acg.getTable().stopEditing();\">","\t\t\t<div class=\"header\"><h1>��������� �������</h1><div class=\"close_button\"><a href=\"acl1.html#\" onclick=\"getClosest(this,'form').reset()\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/i_close.gif\"></a></div></div>","\t\t\t<div class=\"controls\">","\t\t\t<div class=\"rounded\">","\t\t\t<p>�������� ��������, ������� ����� ��������� ��� �������� �������, �"," ������� �������, ��� ������� ��� �������� ������ ���� ���������.</p>","\t\t\t</div>","\t\t\t<fieldset> ","\t\t\t<input name=\"acl\" type=\"hidden\">","\t\t\t<label for=\"action\">��������</label>","\t\t\t\t<select name=\"action\">","\t\t\t\t\t<option selected=\"selected\" value=\"permit\">���������</option>","\t\t\t\t\t<option value=\"deny\">���������</option>","\t\t\t\t</select>","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t<label for=\"source\">IP-����� ���������:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"source\" size=\"15\" type=\"text\"> / ","\t\t\t\t<input name=\"source-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"destination\">IP-����� ����������:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"destination\" size=\"15\" type=\"text\"> /","\t\t\t\t<input name=\"destination-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"protocol\">��������:</label>","\t\t\t\t<select name=\"protocol\">","\t\t\t\t\t<option selected=\"selected\" value=\"tcp\">TCP</option>","\t\t\t\t\t<option value=\"udp\">UDP</option>","\t\t\t\t</select><br>","\t\t\t<label for=\"source-port\">����� ����� ���������:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"src-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">�����</option>","\t\t\t\t\t<option value=\"gt\">������ ���</option>","\t\t\t\t\t<option value=\"lt\">������ ���</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"source-port\" type=\"text\"></span><br>","\t\t\t<label for=\"destination-port\">����� ����� ����������:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"dst-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">�����</option>","\t\t\t\t\t<option value=\"gt\">������ ���</option>","\t\t\t\t\t<option value=\"lt\">������ ���</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"destination-port\" type=\"text\"></span><br>","\t","\t\t\t<label for=\"nothing\"></label>","\t\t\t\t<button class=\"apply\" type=\"submit\" name=\"editor_apply\">���������</button>","\t\t\t\t<button class=\"cancel\" type=\"reset\" name=\"editor_reset\">������</button>","\t\t\t\t<button class=\"cancel\" type=\"button\" name=\"editor_delete\" onclick=\"drop()\">������� �������</button>","\t\t\t</fieldset>","\t\t\t</div>","\t\t</form>","\t\t</div>","","\t\t<div style=\"right: -225px; display: none;\" class=\"logger\" id=\"logger\"><div id=\"logger_close\"><a href=\"acl1.html#\" onclick=\"document.getElementById('logger').style.display='none'\"><img src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/logger_close.gif\"></a></div></div>","\t</div></div></div>","<script src=\"http://itel.ua/emulations/zyxel-keenetic_v2/RU/acl1_files/screensize.js\" type=\"text/javascript\"></script><script type=\"text/javascript\">","\t\t$(document).ready(function() {","\t\t\tvar lang = window.location.pathname.split(\"/\")[1];","\t\t\tif( lang )","\t\t\t\t$(\"#lang\").val(\"/\" + lang + \"/\");","\t\t\t$(\"#lang .default\").text(\"English\");","\t\t});","\t\t</script>","","</body></html>"],"id":2},{"start":{"row":0,"column":0},"end":{"row":276,"column":14},"action":"insert","lines":["<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">","<html xmlns=\"http://www.w3.org/1999/xhtml\"><head>","<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">","<meta name=\"ndm.abbr\" content=\"Access Rules\">","<meta name=\"ndm.abbr\" content=\"Межсетевой экран\" xml:lang=\"RU\" lang=\"RU\">","","<title>ZyXEL Keenetic - ","\t\t\t\tМежсетевой экран</title>","<link rel=\"stylesheet\" href=\"acl1_files/keenetic.css\" type=\"text/css\">","<script src=\"acl1_files/jquery.js\" type=\"text/javascript\"></script>","<script src=\"acl1_files/constants.js\" type=\"text/javascript\"></script>","<script src=\"acl1_files/l10n.js\" type=\"text/javascript\" charset=\"utf-8\"></script>","<script src=\"acl1_files/ndm.js\" type=\"text/javascript\"></script>","<script type=\"text/javascript\">","<!--","function AccessGroups(element, form, defSectionName) {","\tvar p_;","\tvar default_;","\tvar table_ = new Table(element);","\ttable_.showColumns(\"action\", \"protocol\", \"source\", \"src-port-operator\", \"source-port\", \"destination\", \"dst-port-operator\", \"destination-port\");","\ttable_.setEditorForm(form);","\ttable_.onStopEditing = function(element) {","\t\tif( this.getFlag(element) == TBL_ROW_INSERTED ) this.deleteRow(element);","\t}","//public:","\tthis.init = function() {","\t\tp_ = new Packet();","\t}","\tthis.cleanup = function() {","\t\ttable_.stopEditing();","\t\twhile(element.tBodies.length) element.removeChild(element.tBodies[0]);","\t}","\tthis.load = function(node) {","\t\tvar acl = getNodeValue(node, \"acl\");","\t\tvar sect = table_.newSection(acl, \"rules for \" + (getNodeValue(node, \"direction\") == \"in\" ? \"incoming\" : \"outgoing\") + \" connections (\" + acl + \") :\");","\t\tsect.__direction = getNodeValue(node, \"direction\");","\t\tif( acl == defSectionName ) default_ = sect;","\t\tp_.Config(\"access-list\", {\"acl\": acl}, sect);","\t}","\tthis.loadLists = function(logger) {","\t\tp_.proceed(logger);","\t}","\tthis.getTable = function() {","\t\tif( table_.getActiveSection() ) return table_.getActiveSection();","\t\tif( !default_ ) {","\t\t\tdefault_ = table_.newSection(defSectionName, \"rules for incoming connections (\" + defSectionName + \") :\");","\t\t\tdefault_.__direction = \"in\";","\t\t\tdefault_.init();","\t\t}","\t\treturn default_;","\t}","}","AccessGroups.prototype = new ParameterSet();","var acg;","var ifName;","var interfaces;","","function loadValues(ifName_) {","\tif( ifName_ ) {","\t\tif( acg ) acg.cleanup();","\t\tacg = new AccessGroups(document.getElementById(\"rules\"), new Form(document.getElementById(\"editor\")), _WEBADMIN + \"_\" + ifName_);","\t\tvar p = new Packet();","\t\tif( !interfaces ) {","\t\t\tinterfaces = new IfList(document.iface.name);","\t\t\tp.Command(\"show interface\", null, interfaces);","\t\t}","\t\tp.Config(\"interface ip access-group\", {\"name\": ifName_}, acg);\t","\t\tp.onLoad = function() {","\t\t\tacg.loadLists(document.getElementById(\"logger\"));","\t\t\tifName = ifName_;","\t\t}","\t\tp.proceed(document.getElementById(\"logger\"));","\t}","}","function add() {","\tvar rules = acg.getTable();","\trules.startEditing(rules.insertRow({\"acl\": rules.getSectionName()}));","}","function save() {","\tvar rules = acg.getTable();","\tvar selected = rules.getSelectedRow();","\tvar f = rules.getEditorForm();","\tvar found = rules.find(f.getParameters());","\tif( f.getParameter(\"source\") && found && found != selected ) {","\t\talert(l10n(65542, \"There is such rule already. Duplicate rules are not allowed.\"));","\t} else {","\t\tvar p = new Packet();","\t\tif( rules.getFlag(selected) != TBL_ROW_INSERTED ) {","\t\t\tp.No(\"access-list\", {\"acl\": rules.getSectionName()});","\t\t\trules.forEach(function(values, isSelected) {","\t\t\t\tp.Command(\"access-list \" + (isSelected ? f.getParameter(\"action\") : values[\"action\"]),","\t\t\t\t\t\tisSelected ? f.getParameters() : values, isSelected ? f : null, true);","\t\t\t});","\t\t} else {","\t\t\tp.Command(\"access-list \" + f.getParameter(\"action\"), f.getParameters(), f, true);","\t\t}","\t\tp.Command(\"interface ip access-group\", {\"name\": ifName, \"acl\": rules.getSectionName(), \"direction\": rules.__direction});","\t\tp.ConfigSave();","\t\tp.onLoad = function() { ","\t\t\tif( !this.getErrorState() ) rules.setRowValues(selected, f.getParameters(true)); ","\t\t}","\t\tp.proceed(document.getElementById(\"logger\"));","\t}","\treturn false;","}","function drop() {","\tvar rules = acg.getTable();","\tvar selected = rules.getSelectedRow();","\tif( rules.getFlag(selected) != TBL_ROW_INSERTED ) {","\t\tvar p = new Packet();","\t\tp.No(\"access-list \" + rules.getRowValues(selected)[\"action\"], rules.getRowValues(selected), null, true);","\t\tp.ConfigSave();","\t\tp.onLoad = function() { ","\t\t\tif( !this.getErrorState() ) rules.deleteRow(selected); ","\t\t}","\t\tp.proceed(document.getElementById(\"logger\"));","\t} else {","\t\trules.stopEditing();","\t}","}","-->","</script>","</head>","","<body onload=\"loadValues(_WAN)\">","\t<noscript><strong>Please, enable JavaScript support in your browser.</strong></noscript>","\t<div id=\"page\"><div id=\"topframe\"><div id=\"logo\"><a href=\"status.html\"><img src=\"acl1_files/logo.gif\" border=\"0\"></a></div><div id=\"logoname\">Keenetic</div><div id=\"sysinfo\"><script type=\"text/javascript\"><!--","\t\tfunction setLang(s) {","\t\t\twindow.location.assign(window.location.pathname.replace(/.*\\//, new FieldValue(s).get())); ","\t\t}","\t\t\t--></script>Язык: <select id=\"lang\" onchange=\"setLang(this)\"><option value=\"/\" class=\"default\">English</option><option selected=\"selected\" value=\"/RU/\">Русский</option></select></div></div><div id=\"menu_position\"><div id=\"tabs\"><ul><li style=\"background:url('img/status-shade.png');\"><a href=\"status.html\">Монитор</a></li><li style=\"background:url('img/broadband-shade.png');\"><a href=\"globals.html\">Интернет</a></li><li style=\"background:url('img/home-shade.png');\"><a href=\"home.html\">Домашняя сеть</a></li><li style=\"background:url('img/wireless-shade.png');\"><a href=\"wireless.html\">Wi-Fi</a></li><li style=\"background:url('img/security.png');\" class=\"selected\"><a href=\"statics.html\">Безопасность</a></li><li style=\"background:url('img/tools-shade.png');\"><a href=\"log.html\">Система</a></li><li style=\"background:url('img/usb-shade.png');\"><a href=\"swap.html\">USB</a></li></ul><br></div></div><div style=\"height: 639px;\" id=\"content\"><div id=\"title\">Безопасность<div id=\"subtitle\"></div></div><ul class=\"tabs\"><li><a href=\"statics.html\"><span>Трансляция сетевых адресов (NAT)</span></a></li><li><a class=\"current\" href=\"acl.html\"><span>Межсетевой экран</span></a></li></ul><div class=\"block red\" style=\"border-bottom: none;\">","\t\t<h1>Межсетевой экран</h1>","\t\t<div class=\"rounded\">","\t\t<p>Выберите из списка интерфейс, чтобы просмотреть существующие для ","него правила или создать новое. Правила могут разрешать или запрещать ","прохождение определенных пакетов, удовлетворяющих условиями правила. Для"," редактирования созданного правила щелкните его запись в списке.</p>","\t\t</div>","\t\t<form action=\"\" name=\"iface\" id=\"iface\">","\t\t\t<label for=\"direction\">Правила для интерфейса:</label>","\t\t\t\t<select name=\"name\" id=\"name\" style=\"width: 280px;\" onchange=\"loadValues(this.options[this.selectedIndex].value)\">","\t\t\t\t\t<option selected=\"selected\"></option>","\t\t\t\t<option value=\"Switch0\">Switch0</option><option value=\"WifiStation0\">Wi-Fi client (WifiStation0)</option><option value=\"WifiMaster0\">WifiMaster0</option><option value=\"AccessPoint\">Wi-Fi access point (AccessPoint)</option><option value=\"GuestWiFi\">Guest access point (GuestWiFi)</option><option value=\"WifiMaster0/AccessPoint2\">WifiMaster0/AccessPoint2</option><option value=\"WifiMaster0/AccessPoint3\">WifiMaster0/AccessPoint3</option><option value=\"Switch0/VLAN1\">LAN ports 1-4 (Switch0/VLAN1)</option><option value=\"ISP\">Broadband connection (ISP)</option><option value=\"Home\">Home network (Home)</option><option value=\"WiMax0\">Yota (WiMax0)</option><option value=\"Switch0/VLAN3\">Switch0/VLAN3</option><option value=\"Switch0/VLAN4\">Switch0/VLAN4</option><option value=\"Switch0/VLAN5\">Switch0/VLAN5</option><option value=\"Switch0/VLAN8\">Switch0/VLAN8</option><option value=\"PPTP0\">PPTP0</option><option value=\"Switch0/VLAN9\">Switch0/VLAN9</option><option value=\"PPTP1\">PPTP1</option><option value=\"L2TP0\">L2TP0</option><option value=\"PPPoE0\">PPPoE0</option></select><br>","\t\t</form>","\t\t<br>","\t\t<table style=\"width: 100%;\" id=\"rules\" class=\"styled\" cellspacing=\"0\">","\t\t<thead>","\t\t\t<tr>","\t\t\t<th>Действие</th>","\t\t\t<th>Протокол</th>","\t\t\t<th>Источник</th>","\t\t\t<th colspan=\"2\">Порт источника</th>","\t\t\t<th>Назначение</th>","\t\t\t<th colspan=\"2\">Порт назначения</th>","\t\t\t</tr>","\t\t</thead>","\t\t<tbody></tbody><tbody><tr><td class=\"section\" colspan=\"8\"><h1>rules for incoming connections (_WEBADMIN_ISP) :</h1></td></tr></tbody><tbody><tr class=\" highlight\"><td colspan=\"8\">(пусто)</td></tr><tr><td colspan=\"8\" class=\"editor\"><form action=\"\" name=\"editor\" id=\"editor\" onsubmit=\"return save();\" onreset=\"acg.getTable().stopEditing();\">","\t\t\t<div class=\"header\"><h1>Настройка правила</h1><div class=\"close_button\"><a href=\"acl.html\" onclick=\"getClosest(this,'form').reset()\"><img src=\"acl1_files/i_close.gif\"></a></div></div>","\t\t\t<div class=\"controls\">","\t\t\t<div class=\"rounded\">","\t\t\t<p>Выберите действие, которое нужно выполнить для входящих пакетов, и"," укажите условия, при которых это действие должно быть выполнено.</p>","\t\t\t</div>","\t\t\t<fieldset> ","\t\t\t<input value=\"_WEBADMIN_ISP\" id=\"_ndm_1304672343651\" name=\"acl\" type=\"hidden\">","\t\t\t<label for=\"action\">Действие</label>","\t\t\t\t<select name=\"action\">","\t\t\t\t\t<option selected=\"selected\" value=\"permit\">Разрешить</option>","\t\t\t\t\t<option value=\"deny\">Запретить</option>","\t\t\t\t</select>","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t<label for=\"source\">IP-адрес источника:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"source\" size=\"15\" type=\"text\"> / ","\t\t\t\t<input name=\"source-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"destination\">IP-адрес назначения:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"destination\" size=\"15\" type=\"text\"> /","\t\t\t\t<input name=\"destination-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"protocol\">Протокол:</label>","\t\t\t\t<select name=\"protocol\">","\t\t\t\t\t<option selected=\"selected\" value=\"tcp\">TCP</option>","\t\t\t\t\t<option value=\"udp\">UDP</option>","\t\t\t\t</select><br>","\t\t\t<label for=\"source-port\">Номер порта источника:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"src-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">равен</option>","\t\t\t\t\t<option value=\"gt\">больше чем</option>","\t\t\t\t\t<option value=\"lt\">меньше чем</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"source-port\" type=\"text\"></span><br>","\t\t\t<label for=\"destination-port\">Номер порта назначения:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"dst-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">равен</option>","\t\t\t\t\t<option value=\"gt\">больше чем</option>","\t\t\t\t\t<option value=\"lt\">меньше чем</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"destination-port\" type=\"text\"></span><br>","\t","\t\t\t<label for=\"nothing\"></label>","\t\t\t\t<button class=\"apply\" type=\"button\" name=\"editor_apply\">Сохранить</button>","\t\t\t\t<button class=\"cancel\" onclick=\"document.location='acl.html'\" type=\"button\" name=\"editor_reset\">Отмена</button>","\t\t\t\t<button class=\"cancel\" type=\"button\" name=\"editor_delete\" onclick=\"\">Удалить правило</button>","\t\t\t</fieldset>","\t\t\t</div>","\t\t</form></td></tr></tbody></table>","","\t\t<br>","\t\t<button name=\"add_rule\" onclick=\"add()\">Добавить правило</button>","","\t\t<div style=\"display:none;\">","\t\t<form action=\"\" name=\"editor\" id=\"editor\" onsubmit=\"return save();\" onreset=\"acg.getTable().stopEditing();\">","\t\t\t<div class=\"header\"><h1>Настройка правила</h1><div class=\"close_button\"><a href=\"#\" onclick=\"getClosest(this,'form').reset()\"><img src=\"acl1_files/i_close.gif\"></a></div></div>","\t\t\t<div class=\"controls\">","\t\t\t<div class=\"rounded\">","\t\t\t<p>Выберите действие, которое нужно выполнить для входящих пакетов, и"," укажите условия, при которых это действие должно быть выполнено.</p>","\t\t\t</div>","\t\t\t<fieldset> ","\t\t\t<input name=\"acl\" type=\"hidden\">","\t\t\t<label for=\"action\">Действие</label>","\t\t\t\t<select name=\"action\">","\t\t\t\t\t<option selected=\"selected\" value=\"permit\">Разрешить</option>","\t\t\t\t\t<option value=\"deny\">Запретить</option>","\t\t\t\t</select>","\t\t\t</fieldset>","\t\t\t<fieldset>","\t\t\t<label for=\"source\">IP-адрес источника:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"source\" size=\"15\" type=\"text\"> / ","\t\t\t\t<input name=\"source-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"destination\">IP-адрес назначения:</label>","\t\t\t\t<span class=\"nobr\"><input name=\"destination\" size=\"15\" type=\"text\"> /","\t\t\t\t<input name=\"destination-mask\" size=\"15\" value=\"255.255.255.255\" type=\"text\"></span><br>","\t\t\t<label for=\"protocol\">Протокол:</label>","\t\t\t\t<select name=\"protocol\">","\t\t\t\t\t<option selected=\"selected\" value=\"tcp\">TCP</option>","\t\t\t\t\t<option value=\"udp\">UDP</option>","\t\t\t\t</select><br>","\t\t\t<label for=\"source-port\">Номер порта источника:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"src-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">равен</option>","\t\t\t\t\t<option value=\"gt\">больше чем</option>","\t\t\t\t\t<option value=\"lt\">меньше чем</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"source-port\" type=\"text\"></span><br>","\t\t\t<label for=\"destination-port\">Номер порта назначения:</label>","\t\t\t\t<span class=\"nobr\"><select name=\"dst-port-operator\">","\t\t\t\t\t<option value=\"\" selected=\"selected\"></option>","\t\t\t\t\t<option value=\"eq\">равен</option>","\t\t\t\t\t<option value=\"gt\">больше чем</option>","\t\t\t\t\t<option value=\"lt\">меньше чем</option>","\t\t\t\t</select>","\t\t\t\t<input name=\"destination-port\" type=\"text\"></span><br>","\t","\t\t\t<label for=\"nothing\"></label>","\t\t\t\t<button class=\"apply\" type=\"submit\" name=\"editor_apply\">Сохранить</button>","\t\t\t\t<button class=\"cancel\" type=\"reset\" name=\"editor_reset\">Отмена</button>","\t\t\t\t<button class=\"cancel\" type=\"button\" name=\"editor_delete\" onclick=\"drop()\">Удалить правило</button>","\t\t\t</fieldset>","\t\t\t</div>","\t\t</form>","\t\t</div>","","\t\t<div style=\"right: -225px; display: none;\" class=\"logger\" id=\"logger\"><div id=\"logger_close\"><a href=\"#\" onclick=\"document.getElementById('logger').style.display='none'\"><img src=\"acl1_files/logger_close.gif\"></a></div></div>","\t</div></div></div>","<script src=\"acl1_files/screensize.js\" type=\"text/javascript\"></script><script type=\"text/javascript\">","\t\t$(document).ready(function() {","\t\t\tvar lang = window.location.pathname.split(\"/\")[1];","\t\t\tif( lang )","\t\t\t\t$(\"#lang\").val(\"/\" + lang + \"/\");","\t\t\t$(\"#lang .default\").text(\"English\");","\t\t});","\t\t</script>","","</body></html>"]}],[{"start":{"row":8,"column":29},"end":{"row":8,"column":40},"action":"remove","lines":["acl1_files/"],"id":3},{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"insert","lines":["c"]}],[{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"insert","lines":["s"],"id":4}],[{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["s"],"id":5}],[{"start":{"row":8,"column":32},"end":{"row":8,"column":33},"action":"insert","lines":["/"],"id":6}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":24},"action":"remove","lines":["acl1_files/"],"id":7},{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"insert","lines":["j"]}],[{"start":{"row":9,"column":14},"end":{"row":9,"column":15},"action":"insert","lines":["s"],"id":8}],[{"start":{"row":9,"column":15},"end":{"row":9,"column":16},"action":"insert","lines":["/"],"id":9}],[{"start":{"row":10,"column":13},"end":{"row":10,"column":24},"action":"remove","lines":["acl1_files/"],"id":10},{"start":{"row":10,"column":13},"end":{"row":10,"column":14},"action":"insert","lines":["j"]}],[{"start":{"row":10,"column":14},"end":{"row":10,"column":15},"action":"insert","lines":["s"],"id":11}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":16},"action":"insert","lines":["/"],"id":12}],[{"start":{"row":11,"column":13},"end":{"row":11,"column":24},"action":"remove","lines":["acl1_files/"],"id":13},{"start":{"row":11,"column":13},"end":{"row":11,"column":14},"action":"insert","lines":["j"]}],[{"start":{"row":11,"column":14},"end":{"row":11,"column":15},"action":"insert","lines":["s"],"id":14}],[{"start":{"row":11,"column":15},"end":{"row":11,"column":16},"action":"insert","lines":["/"],"id":15}],[{"start":{"row":12,"column":13},"end":{"row":12,"column":24},"action":"remove","lines":["acl1_files/"],"id":16},{"start":{"row":12,"column":13},"end":{"row":12,"column":14},"action":"insert","lines":["j"]}],[{"start":{"row":12,"column":14},"end":{"row":12,"column":15},"action":"insert","lines":["s"],"id":17}],[{"start":{"row":12,"column":15},"end":{"row":12,"column":16},"action":"insert","lines":["/"],"id":18}],[{"start":{"row":126,"column":82},"end":{"row":126,"column":93},"action":"remove","lines":["acl1_files/"],"id":19},{"start":{"row":126,"column":82},"end":{"row":126,"column":83},"action":"insert","lines":["i"]}],[{"start":{"row":126,"column":83},"end":{"row":126,"column":84},"action":"insert","lines":["m"],"id":20}],[{"start":{"row":126,"column":84},"end":{"row":126,"column":85},"action":"insert","lines":["g"],"id":21}],[{"start":{"row":126,"column":85},"end":{"row":126,"column":86},"action":"insert","lines":["/"],"id":22}],[{"start":{"row":157,"column":146},"end":{"row":157,"column":157},"action":"remove","lines":["acl1_files/"],"id":23},{"start":{"row":157,"column":146},"end":{"row":157,"column":147},"action":"insert","lines":["i"]}],[{"start":{"row":157,"column":147},"end":{"row":157,"column":148},"action":"insert","lines":["m"],"id":24}],[{"start":{"row":157,"column":148},"end":{"row":157,"column":149},"action":"insert","lines":["g"],"id":25}],[{"start":{"row":157,"column":149},"end":{"row":157,"column":150},"action":"insert","lines":["/"],"id":26}],[{"start":{"row":267,"column":13},"end":{"row":267,"column":24},"action":"remove","lines":["acl1_files/"],"id":27},{"start":{"row":267,"column":13},"end":{"row":267,"column":14},"action":"insert","lines":["j"]}],[{"start":{"row":267,"column":14},"end":{"row":267,"column":15},"action":"insert","lines":["s"],"id":28}],[{"start":{"row":267,"column":15},"end":{"row":267,"column":16},"action":"insert","lines":["/"],"id":29}],[{"start":{"row":213,"column":139},"end":{"row":213,"column":150},"action":"remove","lines":["acl1_files/"],"id":30},{"start":{"row":213,"column":139},"end":{"row":213,"column":140},"action":"insert","lines":["i"]}],[{"start":{"row":213,"column":140},"end":{"row":213,"column":141},"action":"insert","lines":["m"],"id":31}],[{"start":{"row":213,"column":141},"end":{"row":213,"column":142},"action":"insert","lines":["g"],"id":32}],[{"start":{"row":213,"column":142},"end":{"row":213,"column":143},"action":"insert","lines":["/"],"id":33}],[{"start":{"row":265,"column":182},"end":{"row":265,"column":193},"action":"remove","lines":["acl1_files/"],"id":34},{"start":{"row":265,"column":182},"end":{"row":265,"column":183},"action":"insert","lines":["i"]}],[{"start":{"row":265,"column":183},"end":{"row":265,"column":184},"action":"insert","lines":["m"],"id":35}],[{"start":{"row":265,"column":184},"end":{"row":265,"column":185},"action":"insert","lines":["g"],"id":36}],[{"start":{"row":265,"column":185},"end":{"row":265,"column":186},"action":"insert","lines":["/"],"id":37}]]},"ace":{"folds":[],"scrolltop":3516,"scrollleft":116.1628125,"selection":{"start":{"row":274,"column":11},"end":{"row":274,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":250,"state":"start","mode":"ace/mode/html"}},"timestamp":1470395343600,"hash":"44dbf19c8da3d5521f7a660cc6f2cc7a90f77f4c"}