{"filter":false,"title":"comBasicFun.js","tooltip":"/zte/js/comBasicFun.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":693,"column":0},"action":"insert","lines":["var TAB_CODE=9;","var DEL_CODE=46 ;","var BS_CODE=8;","var SP_CODE=32;","var DOT_CODE=190;","var DOT2_CODE=110;","","/*+-----------------------------------------+","  | FileName : Javascript Common Web Check Function |","  | Edtion   : To Trunk R2                  |","  | Author   : TBS Software                 |","  +-----------------------------------------+*/","  "," /*检测是否全部是数字*/","function validateKey(str)","{","   for (var i=0; i<str.length; i++) {","    if ( (str.charAt(i) >= '0' && str.charAt(i) <= '9') || (str.charAt(i) == '.' ) )","\t\t\tcontinue;","\treturn 0;","  }","  return 1;","}","","function getDigit(str, num)","{","  i=1;","  if ( num != 1 ) {","  \twhile (i!=num && str.length!=0) {","\t\tif ( str.charAt(0) == '.' ) {","\t\t\ti++;","\t\t}","\t\tstr = str.substring(1);","  \t}","  \tif ( i!=num )","  \t\treturn -1;","  }","  for (i=0; i<str.length; i++) {","  \tif ( str.charAt(i) == '.' ) {","\t\tstr = str.substring(0, i);","\t\tbreak;","\t}","  }","  if ( str.length == 0)","  \treturn -1;","  var d = parseInt(str, 10);","  return d;","}","","/*判断地址是否在范围内*/","function checkDigitRange(str, num, min, max)","{","  var d = getDigit(str,num);","  if ( d > max || d < min )","      \treturn false;","  return true;","}","","","function checkIpAddr(_value)","{","\tif (_value == \"...\") {","\t\talertError('CheckIpValue1',1);","\t\treturn false;","\t}","","\tif ( validateKey(_value) == 0) {","\t\talertError('CheckIpValue2',1);","\t\treturn false;","\t}","\tif ( !checkDigitRange(_value,1,1,223) ) {","\t\talertError('CheckIpValue3',1);","\t\treturn false;","\t}","","\tif ( getDigit(_value,1) ==127) {","\t\talertError('CheckIpValue4',1);","\t\treturn false;","\t}","","\tif ( !checkDigitRange(_value,2,0,255) ) {","\t\talertError('CheckIpValue5',1);","\t\treturn false;","\t}","\tif ( !checkDigitRange(_value,3,0,255) ) {","\t\talertError('CheckIpValue6',1);","\t\treturn false;","\t}","\tif ( !checkDigitRange(_value,4,1,254) ) {","\t\talertError('CheckIpValue7',1);","\t\treturn false;","\t}","","\treturn true;","}","","","/*检测Mask地址是否合法*/","function checkMask(str, num)","{","  var d = getDigit(str,num);","  if( !(d==0 || d==128 || d==192 || d==224 || d==240 || d==248 || d==252 || d==254 || d==255 ))","  \treturn false;","  return true;","}","","function isValidMask2(str)","{","\t","\tvar _value = str.split('.');","\tvar _numValue=0;","\tvar _flag=0;","\t","\tfor(var _i=0; _i<_value.length; _i++)","\t{","\t\tvar _numValue = parseInt(_value[_i],10);","","\t\tfor(var _j=0; _j<8; _j++)","\t\t{","\t\t\tif(parseInt(_numValue&128,10)==128)","\t\t\t{","\t\t\t\tif(_flag==1)","\t\t\t\t{","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t\t}","\t\t\telse if(parseInt(_numValue&128,10)!=128)","\t\t\t{","\t\t\t\t_flag=1;","\t\t\t}","\t\t\t","\t\t\t_numValue = _numValue << 1;","\t\t\t","\t\t}","","\t}","","\treturn true;","","}","","","/*判断子网掩码的合法性*/","function isValidMask(_value)","{","\t","\tif (_value==\"...\") ","\t{","\t\talertError('CheckMaskValue1',1);","\t\treturn false;","\t }","","","\tif (_value == \"255.255.255.255\")","\t{","\t\talertError('CheckMaskValue2',1);","\t\treturn false;","\t","\t  }","\t  ","\tif (_value == \"0.0.0.0\")","\t{","\t\talertError('CheckMaskValue3',1);","\t\treturn false;","\t","\t }","","  \tif ( validateKey(_value) == 0 ) ","\t{","","      \talertError('CheckMaskValue4',1);","\t\treturn false;","\t }","\t ","\t  if ( !checkMask(_value,1)) ","\t  {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","","\t  if ( !checkMask(_value,2)) {","\t\t alertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t  ","\t  if ( !checkMask(_value,3)) {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t  ","\t  if ( !checkMask(_value,4)) {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t","\t  if (! ( (getDigit(_value,1) >= getDigit(_value,2))","\t\t&&  (getDigit(_value,2) >= getDigit(_value,3))","\t\t&& (getDigit(_value,3) >= getDigit(_value,4)) ) )","\t  {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t  ","\t   if (!isValidMask2(_value)) {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","","\treturn true;","}","","//for lan.html page checking Ip & Mask is valid value","function checkIp_Mask(lanIp,lanMask)","{","","   var count = 0;","   var count2 = 0;","   var l1a_n,l1m_n;","","   var _lanIp = lanIp.split('.');","   var _lanMask = lanMask.split('.');","","   for (i = 0; i < 4; i++) {","      l1a_n = parseInt(_lanIp[i]);","      l1m_n = parseInt(_lanMask[i]);","      if ((l1a_n & l1m_n)==0)","         count++;","\t  else if((l1a_n & l1m_n)==1)","\t  \t count2++;","   }","   if (count == 4)","   {","\t  alertError('CheckIp_Mask',1);","      return false;","   }","   else if(count2 == 4)","   {","\t  alertError('CheckIp_Mask',1);","      return false;","   }","   else","      return true;","}","","","/*判断网关地址是否合法*/","function checkGatewayAddr(_value)","{","","\tif (_value == \"...\") {","\t\talertError('CheckGatewayValue1',1);","\t\treturn false;","\t}","","\t   if ( validateKey(_value) == 0) {","      alertError('CheckGatewayValue2',1);","      return false;","   }","   if ( !checkDigitRange(_value,1,1,223) ) {","    alertError('CheckGatewayValue3',1);","      return false;","   }","   if ( getDigit(_value,1) ==127)","   \t{","\t  alertError('CheckGatewayValue4',1);","      return false;","","   }","","   if ( !checkDigitRange(_value,2,0,255) ) {","      alertError('CheckGatewayValue5',1);","      return false;","   }","   ","   if ( !checkDigitRange(_value,3,0,255) ) {","      alertError('CheckGatewayValue6',1);","      return false;","   }","   ","   if ( !checkDigitRange(_value,4,1,254) ) {","     alertError('CheckGatewayValue7',1);","      return false;","   }","\treturn true;","}","","","/*判断DNS地址是否合法*/","function checkPrimaryDNS(_id,_value,_flag)","{ ","    var INPUT_ID = _id;","\tvar INPUT_value = _value;","\tvar INPUT_flag = _flag;","\t","\tif (INPUT_value == \"\") {","\t\tif(INPUT_flag != 'Empty'){","\t\t    DealWith.Wrong(INPUT_ID,'DNS address format error:It should not be empty.');","\t\t    return false;","\t\t}else{","\t\t    return true;","\t\t}","\t}","   if ( validateKey(INPUT_value) == 0) {","      DealWith.Wrong(INPUT_ID,'It should be a [0-9] number.');","      return false;","   }","   if ( !checkDigitRange(INPUT_value,1,1,223) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:Please fill the first digit numbers between (1-223).');","      return false;","   }","   if ( getDigit(INPUT_value,1) ==127)","   \t{","\t  DealWith.Wrong(INPUT_ID,'DNS address format error:The first digit numbers can\\'t be 127 .');","      return false;","   }   ","   if ( !checkDigitRange(INPUT_value,2,0,255) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(INPUT_value,3,0,255) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(INPUT_value,4,1,254) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:Please fill the last digit numbers between (1-254).');","      return false;","   }","\treturn true;","}","","function checkSecondaryDNS(_value)","{","   if ( validateKey(_value) == 0) {","      DealWith.Wrong('INPUT_ServerSec','It should be a [0-9] number.');","      return false;","   }","   if ( !checkDigitRange(_value,1,1,223) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:Please fill the first digit numbers between (1-223).');","      return false;","   }","   if ( getDigit(_value,1) ==127)","   \t{","\t  DealWith.Wrong('INPUT_ServerSec','DNS address format error:The first digit numbers can\\'t be 127 .');","      return false;","   }   ","   if ( !checkDigitRange(_value,2,0,255) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(_value,3,0,255) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(_value,4,1,254) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:Please fill the last digit numbers between (1-254).');","      return false;","   }","\treturn true;","}","","function checkHex(str)","{","\tfor(var i=0; i<str.length; i++)","\t\t{","\t\t\tif((str.charAt(i) >= '0' && str.charAt(i) <= '9')||","\t\t\t\t(str.charAt(i) >= 'a' && str.charAt(i) <= 'f')||","\t\t\t\t(str.charAt(i) >= 'A' && str.charAt(i) <= 'F'))","\t\t\t\t{continue;}","\t\t\telse {return false;}","\t\t}","}","","function checkSecurityKey(str)","{","\tif($('SELECT_Encryptstrength').value == '64bits')","\t\t{","\t\t\tif(checkHex(str) == false || str.length != 10)","\t\t\t\t{","\t\t\t\t\talertError(\"CheckSecurityKey1\");","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t}","\telse if($('SELECT_Encryptstrength').value == '128bits')","\t\t{","\t\t\tif(checkHex(str) == false || str.length != 26)","\t\t\t\t{","\t\t\t\t\talertError(\"CheckSecurityKey2\");","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t}","","}","","function checkWord(s)","{ ","","\tvar patrn=/(\\|)|(\\\\)|(\\`)/;","\tif(patrn.test(s)==true)","\t{","\t\talertError('CheckPassphrase');","\t\treturn false;","\t}","\telse","\t{","\t\treturn true;","\t}","","}","","function checkBlank(str)","{","\tif(str.charAt(str.length-1) == \" \" || str.charAt(0) == \" \")","\t\t{","\t\t\talertError('CheckBlank');","\t\t}","\tstr = str.replace(/(^\\s*)|(\\s*$)/g,\"\");","\treturn str;","}","","function checkPassphrase(str)","{","\t","\t","\tif(str.length == 64)","\t\t{","\t\t\tif(checkHex(str) == false)","\t\t\t\t{","\t\t\t\t\talertError(\"CheckSecurityPwd1\");","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t}","\tif(str.length < 8)","\t\t{","\t\t\talertError(\"CheckSecurityPwd2\");","\t\t\treturn false;","\t\t}","\t\t","\tif(checkWord(str)==false)","\t\treturn false;","\telse","\t\treturn true;","}","","function checkNameBlank(str)","{","\tvar patrn = /^\\S{1,100}$/;","\tvar tmp = str;","\tif(str == \"\")","\t{","\t\treturn false;","\t}","\telse","\t{   ","\t    if(!patrn.exec(str)) ","\t\t{","\t\t\tstr = str.replace(/\\s/g,\"\");","\t\t}","\t\tif (tmp == str) ","\t\t{","\t\t    return true;","\t\t}","\t\telse","\t\t{","\t\t\treturn str;","\t\t}","\t}","}","","","function isSameSubNet(lan1Ip, lan1Mask, lan2Ip, lan2Mask)","{","","   var count = 0;","","   lan1a = lan1Ip.split('.');","   lan1m = lan1Mask.split('.');","   lan2a = lan2Ip.split('.');","   lan2m = lan2Mask.split('.');","","   for (i = 0; i < 4; i++) {","      l1a_n = parseInt(lan1a[i]);","      l1m_n = parseInt(lan1m[i]);","      l2a_n = parseInt(lan2a[i]);","      l2m_n = parseInt(lan2m[i]);","      if ((l1a_n & l1m_n) == (l2a_n & l2m_n))","         count++;","   }","   if (count == 4)","      return true;","   else","      return false;","}","","","function checkURL(s)","{ ","","\tvar patrn=/^\\w+$/;","\tvar patrn2=/\\./;","\tvar patrn3=/\\//;","","\tfor (var i = 0; i < s.length; i++)","\t{ ","\t\tif (!patrn.exec(s.substr(i, 1)))","\t\t{","\t\t\tif(!patrn2.exec(s.substr(i, 1)))","\t\t\t{","\t\t\t\tif(!patrn3.exec(s.substr(i, 1)))","\t\t\t\t{","\t\t\t\t\talert('###nomatch');","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t\t}","\t\t}","\t\t","\t}","\t","\treturn true;","}","","function checkSSID(s)","{ ","","\tvar patrn=/[^A-Za-z0-9-_\\x20\\.]/;","","    if(patrn.test(s)==true)","\t{","\t\treturn false;","\t}","\telse","\t\treturn true;","","}","","","function hideChForWep(_tap,_num,_Bool)","{","\t var _tmpFlag;","","\t for(var _i=0; _i < _num; _i++)","\t {","\t\t _tmpFlag=_tap+(_i+1);","\t\t _tmpFlag = document.getElementById(_tmpFlag);","\t\t _tmpFlag.style.display=_Bool;","\t }","}","","function getNameValue(_Name)","{","      var _tmp = document.getElementsByName(_Name);","      for (var i=0;i<_tmp.length;i++) {","        ","        if (_tmp[i].checked) {","          return _tmp[i].value;","        }","      }","\t  ","\t  return null;","}","","function IPtoNumber(_tmp)","{","\tvar _tmpSplit = _tmp.split('.');","\tif(_tmpSplit.length==4)","\t{","\t\t_tmp = Number(_tmpSplit[0])+'.'+Number(_tmpSplit[1])+'.'+Number(_tmpSplit[2])+'.'+Number(_tmpSplit[3]);","\t}\t","\treturn _tmp;\t","}","","/*","说明：IPKeyUp和IPKeyDown需要传递两个参数","\t\t参数e表示这个键盘down或up这个事件；","\t\t参数v表示这个对象。函数中的v.id表示这个对象的id。","\t\tprefix表示把这个id按\"_\"分割的前缀，idx表示分割的后缀。","\t\t因此html文件中对象的id应该命名为 “前缀_数字后缀”的形式，例如在pf_edit中的一个id命名为\"INPUTIpAddr_1\"","*/","function IPKeyUp(e,v)","{","\tvar prefix=(v.id).split('_')[0]+'_';","\tvar idx=(v.id).split('_')[1];","\t","\tvar obj=document.getElementById(prefix+idx);","\tvar len;","\tvar nextidx = Number(idx) + 1;","\tvar keynum;"," ","    if(window.event)","\t\tkeynum = event.keyCode;","\telse if(e.which) // Netscape/Firefox/Opera","\t\tkeynum = e.which;"," "," ","\tif(keynum == TAB_CODE || keynum == BS_CODE) return;","","\tlen = obj.value.length;","","\tif(len == 3 || keynum == DOT_CODE || keynum == DOT2_CODE)","\t{\t","\t\tif(len == 0) return;","\t\tobj=document.getElementById(prefix+nextidx);","\t\tif(obj) obj.focus();","\t\treturn;","\t}","}","","function IPKeyDown(e,v)","{","\tvar prefix=(v.id).split('_')[0]+'_';","\tvar idx=(v.id).split('_')[1];","\tvar obj=document.getElementById(prefix+idx);","\tvar previdx = Number(idx) - 1;"," \tvar keynum;","       \tif(window.event)","\t\tkeynum = event.keyCode;","\telse if(e.which) // Netscape/Firefox/Opera","\t\tkeynum = e.which;"," ","\tif((keynum == TAB_CODE)","\t    || (keynum == DEL_CODE) ","\t    || (keynum == BS_CODE) )","\t{","\t\tif(obj.value.length == 0 && keynum == BS_CODE)","\t\t{","\t\t\tobj=document.getElementById(prefix+previdx);","\t\t\tif(obj) obj.focus();","\t\t}","\t\treturn 1;","\t}"," "," ","\treturn CheckNum(keynum);","}","","function CheckNum(keynum)","{","\tif( ((keynum >= 96) && keynum <= 105) ","\t  ||((keynum >= 48) && keynum <= 57)","\t  )","\t\treturn true;","\treturn false;","}","","function checkNameBlank(str)","{","\tvar patrn = /^\\S{1,100}$/;","\tvar tmp = str;","\tif(str == \"\")","\t{","\t\treturn false;","\t}","\telse","\t{   ","\t    if(!patrn.exec(str)) ","\t\t{","\t\t\tstr = str.replace(/\\s/g,\"\");","\t\t}","\t\tif (tmp == str) ","\t\t{","\t\t    return true;","\t\t}","\t\telse","\t\t{","\t\t\treturn str;","\t\t}","\t}","}","","/*","函数作用：实现IP地址用4个框表示时，页面返回值时，将get到的值分配给相应的4个框","参数说明： ip 需要返回到页面上的IP地址;","          pageip1--pageip4 页面上4个框对应的id","*/","function OnloadIP4hops(ip, pageip1, pageip2, pageip3, pageip4)","{","\t    var myIP=new Array();","        var ip_str = ip;","        myIP[0] = myIP[1] = myIP[2] = myIP[3] = \"\";","","        if(ip_str != \"\")","        { ","             var tmp = ip_str.split(\".\");","             myIP[0] = tmp[0];","\t\t\t myIP[1] = tmp[1];","\t\t\t myIP[2] = tmp[2];","\t\t\t myIP[3] = tmp[3];\t","        }","\t  $(pageip1).value = myIP[0] ;","\t  $(pageip2).value = myIP[1] ;","      $(pageip3).value = myIP[2];","\t  if(pageip4!='')","\t  $(pageip4).value = myIP[3];","}",""],"id":1}],[{"start":{"row":0,"column":12},"end":{"row":0,"column":13},"action":"insert","lines":[" "],"id":2},{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"insert","lines":[" "]},{"start":{"row":1,"column":12},"end":{"row":1,"column":13},"action":"insert","lines":[" "]},{"start":{"row":1,"column":14},"end":{"row":1,"column":15},"action":"insert","lines":[" "]},{"start":{"row":1,"column":17},"end":{"row":1,"column":18},"action":"remove","lines":[" "]},{"start":{"row":2,"column":11},"end":{"row":2,"column":12},"action":"insert","lines":[" "]},{"start":{"row":2,"column":13},"end":{"row":2,"column":14},"action":"insert","lines":[" "]},{"start":{"row":3,"column":11},"end":{"row":3,"column":12},"action":"insert","lines":[" "]},{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":[" "]},{"start":{"row":4,"column":12},"end":{"row":4,"column":13},"action":"insert","lines":[" "]},{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":[" "]},{"start":{"row":5,"column":13},"end":{"row":5,"column":14},"action":"insert","lines":[" "]},{"start":{"row":5,"column":15},"end":{"row":5,"column":16},"action":"insert","lines":[" "]},{"start":{"row":12,"column":0},"end":{"row":691,"column":1},"action":"remove","lines":["  "," /*检测是否全部是数字*/","function validateKey(str)","{","   for (var i=0; i<str.length; i++) {","    if ( (str.charAt(i) >= '0' && str.charAt(i) <= '9') || (str.charAt(i) == '.' ) )","\t\t\tcontinue;","\treturn 0;","  }","  return 1;","}","","function getDigit(str, num)","{","  i=1;","  if ( num != 1 ) {","  \twhile (i!=num && str.length!=0) {","\t\tif ( str.charAt(0) == '.' ) {","\t\t\ti++;","\t\t}","\t\tstr = str.substring(1);","  \t}","  \tif ( i!=num )","  \t\treturn -1;","  }","  for (i=0; i<str.length; i++) {","  \tif ( str.charAt(i) == '.' ) {","\t\tstr = str.substring(0, i);","\t\tbreak;","\t}","  }","  if ( str.length == 0)","  \treturn -1;","  var d = parseInt(str, 10);","  return d;","}","","/*判断地址是否在范围内*/","function checkDigitRange(str, num, min, max)","{","  var d = getDigit(str,num);","  if ( d > max || d < min )","      \treturn false;","  return true;","}","","","function checkIpAddr(_value)","{","\tif (_value == \"...\") {","\t\talertError('CheckIpValue1',1);","\t\treturn false;","\t}","","\tif ( validateKey(_value) == 0) {","\t\talertError('CheckIpValue2',1);","\t\treturn false;","\t}","\tif ( !checkDigitRange(_value,1,1,223) ) {","\t\talertError('CheckIpValue3',1);","\t\treturn false;","\t}","","\tif ( getDigit(_value,1) ==127) {","\t\talertError('CheckIpValue4',1);","\t\treturn false;","\t}","","\tif ( !checkDigitRange(_value,2,0,255) ) {","\t\talertError('CheckIpValue5',1);","\t\treturn false;","\t}","\tif ( !checkDigitRange(_value,3,0,255) ) {","\t\talertError('CheckIpValue6',1);","\t\treturn false;","\t}","\tif ( !checkDigitRange(_value,4,1,254) ) {","\t\talertError('CheckIpValue7',1);","\t\treturn false;","\t}","","\treturn true;","}","","","/*检测Mask地址是否合法*/","function checkMask(str, num)","{","  var d = getDigit(str,num);","  if( !(d==0 || d==128 || d==192 || d==224 || d==240 || d==248 || d==252 || d==254 || d==255 ))","  \treturn false;","  return true;","}","","function isValidMask2(str)","{","\t","\tvar _value = str.split('.');","\tvar _numValue=0;","\tvar _flag=0;","\t","\tfor(var _i=0; _i<_value.length; _i++)","\t{","\t\tvar _numValue = parseInt(_value[_i],10);","","\t\tfor(var _j=0; _j<8; _j++)","\t\t{","\t\t\tif(parseInt(_numValue&128,10)==128)","\t\t\t{","\t\t\t\tif(_flag==1)","\t\t\t\t{","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t\t}","\t\t\telse if(parseInt(_numValue&128,10)!=128)","\t\t\t{","\t\t\t\t_flag=1;","\t\t\t}","\t\t\t","\t\t\t_numValue = _numValue << 1;","\t\t\t","\t\t}","","\t}","","\treturn true;","","}","","","/*判断子网掩码的合法性*/","function isValidMask(_value)","{","\t","\tif (_value==\"...\") ","\t{","\t\talertError('CheckMaskValue1',1);","\t\treturn false;","\t }","","","\tif (_value == \"255.255.255.255\")","\t{","\t\talertError('CheckMaskValue2',1);","\t\treturn false;","\t","\t  }","\t  ","\tif (_value == \"0.0.0.0\")","\t{","\t\talertError('CheckMaskValue3',1);","\t\treturn false;","\t","\t }","","  \tif ( validateKey(_value) == 0 ) ","\t{","","      \talertError('CheckMaskValue4',1);","\t\treturn false;","\t }","\t ","\t  if ( !checkMask(_value,1)) ","\t  {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","","\t  if ( !checkMask(_value,2)) {","\t\t alertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t  ","\t  if ( !checkMask(_value,3)) {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t  ","\t  if ( !checkMask(_value,4)) {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t","\t  if (! ( (getDigit(_value,1) >= getDigit(_value,2))","\t\t&&  (getDigit(_value,2) >= getDigit(_value,3))","\t\t&& (getDigit(_value,3) >= getDigit(_value,4)) ) )","\t  {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","\t  ","\t   if (!isValidMask2(_value)) {","\t\talertError('CheckMaskValue5',1);","\t\treturn false;","\t  }","","\treturn true;","}","","//for lan.html page checking Ip & Mask is valid value","function checkIp_Mask(lanIp,lanMask)","{","","   var count = 0;","   var count2 = 0;","   var l1a_n,l1m_n;","","   var _lanIp = lanIp.split('.');","   var _lanMask = lanMask.split('.');","","   for (i = 0; i < 4; i++) {","      l1a_n = parseInt(_lanIp[i]);","      l1m_n = parseInt(_lanMask[i]);","      if ((l1a_n & l1m_n)==0)","         count++;","\t  else if((l1a_n & l1m_n)==1)","\t  \t count2++;","   }","   if (count == 4)","   {","\t  alertError('CheckIp_Mask',1);","      return false;","   }","   else if(count2 == 4)","   {","\t  alertError('CheckIp_Mask',1);","      return false;","   }","   else","      return true;","}","","","/*判断网关地址是否合法*/","function checkGatewayAddr(_value)","{","","\tif (_value == \"...\") {","\t\talertError('CheckGatewayValue1',1);","\t\treturn false;","\t}","","\t   if ( validateKey(_value) == 0) {","      alertError('CheckGatewayValue2',1);","      return false;","   }","   if ( !checkDigitRange(_value,1,1,223) ) {","    alertError('CheckGatewayValue3',1);","      return false;","   }","   if ( getDigit(_value,1) ==127)","   \t{","\t  alertError('CheckGatewayValue4',1);","      return false;","","   }","","   if ( !checkDigitRange(_value,2,0,255) ) {","      alertError('CheckGatewayValue5',1);","      return false;","   }","   ","   if ( !checkDigitRange(_value,3,0,255) ) {","      alertError('CheckGatewayValue6',1);","      return false;","   }","   ","   if ( !checkDigitRange(_value,4,1,254) ) {","     alertError('CheckGatewayValue7',1);","      return false;","   }","\treturn true;","}","","","/*判断DNS地址是否合法*/","function checkPrimaryDNS(_id,_value,_flag)","{ ","    var INPUT_ID = _id;","\tvar INPUT_value = _value;","\tvar INPUT_flag = _flag;","\t","\tif (INPUT_value == \"\") {","\t\tif(INPUT_flag != 'Empty'){","\t\t    DealWith.Wrong(INPUT_ID,'DNS address format error:It should not be empty.');","\t\t    return false;","\t\t}else{","\t\t    return true;","\t\t}","\t}","   if ( validateKey(INPUT_value) == 0) {","      DealWith.Wrong(INPUT_ID,'It should be a [0-9] number.');","      return false;","   }","   if ( !checkDigitRange(INPUT_value,1,1,223) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:Please fill the first digit numbers between (1-223).');","      return false;","   }","   if ( getDigit(INPUT_value,1) ==127)","   \t{","\t  DealWith.Wrong(INPUT_ID,'DNS address format error:The first digit numbers can\\'t be 127 .');","      return false;","   }   ","   if ( !checkDigitRange(INPUT_value,2,0,255) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(INPUT_value,3,0,255) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(INPUT_value,4,1,254) ) {","      DealWith.Wrong(INPUT_ID,'DNS address format error:Please fill the last digit numbers between (1-254).');","      return false;","   }","\treturn true;","}","","function checkSecondaryDNS(_value)","{","   if ( validateKey(_value) == 0) {","      DealWith.Wrong('INPUT_ServerSec','It should be a [0-9] number.');","      return false;","   }","   if ( !checkDigitRange(_value,1,1,223) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:Please fill the first digit numbers between (1-223).');","      return false;","   }","   if ( getDigit(_value,1) ==127)","   \t{","\t  DealWith.Wrong('INPUT_ServerSec','DNS address format error:The first digit numbers can\\'t be 127 .');","      return false;","   }   ","   if ( !checkDigitRange(_value,2,0,255) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(_value,3,0,255) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","      return false;","   }   ","   if ( !checkDigitRange(_value,4,1,254) ) {","      DealWith.Wrong('INPUT_ServerSec','DNS address format error:Please fill the last digit numbers between (1-254).');","      return false;","   }","\treturn true;","}","","function checkHex(str)","{","\tfor(var i=0; i<str.length; i++)","\t\t{","\t\t\tif((str.charAt(i) >= '0' && str.charAt(i) <= '9')||","\t\t\t\t(str.charAt(i) >= 'a' && str.charAt(i) <= 'f')||","\t\t\t\t(str.charAt(i) >= 'A' && str.charAt(i) <= 'F'))","\t\t\t\t{continue;}","\t\t\telse {return false;}","\t\t}","}","","function checkSecurityKey(str)","{","\tif($('SELECT_Encryptstrength').value == '64bits')","\t\t{","\t\t\tif(checkHex(str) == false || str.length != 10)","\t\t\t\t{","\t\t\t\t\talertError(\"CheckSecurityKey1\");","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t}","\telse if($('SELECT_Encryptstrength').value == '128bits')","\t\t{","\t\t\tif(checkHex(str) == false || str.length != 26)","\t\t\t\t{","\t\t\t\t\talertError(\"CheckSecurityKey2\");","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t}","","}","","function checkWord(s)","{ ","","\tvar patrn=/(\\|)|(\\\\)|(\\`)/;","\tif(patrn.test(s)==true)","\t{","\t\talertError('CheckPassphrase');","\t\treturn false;","\t}","\telse","\t{","\t\treturn true;","\t}","","}","","function checkBlank(str)","{","\tif(str.charAt(str.length-1) == \" \" || str.charAt(0) == \" \")","\t\t{","\t\t\talertError('CheckBlank');","\t\t}","\tstr = str.replace(/(^\\s*)|(\\s*$)/g,\"\");","\treturn str;","}","","function checkPassphrase(str)","{","\t","\t","\tif(str.length == 64)","\t\t{","\t\t\tif(checkHex(str) == false)","\t\t\t\t{","\t\t\t\t\talertError(\"CheckSecurityPwd1\");","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t}","\tif(str.length < 8)","\t\t{","\t\t\talertError(\"CheckSecurityPwd2\");","\t\t\treturn false;","\t\t}","\t\t","\tif(checkWord(str)==false)","\t\treturn false;","\telse","\t\treturn true;","}","","function checkNameBlank(str)","{","\tvar patrn = /^\\S{1,100}$/;","\tvar tmp = str;","\tif(str == \"\")","\t{","\t\treturn false;","\t}","\telse","\t{   ","\t    if(!patrn.exec(str)) ","\t\t{","\t\t\tstr = str.replace(/\\s/g,\"\");","\t\t}","\t\tif (tmp == str) ","\t\t{","\t\t    return true;","\t\t}","\t\telse","\t\t{","\t\t\treturn str;","\t\t}","\t}","}","","","function isSameSubNet(lan1Ip, lan1Mask, lan2Ip, lan2Mask)","{","","   var count = 0;","","   lan1a = lan1Ip.split('.');","   lan1m = lan1Mask.split('.');","   lan2a = lan2Ip.split('.');","   lan2m = lan2Mask.split('.');","","   for (i = 0; i < 4; i++) {","      l1a_n = parseInt(lan1a[i]);","      l1m_n = parseInt(lan1m[i]);","      l2a_n = parseInt(lan2a[i]);","      l2m_n = parseInt(lan2m[i]);","      if ((l1a_n & l1m_n) == (l2a_n & l2m_n))","         count++;","   }","   if (count == 4)","      return true;","   else","      return false;","}","","","function checkURL(s)","{ ","","\tvar patrn=/^\\w+$/;","\tvar patrn2=/\\./;","\tvar patrn3=/\\//;","","\tfor (var i = 0; i < s.length; i++)","\t{ ","\t\tif (!patrn.exec(s.substr(i, 1)))","\t\t{","\t\t\tif(!patrn2.exec(s.substr(i, 1)))","\t\t\t{","\t\t\t\tif(!patrn3.exec(s.substr(i, 1)))","\t\t\t\t{","\t\t\t\t\talert('###nomatch');","\t\t\t\t\treturn false;","\t\t\t\t}","\t\t\t}","\t\t}","\t\t","\t}","\t","\treturn true;","}","","function checkSSID(s)","{ ","","\tvar patrn=/[^A-Za-z0-9-_\\x20\\.]/;","","    if(patrn.test(s)==true)","\t{","\t\treturn false;","\t}","\telse","\t\treturn true;","","}","","","function hideChForWep(_tap,_num,_Bool)","{","\t var _tmpFlag;","","\t for(var _i=0; _i < _num; _i++)","\t {","\t\t _tmpFlag=_tap+(_i+1);","\t\t _tmpFlag = document.getElementById(_tmpFlag);","\t\t _tmpFlag.style.display=_Bool;","\t }","}","","function getNameValue(_Name)","{","      var _tmp = document.getElementsByName(_Name);","      for (var i=0;i<_tmp.length;i++) {","        ","        if (_tmp[i].checked) {","          return _tmp[i].value;","        }","      }","\t  ","\t  return null;","}","","function IPtoNumber(_tmp)","{","\tvar _tmpSplit = _tmp.split('.');","\tif(_tmpSplit.length==4)","\t{","\t\t_tmp = Number(_tmpSplit[0])+'.'+Number(_tmpSplit[1])+'.'+Number(_tmpSplit[2])+'.'+Number(_tmpSplit[3]);","\t}\t","\treturn _tmp;\t","}","","/*","说明：IPKeyUp和IPKeyDown需要传递两个参数","\t\t参数e表示这个键盘down或up这个事件；","\t\t参数v表示这个对象。函数中的v.id表示这个对象的id。","\t\tprefix表示把这个id按\"_\"分割的前缀，idx表示分割的后缀。","\t\t因此html文件中对象的id应该命名为 “前缀_数字后缀”的形式，例如在pf_edit中的一个id命名为\"INPUTIpAddr_1\"","*/","function IPKeyUp(e,v)","{","\tvar prefix=(v.id).split('_')[0]+'_';","\tvar idx=(v.id).split('_')[1];","\t","\tvar obj=document.getElementById(prefix+idx);","\tvar len;","\tvar nextidx = Number(idx) + 1;","\tvar keynum;"," ","    if(window.event)","\t\tkeynum = event.keyCode;","\telse if(e.which) // Netscape/Firefox/Opera","\t\tkeynum = e.which;"," "," ","\tif(keynum == TAB_CODE || keynum == BS_CODE) return;","","\tlen = obj.value.length;","","\tif(len == 3 || keynum == DOT_CODE || keynum == DOT2_CODE)","\t{\t","\t\tif(len == 0) return;","\t\tobj=document.getElementById(prefix+nextidx);","\t\tif(obj) obj.focus();","\t\treturn;","\t}","}","","function IPKeyDown(e,v)","{","\tvar prefix=(v.id).split('_')[0]+'_';","\tvar idx=(v.id).split('_')[1];","\tvar obj=document.getElementById(prefix+idx);","\tvar previdx = Number(idx) - 1;"," \tvar keynum;","       \tif(window.event)","\t\tkeynum = event.keyCode;","\telse if(e.which) // Netscape/Firefox/Opera","\t\tkeynum = e.which;"," ","\tif((keynum == TAB_CODE)","\t    || (keynum == DEL_CODE) ","\t    || (keynum == BS_CODE) )","\t{","\t\tif(obj.value.length == 0 && keynum == BS_CODE)","\t\t{","\t\t\tobj=document.getElementById(prefix+previdx);","\t\t\tif(obj) obj.focus();","\t\t}","\t\treturn 1;","\t}"," "," ","\treturn CheckNum(keynum);","}","","function CheckNum(keynum)","{","\tif( ((keynum >= 96) && keynum <= 105) ","\t  ||((keynum >= 48) && keynum <= 57)","\t  )","\t\treturn true;","\treturn false;","}","","function checkNameBlank(str)","{","\tvar patrn = /^\\S{1,100}$/;","\tvar tmp = str;","\tif(str == \"\")","\t{","\t\treturn false;","\t}","\telse","\t{   ","\t    if(!patrn.exec(str)) ","\t\t{","\t\t\tstr = str.replace(/\\s/g,\"\");","\t\t}","\t\tif (tmp == str) ","\t\t{","\t\t    return true;","\t\t}","\t\telse","\t\t{","\t\t\treturn str;","\t\t}","\t}","}","","/*","函数作用：实现IP地址用4个框表示时，页面返回值时，将get到的值分配给相应的4个框","参数说明： ip 需要返回到页面上的IP地址;","          pageip1--pageip4 页面上4个框对应的id","*/","function OnloadIP4hops(ip, pageip1, pageip2, pageip3, pageip4)","{","\t    var myIP=new Array();","        var ip_str = ip;","        myIP[0] = myIP[1] = myIP[2] = myIP[3] = \"\";","","        if(ip_str != \"\")","        { ","             var tmp = ip_str.split(\".\");","             myIP[0] = tmp[0];","\t\t\t myIP[1] = tmp[1];","\t\t\t myIP[2] = tmp[2];","\t\t\t myIP[3] = tmp[3];\t","        }","\t  $(pageip1).value = myIP[0] ;","\t  $(pageip2).value = myIP[1] ;","      $(pageip3).value = myIP[2];","\t  if(pageip4!='')","\t"]},{"start":{"row":12,"column":0},"end":{"row":619,"column":6},"action":"insert","lines":["","/*检测是否全部是数字*/","function validateKey(str) {","    for (var i = 0; i < str.length; i++) {","        if ((str.charAt(i) >= '0' && str.charAt(i) <= '9') || (str.charAt(i) == '.'))","            continue;","        return 0;","    }","    return 1;","}","","function getDigit(str, num) {","    i = 1;","    if (num != 1) {","        while (i != num && str.length != 0) {","            if (str.charAt(0) == '.') {","                i++;","            }","            str = str.substring(1);","        }","        if (i != num)","            return -1;","    }","    for (i = 0; i < str.length; i++) {","        if (str.charAt(i) == '.') {","            str = str.substring(0, i);","            break;","        }","    }","    if (str.length == 0)","        return -1;","    var d = parseInt(str, 10);","    return d;","}","","/*判断地址是否在范围内*/","function checkDigitRange(str, num, min, max) {","    var d = getDigit(str, num);","    if (d > max || d < min)","        return false;","    return true;","}","","","function checkIpAddr(_value) {","    if (_value == \"...\") {","        alertError('CheckIpValue1', 1);","        return false;","    }","","    if (validateKey(_value) == 0) {","        alertError('CheckIpValue2', 1);","        return false;","    }","    if (!checkDigitRange(_value, 1, 1, 223)) {","        alertError('CheckIpValue3', 1);","        return false;","    }","","    if (getDigit(_value, 1) == 127) {","        alertError('CheckIpValue4', 1);","        return false;","    }","","    if (!checkDigitRange(_value, 2, 0, 255)) {","        alertError('CheckIpValue5', 1);","        return false;","    }","    if (!checkDigitRange(_value, 3, 0, 255)) {","        alertError('CheckIpValue6', 1);","        return false;","    }","    if (!checkDigitRange(_value, 4, 1, 254)) {","        alertError('CheckIpValue7', 1);","        return false;","    }","","    return true;","}","","","/*检测Mask地址是否合法*/","function checkMask(str, num) {","    var d = getDigit(str, num);","    if (!(d == 0 || d == 128 || d == 192 || d == 224 || d == 240 || d == 248 || d == 252 || d == 254 || d == 255))","        return false;","    return true;","}","","function isValidMask2(str) {","","    var _value = str.split('.');","    var _numValue = 0;","    var _flag = 0;","","    for (var _i = 0; _i < _value.length; _i++) {","        var _numValue = parseInt(_value[_i], 10);","","        for (var _j = 0; _j < 8; _j++) {","            if (parseInt(_numValue & 128, 10) == 128) {","                if (_flag == 1) {","                    return false;","                }","            }","            else if (parseInt(_numValue & 128, 10) != 128) {","                _flag = 1;","            }","","            _numValue = _numValue << 1;","","        }","","    }","","    return true;","","}","","","/*判断子网掩码的合法性*/","function isValidMask(_value) {","","    if (_value == \"...\") {","        alertError('CheckMaskValue1', 1);","        return false;","    }","","","    if (_value == \"255.255.255.255\") {","        alertError('CheckMaskValue2', 1);","        return false;","","    }","","    if (_value == \"0.0.0.0\") {","        alertError('CheckMaskValue3', 1);","        return false;","","    }","","    if (validateKey(_value) == 0) {","","        alertError('CheckMaskValue4', 1);","        return false;","    }","","    if (!checkMask(_value, 1)) {","        alertError('CheckMaskValue5', 1);","        return false;","    }","","    if (!checkMask(_value, 2)) {","        alertError('CheckMaskValue5', 1);","        return false;","    }","","    if (!checkMask(_value, 3)) {","        alertError('CheckMaskValue5', 1);","        return false;","    }","","    if (!checkMask(_value, 4)) {","        alertError('CheckMaskValue5', 1);","        return false;","    }","","    if (!((getDigit(_value, 1) >= getDigit(_value, 2)) &&","            (getDigit(_value, 2) >= getDigit(_value, 3)) &&","            (getDigit(_value, 3) >= getDigit(_value, 4)))) {","        alertError('CheckMaskValue5', 1);","        return false;","    }","","    if (!isValidMask2(_value)) {","        alertError('CheckMaskValue5', 1);","        return false;","    }","","    return true;","}","","//for lan.html page checking Ip & Mask is valid value","function checkIp_Mask(lanIp, lanMask) {","","    var count = 0;","    var count2 = 0;","    var l1a_n, l1m_n;","","    var _lanIp = lanIp.split('.');","    var _lanMask = lanMask.split('.');","","    for (i = 0; i < 4; i++) {","        l1a_n = parseInt(_lanIp[i]);","        l1m_n = parseInt(_lanMask[i]);","        if ((l1a_n & l1m_n) == 0)","            count++;","        else if ((l1a_n & l1m_n) == 1)","            count2++;","    }","    if (count == 4) {","        alertError('CheckIp_Mask', 1);","        return false;","    }","    else if (count2 == 4) {","        alertError('CheckIp_Mask', 1);","        return false;","    }","    else","        return true;","}","","","/*判断网关地址是否合法*/","function checkGatewayAddr(_value) {","","    if (_value == \"...\") {","        alertError('CheckGatewayValue1', 1);","        return false;","    }","","    if (validateKey(_value) == 0) {","        alertError('CheckGatewayValue2', 1);","        return false;","    }","    if (!checkDigitRange(_value, 1, 1, 223)) {","        alertError('CheckGatewayValue3', 1);","        return false;","    }","    if (getDigit(_value, 1) == 127) {","        alertError('CheckGatewayValue4', 1);","        return false;","","    }","","    if (!checkDigitRange(_value, 2, 0, 255)) {","        alertError('CheckGatewayValue5', 1);","        return false;","    }","","    if (!checkDigitRange(_value, 3, 0, 255)) {","        alertError('CheckGatewayValue6', 1);","        return false;","    }","","    if (!checkDigitRange(_value, 4, 1, 254)) {","        alertError('CheckGatewayValue7', 1);","        return false;","    }","    return true;","}","","","/*判断DNS地址是否合法*/","function checkPrimaryDNS(_id, _value, _flag) {","    var INPUT_ID = _id;","    var INPUT_value = _value;","    var INPUT_flag = _flag;","","    if (INPUT_value == \"\") {","        if (INPUT_flag != 'Empty') {","            DealWith.Wrong(INPUT_ID, 'DNS address format error:It should not be empty.');","            return false;","        }","        else {","            return true;","        }","    }","    if (validateKey(INPUT_value) == 0) {","        DealWith.Wrong(INPUT_ID, 'It should be a [0-9] number.');","        return false;","    }","    if (!checkDigitRange(INPUT_value, 1, 1, 223)) {","        DealWith.Wrong(INPUT_ID, 'DNS address format error:Please fill the first digit numbers between (1-223).');","        return false;","    }","    if (getDigit(INPUT_value, 1) == 127) {","        DealWith.Wrong(INPUT_ID, 'DNS address format error:The first digit numbers can\\'t be 127 .');","        return false;","    }","    if (!checkDigitRange(INPUT_value, 2, 0, 255)) {","        DealWith.Wrong(INPUT_ID, 'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","        return false;","    }","    if (!checkDigitRange(INPUT_value, 3, 0, 255)) {","        DealWith.Wrong(INPUT_ID, 'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","        return false;","    }","    if (!checkDigitRange(INPUT_value, 4, 1, 254)) {","        DealWith.Wrong(INPUT_ID, 'DNS address format error:Please fill the last digit numbers between (1-254).');","        return false;","    }","    return true;","}","","function checkSecondaryDNS(_value) {","    if (validateKey(_value) == 0) {","        DealWith.Wrong('INPUT_ServerSec', 'It should be a [0-9] number.');","        return false;","    }","    if (!checkDigitRange(_value, 1, 1, 223)) {","        DealWith.Wrong('INPUT_ServerSec', 'DNS address format error:Please fill the first digit numbers between (1-223).');","        return false;","    }","    if (getDigit(_value, 1) == 127) {","        DealWith.Wrong('INPUT_ServerSec', 'DNS address format error:The first digit numbers can\\'t be 127 .');","        return false;","    }","    if (!checkDigitRange(_value, 2, 0, 255)) {","        DealWith.Wrong('INPUT_ServerSec', 'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","        return false;","    }","    if (!checkDigitRange(_value, 3, 0, 255)) {","        DealWith.Wrong('INPUT_ServerSec', 'DNS address format error:It should be filled with 4 digit numbers as (xxx.xxx.xxx.xxx).');","        return false;","    }","    if (!checkDigitRange(_value, 4, 1, 254)) {","        DealWith.Wrong('INPUT_ServerSec', 'DNS address format error:Please fill the last digit numbers between (1-254).');","        return false;","    }","    return true;","}","","function checkHex(str) {","    for (var i = 0; i < str.length; i++) {","        if ((str.charAt(i) >= '0' && str.charAt(i) <= '9') ||","            (str.charAt(i) >= 'a' && str.charAt(i) <= 'f') ||","            (str.charAt(i) >= 'A' && str.charAt(i) <= 'F')) {","            continue;","        }","        else {","            return false;","        }","    }","}","","function checkSecurityKey(str) {","    if ($('SELECT_Encryptstrength').value == '64bits') {","        if (checkHex(str) == false || str.length != 10) {","            alertError(\"CheckSecurityKey1\");","            return false;","        }","    }","    else if ($('SELECT_Encryptstrength').value == '128bits') {","        if (checkHex(str) == false || str.length != 26) {","            alertError(\"CheckSecurityKey2\");","            return false;","        }","    }","","}","","function checkWord(s) {","","    var patrn = /(\\|)|(\\\\)|(\\`)/;","    if (patrn.test(s) == true) {","        alertError('CheckPassphrase');","        return false;","    }","    else {","        return true;","    }","","}","","function checkBlank(str) {","    if (str.charAt(str.length - 1) == \" \" || str.charAt(0) == \" \") {","        alertError('CheckBlank');","    }","    str = str.replace(/(^\\s*)|(\\s*$)/g, \"\");","    return str;","}","","function checkPassphrase(str) {","","","    if (str.length == 64) {","        if (checkHex(str) == false) {","            alertError(\"CheckSecurityPwd1\");","            return false;","        }","    }","    if (str.length < 8) {","        alertError(\"CheckSecurityPwd2\");","        return false;","    }","","    if (checkWord(str) == false)","        return false;","    else","        return true;","}","","function checkNameBlank(str) {","    var patrn = /^\\S{1,100}$/;","    var tmp = str;","    if (str == \"\") {","        return false;","    }","    else {","        if (!patrn.exec(str)) {","            str = str.replace(/\\s/g, \"\");","        }","        if (tmp == str) {","            return true;","        }","        else {","            return str;","        }","    }","}","","","function isSameSubNet(lan1Ip, lan1Mask, lan2Ip, lan2Mask) {","","    var count = 0;","","    lan1a = lan1Ip.split('.');","    lan1m = lan1Mask.split('.');","    lan2a = lan2Ip.split('.');","    lan2m = lan2Mask.split('.');","","    for (i = 0; i < 4; i++) {","        l1a_n = parseInt(lan1a[i]);","        l1m_n = parseInt(lan1m[i]);","        l2a_n = parseInt(lan2a[i]);","        l2m_n = parseInt(lan2m[i]);","        if ((l1a_n & l1m_n) == (l2a_n & l2m_n))","            count++;","    }","    if (count == 4)","        return true;","    else","        return false;","}","","","function checkURL(s) {","","    var patrn = /^\\w+$/;","    var patrn2 = /\\./;","    var patrn3 = /\\//;","","    for (var i = 0; i < s.length; i++) {","        if (!patrn.exec(s.substr(i, 1))) {","            if (!patrn2.exec(s.substr(i, 1))) {","                if (!patrn3.exec(s.substr(i, 1))) {","                    alert('###nomatch');","                    return false;","                }","            }","        }","","    }","","    return true;","}","","function checkSSID(s) {","","    var patrn = /[^A-Za-z0-9-_\\x20\\.]/;","","    if (patrn.test(s) == true) {","        return false;","    }","    else","        return true;","","}","","","function hideChForWep(_tap, _num, _Bool) {","    var _tmpFlag;","","    for (var _i = 0; _i < _num; _i++) {","        _tmpFlag = _tap + (_i + 1);","        _tmpFlag = document.getElementById(_tmpFlag);","        _tmpFlag.style.display = _Bool;","    }","}","","function getNameValue(_Name) {","    var _tmp = document.getElementsByName(_Name);","    for (var i = 0; i < _tmp.length; i++) {","","        if (_tmp[i].checked) {","            return _tmp[i].value;","        }","    }","","    return null;","}","","function IPtoNumber(_tmp) {","    var _tmpSplit = _tmp.split('.');","    if (_tmpSplit.length == 4) {","        _tmp = Number(_tmpSplit[0]) + '.' + Number(_tmpSplit[1]) + '.' + Number(_tmpSplit[2]) + '.' + Number(_tmpSplit[3]);","    }","    return _tmp;","}","","/*","说明：IPKeyUp和IPKeyDown需要传递两个参数","\t\t参数e表示这个键盘down或up这个事件；","\t\t参数v表示这个对象。函数中的v.id表示这个对象的id。","\t\tprefix表示把这个id按\"_\"分割的前缀，idx表示分割的后缀。","\t\t因此html文件中对象的id应该命名为 “前缀_数字后缀”的形式，例如在pf_edit中的一个id命名为\"INPUTIpAddr_1\"","*/","function IPKeyUp(e, v) {","    var prefix = (v.id).split('_')[0] + '_';","    var idx = (v.id).split('_')[1];","","    var obj = document.getElementById(prefix + idx);","    var len;","    var nextidx = Number(idx) + 1;","    var keynum;","","    if (window.event)","        keynum = event.keyCode;","    else if (e.which) // Netscape/Firefox/Opera","        keynum = e.which;","","","    if (keynum == TAB_CODE || keynum == BS_CODE) return;","","    len = obj.value.length;","","    if (len == 3 || keynum == DOT_CODE || keynum == DOT2_CODE) {","        if (len == 0) return;","        obj = document.getElementById(prefix + nextidx);","        if (obj) obj.focus();","        return;","    }","}","","function IPKeyDown(e, v) {","    var prefix = (v.id).split('_')[0] + '_';","    var idx = (v.id).split('_')[1];","    var obj = document.getElementById(prefix + idx);","    var previdx = Number(idx) - 1;","    var keynum;","    if (window.event)","        keynum = event.keyCode;","    else if (e.which) // Netscape/Firefox/Opera","        keynum = e.which;","","    if ((keynum == TAB_CODE) ||","        (keynum == DEL_CODE) ||","        (keynum == BS_CODE)) {","        if (obj.value.length == 0 && keynum == BS_CODE) {","            obj = document.getElementById(prefix + previdx);","            if (obj) obj.focus();","        }","        return 1;","    }","","","    return CheckNum(keynum);","}","","function CheckNum(keynum) {","    if (((keynum >= 96) && keynum <= 105) ||","        ((keynum >= 48) && keynum <= 57)","    )","        return true;","    return false;","}","","function checkNameBlank(str) {","    var patrn = /^\\S{1,100}$/;","    var tmp = str;","    if (str == \"\") {","        return false;","    }","    else {","        if (!patrn.exec(str)) {","            str = str.replace(/\\s/g, \"\");","        }","        if (tmp == str) {","            return true;","        }","        else {","            return str;","        }","    }","}","","/*","函数作用：实现IP地址用4个框表示时，页面返回值时，将get到的值分配给相应的4个框","参数说明： ip 需要返回到页面上的IP地址;","          pageip1--pageip4 页面上4个框对应的id","*/","function OnloadIP4hops(ip, pageip1, pageip2, pageip3, pageip4) {","    var myIP = new Array();","    var ip_str = ip;","    myIP[0] = myIP[1] = myIP[2] = myIP[3] = \"\";","","    if (ip_str != \"\") {","        var tmp = ip_str.split(\".\");","        myIP[0] = tmp[0];","        myIP[1] = tmp[1];","        myIP[2] = tmp[2];","        myIP[3] = tmp[3];","    }","    $(pageip1).value = myIP[0];","    $(pageip2).value = myIP[1];","    $(pageip3).value = myIP[2];","    if (pageip4 != '')","      "]}]]},"ace":{"folds":[],"scrolltop":8181.5,"scrollleft":0,"selection":{"start":{"row":593,"column":23},"end":{"row":593,"column":23},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":583,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1473504280812,"hash":"704c74f703af09f73d1b85d0dc8979cd3ca8b8b4"}