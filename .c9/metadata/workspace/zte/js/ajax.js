{"filter":false,"title":"ajax.js","tooltip":"/zte/js/ajax.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":147,"column":0},"action":"insert","lines":["/*---- Ajax相关函数-----*/","var Ajax = ","{","\tgetInstance : function(_url,_queryString,_recvType,_resultFunc, _errorFunc)","\t{","\t\tthis.url = _url;","\t\tthis.queryString = _queryString;","\t\tthis.xmlHttp = Ajax.createXmlHttp();","\t\tif (this.xmlHttp == null) {","\t\t\talert(\"getInstance faied!\");","\t\t\treturn null;","\t\t}","\t\tvar _objxml = this.xmlHttp;","\t\t_objxml.onreadystatechange = function (){Ajax.handleStateChange(_objxml,_recvType,_resultFunc,_errorFunc)};","\t\t","\t\treturn this;","\t},","","\tcreateXmlHttp : function()","\t{","\t\tvar _xmlHttp = null;","\t\ttry{","\t\t\t_xmlHttp=new XMLHttpRequest();// Firefox, Opera 8.0+, Safari","\t\t} catch (e){}","\t\ttry\t{","\t\t\t_xmlHttp=new ActiveXObject(\"Msxml2.XMLHTTP\");// Internet Explorer 6","\t\t}catch (e){}","\t\ttry\t{","\t\t\t_xmlHttp=new ActiveXObject(\"Microsoft.XMLHTTP\");// Internet Explorer 5.5","\t\t}catch (e){}","\t\t","\t\treturn _xmlHttp;","\t},","\t","\thandleStateChange : function (_xmlHttp,_recvType,_resultFunc, _errorFunc) ","\t{","    \tif (_xmlHttp.readyState == 4)","    \t{","\t        if (_xmlHttp.status == 200) {","\t        \t_resultFunc(_recvType?_xmlHttp.responseXML:_xmlHttp.responseText);","\t        } else {","\t        \tif( _errorFunc == undefined) {","\t        \t\t/*","\t\t\t\t\talert(\"Ooccured unexpected error on requested page!\" ","\t        \t\t\t+ \" status=\" + _xmlHttp.status ","\t        \t\t\t+ \", statusText=\" + _xmlHttp.statusText","\t        \t\t\t+ \", responseText=\" + _xmlHttp.responseText);","\t\t\t\t\t*/","\t\t\t\t}","\t        \telse","\t        \t\t_errorFunc(_xmlHttp.readyState, _xmlHttp.status);","\t        }","\t    }","    },","    ","    createRequestBody : function(_objForm)","\t{","\t\tvar arrParams=new Array();","\t\tfor(var i=0;i<_objForm.elements.length;i++)","\t\t{","\t\t\tvar strParam = encodeURIComponent(_objForm.elements[i].name);","\t\t\tstrParam += \"=\";","\t\t\tstrParam += encodeURIComponent(_objForm.elements[i].value);","\t\t\tarrParams.push(strParam);","\t\t}","\t\treturn arrParams.join(\"&\");","\t},","\t","\tget : function()","\t{","\t\tvar _url = this.url;","\t\tif(_url.indexOf('?') == -1)","\t\t\t_url += '?timestamp=' + new Date().getTime();","\t\telse","\t\t\t_url += \"&timestamp=\" + new Date().getTime();","\t\tif(this.queryString.length > 0)","\t\t\t_url += \"&\" + this.queryString;","","\t\tthis.xmlHttp.open(\"GET\", _url, true);","\t\tthis.xmlHttp.send(null);","\t},","\t","\tpost : function(_objForm)","\t{","\t\tvar _url = this.url;","\t\tif(_url.indexOf('?') == -1)","\t\t\t_url += '?timestamp=' + new Date().getTime();","\t\telse","\t\t\t_url += \"&timestamp=\" + new Date().getTime();","","\t\tthis.xmlHttp.open(\"POST\", _url, true);","\t\tthis.xmlHttp.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");","\t\tthis.xmlHttp.send(Ajax.createRequestBody(_objForm));","\t},","\t","\tabort : function()","\t{","\t\tthis.xmlHttp.onreadystatechange = function(){};","\t\tthis.xmlHttp.abort();","\t\tthis.xmlHttp.onreadystatechange = function (){Ajax.handleStateChange(_objxml,_recvType,_resultFunc,_errorFunc)};","\t}","}","","","var Xml = {","\tloadDoc : function(_xmlPath)","\t{","\t\tvar _xmlDoc = null;","\t\ttry\t{","\t\t\t_xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\"); //Internet Explorer","\t\t} catch(e) {","\t\t\ttry {","\t\t\t\t_xmlDoc = document.implementation.createDocument(\"\",\"\",null);//Firefox, Mozilla, Opera, etc.","\t\t\t}catch(e) {","\t\t\t\talert(e.message);","\t\t\t}","\t\t}","","\t\ttry {","\t\t\t_xmlDoc.async=false;","\t\t\t_xmlDoc.load(_xmlPath);","\t\t} catch(e) {","\t\t\talert(e.message);","\t\t}","\t\treturn _xmlDoc;","\t},","","\tloadString : function(_xmlString)","\t{","\t\tvar _xmlDoc = null;","\t\ttry {","\t\t\t_xmlDoc=new ActiveXObject(\"Microsoft.XMLDOM\");//Internet Explorer","\t\t\t_xmlDoc.async=\"false\";","\t\t\t_xmlDoc.loadXML(_xmlString);","\t\t} catch(e) {","\t\t\ttry","\t\t\t{","\t\t\t\tparser=new DOMParser();  //Firefox, Mozilla, Opera, etc.","\t\t\t\t_xmlDoc=parser.parseFromString(_xmlString,\"text/xml\");","\t\t\t} catch(e) {","\t\t\t\talert(e.message);","\t\t\t}","\t\t}","\t\treturn _xmlDoc;","\t}","","}",""],"id":1}],[{"start":{"row":1,"column":11},"end":{"row":2,"column":0},"action":"remove","lines":["",""],"id":2},{"start":{"row":2,"column":0},"end":{"row":143,"column":1},"action":"remove","lines":["\tgetInstance : function(_url,_queryString,_recvType,_resultFunc, _errorFunc)","\t{","\t\tthis.url = _url;","\t\tthis.queryString = _queryString;","\t\tthis.xmlHttp = Ajax.createXmlHttp();","\t\tif (this.xmlHttp == null) {","\t\t\talert(\"getInstance faied!\");","\t\t\treturn null;","\t\t}","\t\tvar _objxml = this.xmlHttp;","\t\t_objxml.onreadystatechange = function (){Ajax.handleStateChange(_objxml,_recvType,_resultFunc,_errorFunc)};","\t\t","\t\treturn this;","\t},","","\tcreateXmlHttp : function()","\t{","\t\tvar _xmlHttp = null;","\t\ttry{","\t\t\t_xmlHttp=new XMLHttpRequest();// Firefox, Opera 8.0+, Safari","\t\t} catch (e){}","\t\ttry\t{","\t\t\t_xmlHttp=new ActiveXObject(\"Msxml2.XMLHTTP\");// Internet Explorer 6","\t\t}catch (e){}","\t\ttry\t{","\t\t\t_xmlHttp=new ActiveXObject(\"Microsoft.XMLHTTP\");// Internet Explorer 5.5","\t\t}catch (e){}","\t\t","\t\treturn _xmlHttp;","\t},","\t","\thandleStateChange : function (_xmlHttp,_recvType,_resultFunc, _errorFunc) ","\t{","    \tif (_xmlHttp.readyState == 4)","    \t{","\t        if (_xmlHttp.status == 200) {","\t        \t_resultFunc(_recvType?_xmlHttp.responseXML:_xmlHttp.responseText);","\t        } else {","\t        \tif( _errorFunc == undefined) {","\t        \t\t/*","\t\t\t\t\talert(\"Ooccured unexpected error on requested page!\" ","\t        \t\t\t+ \" status=\" + _xmlHttp.status ","\t        \t\t\t+ \", statusText=\" + _xmlHttp.statusText","\t        \t\t\t+ \", responseText=\" + _xmlHttp.responseText);","\t\t\t\t\t*/","\t\t\t\t}","\t        \telse","\t        \t\t_errorFunc(_xmlHttp.readyState, _xmlHttp.status);","\t        }","\t    }","    },","    ","    createRequestBody : function(_objForm)","\t{","\t\tvar arrParams=new Array();","\t\tfor(var i=0;i<_objForm.elements.length;i++)","\t\t{","\t\t\tvar strParam = encodeURIComponent(_objForm.elements[i].name);","\t\t\tstrParam += \"=\";","\t\t\tstrParam += encodeURIComponent(_objForm.elements[i].value);","\t\t\tarrParams.push(strParam);","\t\t}","\t\treturn arrParams.join(\"&\");","\t},","\t","\tget : function()","\t{","\t\tvar _url = this.url;","\t\tif(_url.indexOf('?') == -1)","\t\t\t_url += '?timestamp=' + new Date().getTime();","\t\telse","\t\t\t_url += \"&timestamp=\" + new Date().getTime();","\t\tif(this.queryString.length > 0)","\t\t\t_url += \"&\" + this.queryString;","","\t\tthis.xmlHttp.open(\"GET\", _url, true);","\t\tthis.xmlHttp.send(null);","\t},","\t","\tpost : function(_objForm)","\t{","\t\tvar _url = this.url;","\t\tif(_url.indexOf('?') == -1)","\t\t\t_url += '?timestamp=' + new Date().getTime();","\t\telse","\t\t\t_url += \"&timestamp=\" + new Date().getTime();","","\t\tthis.xmlHttp.open(\"POST\", _url, true);","\t\tthis.xmlHttp.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");","\t\tthis.xmlHttp.send(Ajax.createRequestBody(_objForm));","\t},","\t","\tabort : function()","\t{","\t\tthis.xmlHttp.onreadystatechange = function(){};","\t\tthis.xmlHttp.abort();","\t\tthis.xmlHttp.onreadystatechange = function (){Ajax.handleStateChange(_objxml,_recvType,_resultFunc,_errorFunc)};","\t}","}","","","var Xml = {","\tloadDoc : function(_xmlPath)","\t{","\t\tvar _xmlDoc = null;","\t\ttry\t{","\t\t\t_xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\"); //Internet Explorer","\t\t} catch(e) {","\t\t\ttry {","\t\t\t\t_xmlDoc = document.implementation.createDocument(\"\",\"\",null);//Firefox, Mozilla, Opera, etc.","\t\t\t}catch(e) {","\t\t\t\talert(e.message);","\t\t\t}","\t\t}","","\t\ttry {","\t\t\t_xmlDoc.async=false;","\t\t\t_xmlDoc.load(_xmlPath);","\t\t} catch(e) {","\t\t\talert(e.message);","\t\t}","\t\treturn _xmlDoc;","\t},","","\tloadString : function(_xmlString)","\t{","\t\tvar _xmlDoc = null;","\t\ttry {","\t\t\t_xmlDoc=new ActiveXObject(\"Microsoft.XMLDOM\");//Internet Explorer","\t\t\t_xmlDoc.async=\"false\";","\t\t\t_xmlDoc.loadXML(_xmlString);","\t\t} catch(e) {","\t\t\ttry","\t\t\t{","\t\t\t\tparser=new DOMParser();  //Firefox, Mozilla, Opera, etc.","\t\t\t\t_xmlDoc=parser.parseFromString(_xmlString,\"text/xml\");","\t\t\t} catch(e) {","\t\t\t\talert(e.message);","\t\t\t}","\t\t}","\t\treturn _xmlDoc;","\t"]},{"start":{"row":2,"column":0},"end":{"row":144,"column":4},"action":"insert","lines":["    getInstance: function(_url, _queryString, _recvType, _resultFunc, _errorFunc) {","        this.url = _url;","        this.queryString = _queryString;","        this.xmlHttp = Ajax.createXmlHttp();","        if (this.xmlHttp == null) {","            alert(\"getInstance faied!\");","            return null;","        }","        var _objxml = this.xmlHttp;","        _objxml.onreadystatechange = function() {","            Ajax.handleStateChange(_objxml, _recvType, _resultFunc, _errorFunc)","        };","","        return this;","    },","","    createXmlHttp: function() {","        var _xmlHttp = null;","        try {","            _xmlHttp = new XMLHttpRequest(); // Firefox, Opera 8.0+, Safari","        }","        catch (e) {}","        try {","            _xmlHttp = new ActiveXObject(\"Msxml2.XMLHTTP\"); // Internet Explorer 6","        }","        catch (e) {}","        try {","            _xmlHttp = new ActiveXObject(\"Microsoft.XMLHTTP\"); // Internet Explorer 5.5","        }","        catch (e) {}","","        return _xmlHttp;","    },","","    handleStateChange: function(_xmlHttp, _recvType, _resultFunc, _errorFunc) {","        if (_xmlHttp.readyState == 4) {","            if (_xmlHttp.status == 200) {","                _resultFunc(_recvType ? _xmlHttp.responseXML : _xmlHttp.responseText);","            }","            else {","                if (_errorFunc == undefined) {","                    /*","\t\t\t\t\talert(\"Ooccured unexpected error on requested page!\" ","\t        \t\t\t+ \" status=\" + _xmlHttp.status ","\t        \t\t\t+ \", statusText=\" + _xmlHttp.statusText","\t        \t\t\t+ \", responseText=\" + _xmlHttp.responseText);","\t\t\t\t\t*/","                }","                else","                    _errorFunc(_xmlHttp.readyState, _xmlHttp.status);","            }","        }","    },","","    createRequestBody: function(_objForm) {","        var arrParams = new Array();","        for (var i = 0; i < _objForm.elements.length; i++) {","            var strParam = encodeURIComponent(_objForm.elements[i].name);","            strParam += \"=\";","            strParam += encodeURIComponent(_objForm.elements[i].value);","            arrParams.push(strParam);","        }","        return arrParams.join(\"&\");","    },","","    get: function() {","        var _url = this.url;","        if (_url.indexOf('?') == -1)","            _url += '?timestamp=' + new Date().getTime();","        else","            _url += \"&timestamp=\" + new Date().getTime();","        if (this.queryString.length > 0)","            _url += \"&\" + this.queryString;","","        this.xmlHttp.open(\"GET\", _url, true);","        this.xmlHttp.send(null);","    },","","    post: function(_objForm) {","        var _url = this.url;","        if (_url.indexOf('?') == -1)","            _url += '?timestamp=' + new Date().getTime();","        else","            _url += \"&timestamp=\" + new Date().getTime();","","        this.xmlHttp.open(\"POST\", _url, true);","        this.xmlHttp.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");","        this.xmlHttp.send(Ajax.createRequestBody(_objForm));","    },","","    abort: function() {","        this.xmlHttp.onreadystatechange = function() {};","        this.xmlHttp.abort();","        this.xmlHttp.onreadystatechange = function() {","            Ajax.handleStateChange(_objxml, _recvType, _resultFunc, _errorFunc)","        };","    }","}","","","var Xml = {","    loadDoc: function(_xmlPath) {","        var _xmlDoc = null;","        try {","            _xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\"); //Internet Explorer","        }","        catch (e) {","            try {","                _xmlDoc = document.implementation.createDocument(\"\", \"\", null); //Firefox, Mozilla, Opera, etc.","            }","            catch (e) {","                alert(e.message);","            }","        }","","        try {","            _xmlDoc.async = false;","            _xmlDoc.load(_xmlPath);","        }","        catch (e) {","            alert(e.message);","        }","        return _xmlDoc;","    },","","    loadString: function(_xmlString) {","        var _xmlDoc = null;","        try {","            _xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\"); //Internet Explorer","            _xmlDoc.async = \"false\";","            _xmlDoc.loadXML(_xmlString);","        }","        catch (e) {","            try {","                parser = new DOMParser(); //Firefox, Mozilla, Opera, etc.","                _xmlDoc = parser.parseFromString(_xmlString, \"text/xml\");","            }","            catch (e) {","                alert(e.message);","            }","        }","        return _xmlDoc;","    "]}]]},"ace":{"folds":[],"scrolltop":1633,"scrollleft":0,"selection":{"start":{"row":142,"column":9},"end":{"row":142,"column":9},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":115,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1473504170314,"hash":"a28df56de37b7dc34d52f8aa27a41d959f8e640c"}